var Gk=Object.defineProperty;var Yk=(t,e,r)=>e in t?Gk(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var ve=(t,e,r)=>Yk(t,typeof e!="symbol"?e+"":e,r);function Xk(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var _t=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Qk(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Jk(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var Fv={exports:{}},yu={},Bv={exports:{}},Ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Go=Symbol.for("react.element"),Zk=Symbol.for("react.portal"),eS=Symbol.for("react.fragment"),tS=Symbol.for("react.strict_mode"),rS=Symbol.for("react.profiler"),nS=Symbol.for("react.provider"),iS=Symbol.for("react.context"),sS=Symbol.for("react.forward_ref"),aS=Symbol.for("react.suspense"),oS=Symbol.for("react.memo"),lS=Symbol.for("react.lazy"),wg=Symbol.iterator;function cS(t){return t===null||typeof t!="object"?null:(t=wg&&t[wg]||t["@@iterator"],typeof t=="function"?t:null)}var zv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Uv=Object.assign,$v={};function ua(t,e,r){this.props=t,this.context=e,this.refs=$v,this.updater=r||zv}ua.prototype.isReactComponent={};ua.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ua.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Wv(){}Wv.prototype=ua.prototype;function Tp(t,e,r){this.props=t,this.context=e,this.refs=$v,this.updater=r||zv}var Np=Tp.prototype=new Wv;Np.constructor=Tp;Uv(Np,ua.prototype);Np.isPureReactComponent=!0;var vg=Array.isArray,Hv=Object.prototype.hasOwnProperty,Ap={current:null},Vv={key:!0,ref:!0,__self:!0,__source:!0};function Kv(t,e,r){var n,i={},s=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)Hv.call(e,n)&&!Vv.hasOwnProperty(n)&&(i[n]=e[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:Go,type:t,key:s,ref:a,props:i,_owner:Ap.current}}function uS(t,e){return{$$typeof:Go,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function jp(t){return typeof t=="object"&&t!==null&&t.$$typeof===Go}function dS(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var xg=/\/+/g;function cd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?dS(""+t.key):e.toString(36)}function ac(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Go:case Zk:a=!0}}if(a)return a=t,i=i(a),t=n===""?"."+cd(a,0):n,vg(i)?(r="",t!=null&&(r=t.replace(xg,"$&/")+"/"),ac(i,e,r,"",function(c){return c})):i!=null&&(jp(i)&&(i=uS(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(xg,"$&/")+"/")+t)),e.push(i)),1;if(a=0,n=n===""?".":n+":",vg(t))for(var o=0;o<t.length;o++){s=t[o];var l=n+cd(s,o);a+=ac(s,e,r,l,i)}else if(l=cS(t),typeof l=="function")for(t=l.call(t),o=0;!(s=t.next()).done;)s=s.value,l=n+cd(s,o++),a+=ac(s,e,r,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function cl(t,e,r){if(t==null)return t;var n=[],i=0;return ac(t,n,"","",function(s){return e.call(r,s,i++)}),n}function hS(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var $t={current:null},oc={transition:null},fS={ReactCurrentDispatcher:$t,ReactCurrentBatchConfig:oc,ReactCurrentOwner:Ap};function qv(){throw Error("act(...) is not supported in production builds of React.")}Ce.Children={map:cl,forEach:function(t,e,r){cl(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return cl(t,function(){e++}),e},toArray:function(t){return cl(t,function(e){return e})||[]},only:function(t){if(!jp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ce.Component=ua;Ce.Fragment=eS;Ce.Profiler=rS;Ce.PureComponent=Tp;Ce.StrictMode=tS;Ce.Suspense=aS;Ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fS;Ce.act=qv;Ce.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=Uv({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=Ap.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)Hv.call(e,l)&&!Vv.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];n.children=o}return{$$typeof:Go,type:t.type,key:i,ref:s,props:n,_owner:a}};Ce.createContext=function(t){return t={$$typeof:iS,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:nS,_context:t},t.Consumer=t};Ce.createElement=Kv;Ce.createFactory=function(t){var e=Kv.bind(null,t);return e.type=t,e};Ce.createRef=function(){return{current:null}};Ce.forwardRef=function(t){return{$$typeof:sS,render:t}};Ce.isValidElement=jp;Ce.lazy=function(t){return{$$typeof:lS,_payload:{_status:-1,_result:t},_init:hS}};Ce.memo=function(t,e){return{$$typeof:oS,type:t,compare:e===void 0?null:e}};Ce.startTransition=function(t){var e=oc.transition;oc.transition={};try{t()}finally{oc.transition=e}};Ce.unstable_act=qv;Ce.useCallback=function(t,e){return $t.current.useCallback(t,e)};Ce.useContext=function(t){return $t.current.useContext(t)};Ce.useDebugValue=function(){};Ce.useDeferredValue=function(t){return $t.current.useDeferredValue(t)};Ce.useEffect=function(t,e){return $t.current.useEffect(t,e)};Ce.useId=function(){return $t.current.useId()};Ce.useImperativeHandle=function(t,e,r){return $t.current.useImperativeHandle(t,e,r)};Ce.useInsertionEffect=function(t,e){return $t.current.useInsertionEffect(t,e)};Ce.useLayoutEffect=function(t,e){return $t.current.useLayoutEffect(t,e)};Ce.useMemo=function(t,e){return $t.current.useMemo(t,e)};Ce.useReducer=function(t,e,r){return $t.current.useReducer(t,e,r)};Ce.useRef=function(t){return $t.current.useRef(t)};Ce.useState=function(t){return $t.current.useState(t)};Ce.useSyncExternalStore=function(t,e,r){return $t.current.useSyncExternalStore(t,e,r)};Ce.useTransition=function(){return $t.current.useTransition()};Ce.version="18.3.1";Bv.exports=Ce;var K=Bv.exports;const wt=Qk(K),bg=Xk({__proto__:null,default:wt},[K]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pS=K,mS=Symbol.for("react.element"),gS=Symbol.for("react.fragment"),yS=Object.prototype.hasOwnProperty,wS=pS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,vS={key:!0,ref:!0,__self:!0,__source:!0};function Gv(t,e,r){var n,i={},s=null,a=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)yS.call(e,n)&&!vS.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:mS,type:t,key:s,ref:a,props:i,_owner:wS.current}}yu.Fragment=gS;yu.jsx=Gv;yu.jsxs=Gv;Fv.exports=yu;var d=Fv.exports,Yv={exports:{}},ar={},Xv={exports:{}},Qv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(re,Z){var le=re.length;re.push(Z);e:for(;0<le;){var G=le-1>>>1,D=re[G];if(0<i(D,Z))re[G]=Z,re[le]=D,le=G;else break e}}function r(re){return re.length===0?null:re[0]}function n(re){if(re.length===0)return null;var Z=re[0],le=re.pop();if(le!==Z){re[0]=le;e:for(var G=0,D=re.length,J=D>>>1;G<J;){var Q=2*(G+1)-1,ie=re[Q],q=Q+1,j=re[q];if(0>i(ie,le))q<D&&0>i(j,ie)?(re[G]=j,re[q]=le,G=q):(re[G]=ie,re[Q]=le,G=Q);else if(q<D&&0>i(j,le))re[G]=j,re[q]=le,G=q;else break e}}return Z}function i(re,Z){var le=re.sortIndex-Z.sortIndex;return le!==0?le:re.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],c=[],u=1,h=null,f=3,p=!1,w=!1,g=!1,b=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(re){for(var Z=r(c);Z!==null;){if(Z.callback===null)n(c);else if(Z.startTime<=re)n(c),Z.sortIndex=Z.expirationTime,e(l,Z);else break;Z=r(c)}}function k(re){if(g=!1,_(re),!w)if(r(l)!==null)w=!0,ne(T);else{var Z=r(c);Z!==null&&X(k,Z.startTime-re)}}function T(re,Z){w=!1,g&&(g=!1,m(L),L=-1),p=!0;var le=f;try{for(_(Z),h=r(l);h!==null&&(!(h.expirationTime>Z)||re&&!ee());){var G=h.callback;if(typeof G=="function"){h.callback=null,f=h.priorityLevel;var D=G(h.expirationTime<=Z);Z=t.unstable_now(),typeof D=="function"?h.callback=D:h===r(l)&&n(l),_(Z)}else n(l);h=r(l)}if(h!==null)var J=!0;else{var Q=r(c);Q!==null&&X(k,Q.startTime-Z),J=!1}return J}finally{h=null,f=le,p=!1}}var I=!1,O=null,L=-1,N=5,H=-1;function ee(){return!(t.unstable_now()-H<N)}function R(){if(O!==null){var re=t.unstable_now();H=re;var Z=!0;try{Z=O(!0,re)}finally{Z?W():(I=!1,O=null)}}else I=!1}var W;if(typeof y=="function")W=function(){y(R)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,B=P.port2;P.port1.onmessage=R,W=function(){B.postMessage(null)}}else W=function(){b(R,0)};function ne(re){O=re,I||(I=!0,W())}function X(re,Z){L=b(function(){re(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(re){re.callback=null},t.unstable_continueExecution=function(){w||p||(w=!0,ne(T))},t.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<re?Math.floor(1e3/re):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(re){switch(f){case 1:case 2:case 3:var Z=3;break;default:Z=f}var le=f;f=Z;try{return re()}finally{f=le}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(re,Z){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var le=f;f=re;try{return Z()}finally{f=le}},t.unstable_scheduleCallback=function(re,Z,le){var G=t.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?G+le:G):le=G,re){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=le+D,re={id:u++,callback:Z,priorityLevel:re,startTime:le,expirationTime:D,sortIndex:-1},le>G?(re.sortIndex=le,e(c,re),r(l)===null&&re===r(c)&&(g?(m(L),L=-1):g=!0,X(k,le-G))):(re.sortIndex=D,e(l,re),w||p||(w=!0,ne(T))),re},t.unstable_shouldYield=ee,t.unstable_wrapCallback=function(re){var Z=f;return function(){var le=f;f=Z;try{return re.apply(this,arguments)}finally{f=le}}}})(Qv);Xv.exports=Qv;var xS=Xv.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bS=K,sr=xS;function pe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Jv=new Set,wo={};function qi(t,e){Vs(t,e),Vs(t+"Capture",e)}function Vs(t,e){for(wo[t]=e,t=0;t<e.length;t++)Jv.add(e[t])}var pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qh=Object.prototype.hasOwnProperty,_S=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_g={},kg={};function kS(t){return Qh.call(kg,t)?!0:Qh.call(_g,t)?!1:_S.test(t)?kg[t]=!0:(_g[t]=!0,!1)}function SS(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function ES(t,e,r,n){if(e===null||typeof e>"u"||SS(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Wt(t,e,r,n,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var Et={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Et[t]=new Wt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Et[e]=new Wt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Et[t]=new Wt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Et[t]=new Wt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Et[t]=new Wt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Et[t]=new Wt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Et[t]=new Wt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Et[t]=new Wt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Et[t]=new Wt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Cp=/[\-:]([a-z])/g;function Pp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Cp,Pp);Et[e]=new Wt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Cp,Pp);Et[e]=new Wt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Cp,Pp);Et[e]=new Wt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Et[t]=new Wt(t,1,!1,t.toLowerCase(),null,!1,!1)});Et.xlinkHref=new Wt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Et[t]=new Wt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Op(t,e,r,n){var i=Et.hasOwnProperty(e)?Et[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(ES(e,r,i,n)&&(r=null),n||i===null?kS(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var bn=bS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ul=Symbol.for("react.element"),gs=Symbol.for("react.portal"),ys=Symbol.for("react.fragment"),Rp=Symbol.for("react.strict_mode"),Jh=Symbol.for("react.profiler"),Zv=Symbol.for("react.provider"),ex=Symbol.for("react.context"),Dp=Symbol.for("react.forward_ref"),Zh=Symbol.for("react.suspense"),ef=Symbol.for("react.suspense_list"),Ip=Symbol.for("react.memo"),On=Symbol.for("react.lazy"),tx=Symbol.for("react.offscreen"),Sg=Symbol.iterator;function Sa(t){return t===null||typeof t!="object"?null:(t=Sg&&t[Sg]||t["@@iterator"],typeof t=="function"?t:null)}var et=Object.assign,ud;function Ha(t){if(ud===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);ud=e&&e[1]||""}return`
`+ud+t}var dd=!1;function hd(t,e){if(!t||dd)return"";dd=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=n.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{dd=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Ha(t):""}function TS(t){switch(t.tag){case 5:return Ha(t.type);case 16:return Ha("Lazy");case 13:return Ha("Suspense");case 19:return Ha("SuspenseList");case 0:case 2:case 15:return t=hd(t.type,!1),t;case 11:return t=hd(t.type.render,!1),t;case 1:return t=hd(t.type,!0),t;default:return""}}function tf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ys:return"Fragment";case gs:return"Portal";case Jh:return"Profiler";case Rp:return"StrictMode";case Zh:return"Suspense";case ef:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case ex:return(t.displayName||"Context")+".Consumer";case Zv:return(t._context.displayName||"Context")+".Provider";case Dp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ip:return e=t.displayName||null,e!==null?e:tf(t.type)||"Memo";case On:e=t._payload,t=t._init;try{return tf(t(e))}catch{}}return null}function NS(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return tf(e);case 8:return e===Rp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ti(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function rx(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function AS(t){var e=rx(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function dl(t){t._valueTracker||(t._valueTracker=AS(t))}function nx(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=rx(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Ac(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function rf(t,e){var r=e.checked;return et({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Eg(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=ti(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function ix(t,e){e=e.checked,e!=null&&Op(t,"checked",e,!1)}function nf(t,e){ix(t,e);var r=ti(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?sf(t,e.type,r):e.hasOwnProperty("defaultValue")&&sf(t,e.type,ti(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Tg(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function sf(t,e,r){(e!=="number"||Ac(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Va=Array.isArray;function Cs(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+ti(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function af(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(pe(91));return et({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ng(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(pe(92));if(Va(r)){if(1<r.length)throw Error(pe(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:ti(r)}}function sx(t,e){var r=ti(e.value),n=ti(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Ag(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function ax(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function of(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?ax(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var hl,ox=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(hl=hl||document.createElement("div"),hl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=hl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function vo(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var eo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jS=["Webkit","ms","Moz","O"];Object.keys(eo).forEach(function(t){jS.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),eo[e]=eo[t]})});function lx(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||eo.hasOwnProperty(t)&&eo[t]?(""+e).trim():e+"px"}function cx(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=lx(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var CS=et({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function lf(t,e){if(e){if(CS[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(pe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(pe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(pe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(pe(62))}}function cf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uf=null;function Mp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var df=null,Ps=null,Os=null;function jg(t){if(t=Qo(t)){if(typeof df!="function")throw Error(pe(280));var e=t.stateNode;e&&(e=_u(e),df(t.stateNode,t.type,e))}}function ux(t){Ps?Os?Os.push(t):Os=[t]:Ps=t}function dx(){if(Ps){var t=Ps,e=Os;if(Os=Ps=null,jg(t),e)for(t=0;t<e.length;t++)jg(e[t])}}function hx(t,e){return t(e)}function fx(){}var fd=!1;function px(t,e,r){if(fd)return t(e,r);fd=!0;try{return hx(t,e,r)}finally{fd=!1,(Ps!==null||Os!==null)&&(fx(),dx())}}function xo(t,e){var r=t.stateNode;if(r===null)return null;var n=_u(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(pe(231,e,typeof r));return r}var hf=!1;if(pn)try{var Ea={};Object.defineProperty(Ea,"passive",{get:function(){hf=!0}}),window.addEventListener("test",Ea,Ea),window.removeEventListener("test",Ea,Ea)}catch{hf=!1}function PS(t,e,r,n,i,s,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(u){this.onError(u)}}var to=!1,jc=null,Cc=!1,ff=null,OS={onError:function(t){to=!0,jc=t}};function RS(t,e,r,n,i,s,a,o,l){to=!1,jc=null,PS.apply(OS,arguments)}function DS(t,e,r,n,i,s,a,o,l){if(RS.apply(this,arguments),to){if(to){var c=jc;to=!1,jc=null}else throw Error(pe(198));Cc||(Cc=!0,ff=c)}}function Gi(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function mx(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Cg(t){if(Gi(t)!==t)throw Error(pe(188))}function IS(t){var e=t.alternate;if(!e){if(e=Gi(t),e===null)throw Error(pe(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return Cg(i),t;if(s===n)return Cg(i),e;s=s.sibling}throw Error(pe(188))}if(r.return!==n.return)r=i,n=s;else{for(var a=!1,o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a)throw Error(pe(189))}}if(r.alternate!==n)throw Error(pe(190))}if(r.tag!==3)throw Error(pe(188));return r.stateNode.current===r?t:e}function gx(t){return t=IS(t),t!==null?yx(t):null}function yx(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=yx(t);if(e!==null)return e;t=t.sibling}return null}var wx=sr.unstable_scheduleCallback,Pg=sr.unstable_cancelCallback,MS=sr.unstable_shouldYield,LS=sr.unstable_requestPaint,lt=sr.unstable_now,FS=sr.unstable_getCurrentPriorityLevel,Lp=sr.unstable_ImmediatePriority,vx=sr.unstable_UserBlockingPriority,Pc=sr.unstable_NormalPriority,BS=sr.unstable_LowPriority,xx=sr.unstable_IdlePriority,wu=null,Gr=null;function zS(t){if(Gr&&typeof Gr.onCommitFiberRoot=="function")try{Gr.onCommitFiberRoot(wu,t,void 0,(t.current.flags&128)===128)}catch{}}var Ar=Math.clz32?Math.clz32:WS,US=Math.log,$S=Math.LN2;function WS(t){return t>>>=0,t===0?32:31-(US(t)/$S|0)|0}var fl=64,pl=4194304;function Ka(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Oc(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,a=r&268435455;if(a!==0){var o=a&~i;o!==0?n=Ka(o):(s&=a,s!==0&&(n=Ka(s)))}else a=r&~i,a!==0?n=Ka(a):s!==0&&(n=Ka(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Ar(e),i=1<<r,n|=t[r],e&=~i;return n}function HS(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function VS(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-Ar(s),o=1<<a,l=i[a];l===-1?(!(o&r)||o&n)&&(i[a]=HS(o,e)):l<=e&&(t.expiredLanes|=o),s&=~o}}function pf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function bx(){var t=fl;return fl<<=1,!(fl&4194240)&&(fl=64),t}function pd(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Yo(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ar(e),t[e]=r}function KS(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-Ar(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function Fp(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Ar(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var Fe=0;function _x(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var kx,Bp,Sx,Ex,Tx,mf=!1,ml=[],Vn=null,Kn=null,qn=null,bo=new Map,_o=new Map,In=[],qS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Og(t,e){switch(t){case"focusin":case"focusout":Vn=null;break;case"dragenter":case"dragleave":Kn=null;break;case"mouseover":case"mouseout":qn=null;break;case"pointerover":case"pointerout":bo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":_o.delete(e.pointerId)}}function Ta(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Qo(e),e!==null&&Bp(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function GS(t,e,r,n,i){switch(e){case"focusin":return Vn=Ta(Vn,t,e,r,n,i),!0;case"dragenter":return Kn=Ta(Kn,t,e,r,n,i),!0;case"mouseover":return qn=Ta(qn,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return bo.set(s,Ta(bo.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,_o.set(s,Ta(_o.get(s)||null,t,e,r,n,i)),!0}return!1}function Nx(t){var e=Ni(t.target);if(e!==null){var r=Gi(e);if(r!==null){if(e=r.tag,e===13){if(e=mx(r),e!==null){t.blockedOn=e,Tx(t.priority,function(){Sx(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function lc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=gf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);uf=n,r.target.dispatchEvent(n),uf=null}else return e=Qo(r),e!==null&&Bp(e),t.blockedOn=r,!1;e.shift()}return!0}function Rg(t,e,r){lc(t)&&r.delete(e)}function YS(){mf=!1,Vn!==null&&lc(Vn)&&(Vn=null),Kn!==null&&lc(Kn)&&(Kn=null),qn!==null&&lc(qn)&&(qn=null),bo.forEach(Rg),_o.forEach(Rg)}function Na(t,e){t.blockedOn===e&&(t.blockedOn=null,mf||(mf=!0,sr.unstable_scheduleCallback(sr.unstable_NormalPriority,YS)))}function ko(t){function e(i){return Na(i,t)}if(0<ml.length){Na(ml[0],t);for(var r=1;r<ml.length;r++){var n=ml[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Vn!==null&&Na(Vn,t),Kn!==null&&Na(Kn,t),qn!==null&&Na(qn,t),bo.forEach(e),_o.forEach(e),r=0;r<In.length;r++)n=In[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<In.length&&(r=In[0],r.blockedOn===null);)Nx(r),r.blockedOn===null&&In.shift()}var Rs=bn.ReactCurrentBatchConfig,Rc=!0;function XS(t,e,r,n){var i=Fe,s=Rs.transition;Rs.transition=null;try{Fe=1,zp(t,e,r,n)}finally{Fe=i,Rs.transition=s}}function QS(t,e,r,n){var i=Fe,s=Rs.transition;Rs.transition=null;try{Fe=4,zp(t,e,r,n)}finally{Fe=i,Rs.transition=s}}function zp(t,e,r,n){if(Rc){var i=gf(t,e,r,n);if(i===null)Sd(t,e,n,Dc,r),Og(t,n);else if(GS(i,t,e,r,n))n.stopPropagation();else if(Og(t,n),e&4&&-1<qS.indexOf(t)){for(;i!==null;){var s=Qo(i);if(s!==null&&kx(s),s=gf(t,e,r,n),s===null&&Sd(t,e,n,Dc,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else Sd(t,e,n,null,r)}}var Dc=null;function gf(t,e,r,n){if(Dc=null,t=Mp(n),t=Ni(t),t!==null)if(e=Gi(t),e===null)t=null;else if(r=e.tag,r===13){if(t=mx(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Dc=t,null}function Ax(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(FS()){case Lp:return 1;case vx:return 4;case Pc:case BS:return 16;case xx:return 536870912;default:return 16}default:return 16}}var Bn=null,Up=null,cc=null;function jx(){if(cc)return cc;var t,e=Up,r=e.length,n,i="value"in Bn?Bn.value:Bn.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===i[s-n];n++);return cc=i.slice(t,1<n?1-n:void 0)}function uc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function gl(){return!0}function Dg(){return!1}function or(t){function e(r,n,i,s,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?gl:Dg,this.isPropagationStopped=Dg,this}return et(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=gl)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=gl)},persist:function(){},isPersistent:gl}),e}var da={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$p=or(da),Xo=et({},da,{view:0,detail:0}),JS=or(Xo),md,gd,Aa,vu=et({},Xo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Aa&&(Aa&&t.type==="mousemove"?(md=t.screenX-Aa.screenX,gd=t.screenY-Aa.screenY):gd=md=0,Aa=t),md)},movementY:function(t){return"movementY"in t?t.movementY:gd}}),Ig=or(vu),ZS=et({},vu,{dataTransfer:0}),eE=or(ZS),tE=et({},Xo,{relatedTarget:0}),yd=or(tE),rE=et({},da,{animationName:0,elapsedTime:0,pseudoElement:0}),nE=or(rE),iE=et({},da,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),sE=or(iE),aE=et({},da,{data:0}),Mg=or(aE),oE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uE(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=cE[t])?!!e[t]:!1}function Wp(){return uE}var dE=et({},Xo,{key:function(t){if(t.key){var e=oE[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=uc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?lE[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wp,charCode:function(t){return t.type==="keypress"?uc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?uc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),hE=or(dE),fE=et({},vu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Lg=or(fE),pE=et({},Xo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wp}),mE=or(pE),gE=et({},da,{propertyName:0,elapsedTime:0,pseudoElement:0}),yE=or(gE),wE=et({},vu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),vE=or(wE),xE=[9,13,27,32],Hp=pn&&"CompositionEvent"in window,ro=null;pn&&"documentMode"in document&&(ro=document.documentMode);var bE=pn&&"TextEvent"in window&&!ro,Cx=pn&&(!Hp||ro&&8<ro&&11>=ro),Fg=" ",Bg=!1;function Px(t,e){switch(t){case"keyup":return xE.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ox(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ws=!1;function _E(t,e){switch(t){case"compositionend":return Ox(e);case"keypress":return e.which!==32?null:(Bg=!0,Fg);case"textInput":return t=e.data,t===Fg&&Bg?null:t;default:return null}}function kE(t,e){if(ws)return t==="compositionend"||!Hp&&Px(t,e)?(t=jx(),cc=Up=Bn=null,ws=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Cx&&e.locale!=="ko"?null:e.data;default:return null}}var SE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!SE[t.type]:e==="textarea"}function Rx(t,e,r,n){ux(n),e=Ic(e,"onChange"),0<e.length&&(r=new $p("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var no=null,So=null;function EE(t){Hx(t,0)}function xu(t){var e=bs(t);if(nx(e))return t}function TE(t,e){if(t==="change")return e}var Dx=!1;if(pn){var wd;if(pn){var vd="oninput"in document;if(!vd){var Ug=document.createElement("div");Ug.setAttribute("oninput","return;"),vd=typeof Ug.oninput=="function"}wd=vd}else wd=!1;Dx=wd&&(!document.documentMode||9<document.documentMode)}function $g(){no&&(no.detachEvent("onpropertychange",Ix),So=no=null)}function Ix(t){if(t.propertyName==="value"&&xu(So)){var e=[];Rx(e,So,t,Mp(t)),px(EE,e)}}function NE(t,e,r){t==="focusin"?($g(),no=e,So=r,no.attachEvent("onpropertychange",Ix)):t==="focusout"&&$g()}function AE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return xu(So)}function jE(t,e){if(t==="click")return xu(e)}function CE(t,e){if(t==="input"||t==="change")return xu(e)}function PE(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Pr=typeof Object.is=="function"?Object.is:PE;function Eo(t,e){if(Pr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Qh.call(e,i)||!Pr(t[i],e[i]))return!1}return!0}function Wg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Hg(t,e){var r=Wg(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Wg(r)}}function Mx(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Mx(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Lx(){for(var t=window,e=Ac();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Ac(t.document)}return e}function Vp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function OE(t){var e=Lx(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&Mx(r.ownerDocument.documentElement,r)){if(n!==null&&Vp(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=Hg(r,s);var a=Hg(r,n);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var RE=pn&&"documentMode"in document&&11>=document.documentMode,vs=null,yf=null,io=null,wf=!1;function Vg(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;wf||vs==null||vs!==Ac(n)||(n=vs,"selectionStart"in n&&Vp(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),io&&Eo(io,n)||(io=n,n=Ic(yf,"onSelect"),0<n.length&&(e=new $p("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=vs)))}function yl(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var xs={animationend:yl("Animation","AnimationEnd"),animationiteration:yl("Animation","AnimationIteration"),animationstart:yl("Animation","AnimationStart"),transitionend:yl("Transition","TransitionEnd")},xd={},Fx={};pn&&(Fx=document.createElement("div").style,"AnimationEvent"in window||(delete xs.animationend.animation,delete xs.animationiteration.animation,delete xs.animationstart.animation),"TransitionEvent"in window||delete xs.transitionend.transition);function bu(t){if(xd[t])return xd[t];if(!xs[t])return t;var e=xs[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in Fx)return xd[t]=e[r];return t}var Bx=bu("animationend"),zx=bu("animationiteration"),Ux=bu("animationstart"),$x=bu("transitionend"),Wx=new Map,Kg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function oi(t,e){Wx.set(t,e),qi(e,[t])}for(var bd=0;bd<Kg.length;bd++){var _d=Kg[bd],DE=_d.toLowerCase(),IE=_d[0].toUpperCase()+_d.slice(1);oi(DE,"on"+IE)}oi(Bx,"onAnimationEnd");oi(zx,"onAnimationIteration");oi(Ux,"onAnimationStart");oi("dblclick","onDoubleClick");oi("focusin","onFocus");oi("focusout","onBlur");oi($x,"onTransitionEnd");Vs("onMouseEnter",["mouseout","mouseover"]);Vs("onMouseLeave",["mouseout","mouseover"]);Vs("onPointerEnter",["pointerout","pointerover"]);Vs("onPointerLeave",["pointerout","pointerover"]);qi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));qi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));qi("onBeforeInput",["compositionend","keypress","textInput","paste"]);qi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));qi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));qi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ME=new Set("cancel close invalid load scroll toggle".split(" ").concat(qa));function qg(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,DS(n,e,void 0,t),t.currentTarget=null}function Hx(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var a=n.length-1;0<=a;a--){var o=n[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;qg(i,o,c),s=l}else for(a=0;a<n.length;a++){if(o=n[a],l=o.instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;qg(i,o,c),s=l}}}if(Cc)throw t=ff,Cc=!1,ff=null,t}function Ve(t,e){var r=e[kf];r===void 0&&(r=e[kf]=new Set);var n=t+"__bubble";r.has(n)||(Vx(e,t,2,!1),r.add(n))}function kd(t,e,r){var n=0;e&&(n|=4),Vx(r,t,n,e)}var wl="_reactListening"+Math.random().toString(36).slice(2);function To(t){if(!t[wl]){t[wl]=!0,Jv.forEach(function(r){r!=="selectionchange"&&(ME.has(r)||kd(r,!1,t),kd(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[wl]||(e[wl]=!0,kd("selectionchange",!1,e))}}function Vx(t,e,r,n){switch(Ax(e)){case 1:var i=XS;break;case 4:i=QS;break;default:i=zp}r=i.bind(null,e,r,t),i=void 0,!hf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function Sd(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=Ni(o),a===null)return;if(l=a.tag,l===5||l===6){n=s=a;continue e}o=o.parentNode}}n=n.return}px(function(){var c=s,u=Mp(r),h=[];e:{var f=Wx.get(t);if(f!==void 0){var p=$p,w=t;switch(t){case"keypress":if(uc(r)===0)break e;case"keydown":case"keyup":p=hE;break;case"focusin":w="focus",p=yd;break;case"focusout":w="blur",p=yd;break;case"beforeblur":case"afterblur":p=yd;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Ig;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=eE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=mE;break;case Bx:case zx:case Ux:p=nE;break;case $x:p=yE;break;case"scroll":p=JS;break;case"wheel":p=vE;break;case"copy":case"cut":case"paste":p=sE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Lg}var g=(e&4)!==0,b=!g&&t==="scroll",m=g?f!==null?f+"Capture":null:f;g=[];for(var y=c,_;y!==null;){_=y;var k=_.stateNode;if(_.tag===5&&k!==null&&(_=k,m!==null&&(k=xo(y,m),k!=null&&g.push(No(y,k,_)))),b)break;y=y.return}0<g.length&&(f=new p(f,w,null,r,u),h.push({event:f,listeners:g}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&r!==uf&&(w=r.relatedTarget||r.fromElement)&&(Ni(w)||w[mn]))break e;if((p||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,p?(w=r.relatedTarget||r.toElement,p=c,w=w?Ni(w):null,w!==null&&(b=Gi(w),w!==b||w.tag!==5&&w.tag!==6)&&(w=null)):(p=null,w=c),p!==w)){if(g=Ig,k="onMouseLeave",m="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(g=Lg,k="onPointerLeave",m="onPointerEnter",y="pointer"),b=p==null?f:bs(p),_=w==null?f:bs(w),f=new g(k,y+"leave",p,r,u),f.target=b,f.relatedTarget=_,k=null,Ni(u)===c&&(g=new g(m,y+"enter",w,r,u),g.target=_,g.relatedTarget=b,k=g),b=k,p&&w)t:{for(g=p,m=w,y=0,_=g;_;_=is(_))y++;for(_=0,k=m;k;k=is(k))_++;for(;0<y-_;)g=is(g),y--;for(;0<_-y;)m=is(m),_--;for(;y--;){if(g===m||m!==null&&g===m.alternate)break t;g=is(g),m=is(m)}g=null}else g=null;p!==null&&Gg(h,f,p,g,!1),w!==null&&b!==null&&Gg(h,b,w,g,!0)}}e:{if(f=c?bs(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var T=TE;else if(zg(f))if(Dx)T=CE;else{T=AE;var I=NE}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(T=jE);if(T&&(T=T(t,c))){Rx(h,T,r,u);break e}I&&I(t,f,c),t==="focusout"&&(I=f._wrapperState)&&I.controlled&&f.type==="number"&&sf(f,"number",f.value)}switch(I=c?bs(c):window,t){case"focusin":(zg(I)||I.contentEditable==="true")&&(vs=I,yf=c,io=null);break;case"focusout":io=yf=vs=null;break;case"mousedown":wf=!0;break;case"contextmenu":case"mouseup":case"dragend":wf=!1,Vg(h,r,u);break;case"selectionchange":if(RE)break;case"keydown":case"keyup":Vg(h,r,u)}var O;if(Hp)e:{switch(t){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else ws?Px(t,r)&&(L="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(L="onCompositionStart");L&&(Cx&&r.locale!=="ko"&&(ws||L!=="onCompositionStart"?L==="onCompositionEnd"&&ws&&(O=jx()):(Bn=u,Up="value"in Bn?Bn.value:Bn.textContent,ws=!0)),I=Ic(c,L),0<I.length&&(L=new Mg(L,t,null,r,u),h.push({event:L,listeners:I}),O?L.data=O:(O=Ox(r),O!==null&&(L.data=O)))),(O=bE?_E(t,r):kE(t,r))&&(c=Ic(c,"onBeforeInput"),0<c.length&&(u=new Mg("onBeforeInput","beforeinput",null,r,u),h.push({event:u,listeners:c}),u.data=O))}Hx(h,e)})}function No(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Ic(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=xo(t,r),s!=null&&n.unshift(No(t,s,i)),s=xo(t,e),s!=null&&n.push(No(t,s,i))),t=t.return}return n}function is(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Gg(t,e,r,n,i){for(var s=e._reactName,a=[];r!==null&&r!==n;){var o=r,l=o.alternate,c=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&c!==null&&(o=c,i?(l=xo(r,s),l!=null&&a.unshift(No(r,l,o))):i||(l=xo(r,s),l!=null&&a.push(No(r,l,o)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var LE=/\r\n?/g,FE=/\u0000|\uFFFD/g;function Yg(t){return(typeof t=="string"?t:""+t).replace(LE,`
`).replace(FE,"")}function vl(t,e,r){if(e=Yg(e),Yg(t)!==e&&r)throw Error(pe(425))}function Mc(){}var vf=null,xf=null;function bf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var _f=typeof setTimeout=="function"?setTimeout:void 0,BE=typeof clearTimeout=="function"?clearTimeout:void 0,Xg=typeof Promise=="function"?Promise:void 0,zE=typeof queueMicrotask=="function"?queueMicrotask:typeof Xg<"u"?function(t){return Xg.resolve(null).then(t).catch(UE)}:_f;function UE(t){setTimeout(function(){throw t})}function Ed(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),ko(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);ko(e)}function Gn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Qg(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var ha=Math.random().toString(36).slice(2),Hr="__reactFiber$"+ha,Ao="__reactProps$"+ha,mn="__reactContainer$"+ha,kf="__reactEvents$"+ha,$E="__reactListeners$"+ha,WE="__reactHandles$"+ha;function Ni(t){var e=t[Hr];if(e)return e;for(var r=t.parentNode;r;){if(e=r[mn]||r[Hr]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Qg(t);t!==null;){if(r=t[Hr])return r;t=Qg(t)}return e}t=r,r=t.parentNode}return null}function Qo(t){return t=t[Hr]||t[mn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function bs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(pe(33))}function _u(t){return t[Ao]||null}var Sf=[],_s=-1;function li(t){return{current:t}}function qe(t){0>_s||(t.current=Sf[_s],Sf[_s]=null,_s--)}function He(t,e){_s++,Sf[_s]=t.current,t.current=e}var ri={},Dt=li(ri),Xt=li(!1),Fi=ri;function Ks(t,e){var r=t.type.contextTypes;if(!r)return ri;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Qt(t){return t=t.childContextTypes,t!=null}function Lc(){qe(Xt),qe(Dt)}function Jg(t,e,r){if(Dt.current!==ri)throw Error(pe(168));He(Dt,e),He(Xt,r)}function Kx(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(pe(108,NS(t)||"Unknown",i));return et({},r,n)}function Fc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ri,Fi=Dt.current,He(Dt,t),He(Xt,Xt.current),!0}function Zg(t,e,r){var n=t.stateNode;if(!n)throw Error(pe(169));r?(t=Kx(t,e,Fi),n.__reactInternalMemoizedMergedChildContext=t,qe(Xt),qe(Dt),He(Dt,t)):qe(Xt),He(Xt,r)}var sn=null,ku=!1,Td=!1;function qx(t){sn===null?sn=[t]:sn.push(t)}function HE(t){ku=!0,qx(t)}function ci(){if(!Td&&sn!==null){Td=!0;var t=0,e=Fe;try{var r=sn;for(Fe=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}sn=null,ku=!1}catch(i){throw sn!==null&&(sn=sn.slice(t+1)),wx(Lp,ci),i}finally{Fe=e,Td=!1}}return null}var ks=[],Ss=0,Bc=null,zc=0,dr=[],hr=0,Bi=null,on=1,ln="";function xi(t,e){ks[Ss++]=zc,ks[Ss++]=Bc,Bc=t,zc=e}function Gx(t,e,r){dr[hr++]=on,dr[hr++]=ln,dr[hr++]=Bi,Bi=t;var n=on;t=ln;var i=32-Ar(n)-1;n&=~(1<<i),r+=1;var s=32-Ar(e)+i;if(30<s){var a=i-i%5;s=(n&(1<<a)-1).toString(32),n>>=a,i-=a,on=1<<32-Ar(e)+i|r<<i|n,ln=s+t}else on=1<<s|r<<i|n,ln=t}function Kp(t){t.return!==null&&(xi(t,1),Gx(t,1,0))}function qp(t){for(;t===Bc;)Bc=ks[--Ss],ks[Ss]=null,zc=ks[--Ss],ks[Ss]=null;for(;t===Bi;)Bi=dr[--hr],dr[hr]=null,ln=dr[--hr],dr[hr]=null,on=dr[--hr],dr[hr]=null}var ir=null,rr=null,Ge=!1,Tr=null;function Yx(t,e){var r=fr(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function e0(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ir=t,rr=Gn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ir=t,rr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Bi!==null?{id:on,overflow:ln}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=fr(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,ir=t,rr=null,!0):!1;default:return!1}}function Ef(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Tf(t){if(Ge){var e=rr;if(e){var r=e;if(!e0(t,e)){if(Ef(t))throw Error(pe(418));e=Gn(r.nextSibling);var n=ir;e&&e0(t,e)?Yx(n,r):(t.flags=t.flags&-4097|2,Ge=!1,ir=t)}}else{if(Ef(t))throw Error(pe(418));t.flags=t.flags&-4097|2,Ge=!1,ir=t}}}function t0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ir=t}function xl(t){if(t!==ir)return!1;if(!Ge)return t0(t),Ge=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!bf(t.type,t.memoizedProps)),e&&(e=rr)){if(Ef(t))throw Xx(),Error(pe(418));for(;e;)Yx(t,e),e=Gn(e.nextSibling)}if(t0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(pe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){rr=Gn(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}rr=null}}else rr=ir?Gn(t.stateNode.nextSibling):null;return!0}function Xx(){for(var t=rr;t;)t=Gn(t.nextSibling)}function qs(){rr=ir=null,Ge=!1}function Gp(t){Tr===null?Tr=[t]:Tr.push(t)}var VE=bn.ReactCurrentBatchConfig;function ja(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(pe(309));var n=r.stateNode}if(!n)throw Error(pe(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(pe(284));if(!r._owner)throw Error(pe(290,t))}return t}function bl(t,e){throw t=Object.prototype.toString.call(e),Error(pe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function r0(t){var e=t._init;return e(t._payload)}function Qx(t){function e(m,y){if(t){var _=m.deletions;_===null?(m.deletions=[y],m.flags|=16):_.push(y)}}function r(m,y){if(!t)return null;for(;y!==null;)e(m,y),y=y.sibling;return null}function n(m,y){for(m=new Map;y!==null;)y.key!==null?m.set(y.key,y):m.set(y.index,y),y=y.sibling;return m}function i(m,y){return m=Jn(m,y),m.index=0,m.sibling=null,m}function s(m,y,_){return m.index=_,t?(_=m.alternate,_!==null?(_=_.index,_<y?(m.flags|=2,y):_):(m.flags|=2,y)):(m.flags|=1048576,y)}function a(m){return t&&m.alternate===null&&(m.flags|=2),m}function o(m,y,_,k){return y===null||y.tag!==6?(y=Rd(_,m.mode,k),y.return=m,y):(y=i(y,_),y.return=m,y)}function l(m,y,_,k){var T=_.type;return T===ys?u(m,y,_.props.children,k,_.key):y!==null&&(y.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===On&&r0(T)===y.type)?(k=i(y,_.props),k.ref=ja(m,y,_),k.return=m,k):(k=yc(_.type,_.key,_.props,null,m.mode,k),k.ref=ja(m,y,_),k.return=m,k)}function c(m,y,_,k){return y===null||y.tag!==4||y.stateNode.containerInfo!==_.containerInfo||y.stateNode.implementation!==_.implementation?(y=Dd(_,m.mode,k),y.return=m,y):(y=i(y,_.children||[]),y.return=m,y)}function u(m,y,_,k,T){return y===null||y.tag!==7?(y=Di(_,m.mode,k,T),y.return=m,y):(y=i(y,_),y.return=m,y)}function h(m,y,_){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Rd(""+y,m.mode,_),y.return=m,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ul:return _=yc(y.type,y.key,y.props,null,m.mode,_),_.ref=ja(m,null,y),_.return=m,_;case gs:return y=Dd(y,m.mode,_),y.return=m,y;case On:var k=y._init;return h(m,k(y._payload),_)}if(Va(y)||Sa(y))return y=Di(y,m.mode,_,null),y.return=m,y;bl(m,y)}return null}function f(m,y,_,k){var T=y!==null?y.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return T!==null?null:o(m,y,""+_,k);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case ul:return _.key===T?l(m,y,_,k):null;case gs:return _.key===T?c(m,y,_,k):null;case On:return T=_._init,f(m,y,T(_._payload),k)}if(Va(_)||Sa(_))return T!==null?null:u(m,y,_,k,null);bl(m,_)}return null}function p(m,y,_,k,T){if(typeof k=="string"&&k!==""||typeof k=="number")return m=m.get(_)||null,o(y,m,""+k,T);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case ul:return m=m.get(k.key===null?_:k.key)||null,l(y,m,k,T);case gs:return m=m.get(k.key===null?_:k.key)||null,c(y,m,k,T);case On:var I=k._init;return p(m,y,_,I(k._payload),T)}if(Va(k)||Sa(k))return m=m.get(_)||null,u(y,m,k,T,null);bl(y,k)}return null}function w(m,y,_,k){for(var T=null,I=null,O=y,L=y=0,N=null;O!==null&&L<_.length;L++){O.index>L?(N=O,O=null):N=O.sibling;var H=f(m,O,_[L],k);if(H===null){O===null&&(O=N);break}t&&O&&H.alternate===null&&e(m,O),y=s(H,y,L),I===null?T=H:I.sibling=H,I=H,O=N}if(L===_.length)return r(m,O),Ge&&xi(m,L),T;if(O===null){for(;L<_.length;L++)O=h(m,_[L],k),O!==null&&(y=s(O,y,L),I===null?T=O:I.sibling=O,I=O);return Ge&&xi(m,L),T}for(O=n(m,O);L<_.length;L++)N=p(O,m,L,_[L],k),N!==null&&(t&&N.alternate!==null&&O.delete(N.key===null?L:N.key),y=s(N,y,L),I===null?T=N:I.sibling=N,I=N);return t&&O.forEach(function(ee){return e(m,ee)}),Ge&&xi(m,L),T}function g(m,y,_,k){var T=Sa(_);if(typeof T!="function")throw Error(pe(150));if(_=T.call(_),_==null)throw Error(pe(151));for(var I=T=null,O=y,L=y=0,N=null,H=_.next();O!==null&&!H.done;L++,H=_.next()){O.index>L?(N=O,O=null):N=O.sibling;var ee=f(m,O,H.value,k);if(ee===null){O===null&&(O=N);break}t&&O&&ee.alternate===null&&e(m,O),y=s(ee,y,L),I===null?T=ee:I.sibling=ee,I=ee,O=N}if(H.done)return r(m,O),Ge&&xi(m,L),T;if(O===null){for(;!H.done;L++,H=_.next())H=h(m,H.value,k),H!==null&&(y=s(H,y,L),I===null?T=H:I.sibling=H,I=H);return Ge&&xi(m,L),T}for(O=n(m,O);!H.done;L++,H=_.next())H=p(O,m,L,H.value,k),H!==null&&(t&&H.alternate!==null&&O.delete(H.key===null?L:H.key),y=s(H,y,L),I===null?T=H:I.sibling=H,I=H);return t&&O.forEach(function(R){return e(m,R)}),Ge&&xi(m,L),T}function b(m,y,_,k){if(typeof _=="object"&&_!==null&&_.type===ys&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case ul:e:{for(var T=_.key,I=y;I!==null;){if(I.key===T){if(T=_.type,T===ys){if(I.tag===7){r(m,I.sibling),y=i(I,_.props.children),y.return=m,m=y;break e}}else if(I.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===On&&r0(T)===I.type){r(m,I.sibling),y=i(I,_.props),y.ref=ja(m,I,_),y.return=m,m=y;break e}r(m,I);break}else e(m,I);I=I.sibling}_.type===ys?(y=Di(_.props.children,m.mode,k,_.key),y.return=m,m=y):(k=yc(_.type,_.key,_.props,null,m.mode,k),k.ref=ja(m,y,_),k.return=m,m=k)}return a(m);case gs:e:{for(I=_.key;y!==null;){if(y.key===I)if(y.tag===4&&y.stateNode.containerInfo===_.containerInfo&&y.stateNode.implementation===_.implementation){r(m,y.sibling),y=i(y,_.children||[]),y.return=m,m=y;break e}else{r(m,y);break}else e(m,y);y=y.sibling}y=Dd(_,m.mode,k),y.return=m,m=y}return a(m);case On:return I=_._init,b(m,y,I(_._payload),k)}if(Va(_))return w(m,y,_,k);if(Sa(_))return g(m,y,_,k);bl(m,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,y!==null&&y.tag===6?(r(m,y.sibling),y=i(y,_),y.return=m,m=y):(r(m,y),y=Rd(_,m.mode,k),y.return=m,m=y),a(m)):r(m,y)}return b}var Gs=Qx(!0),Jx=Qx(!1),Uc=li(null),$c=null,Es=null,Yp=null;function Xp(){Yp=Es=$c=null}function Qp(t){var e=Uc.current;qe(Uc),t._currentValue=e}function Nf(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Ds(t,e){$c=t,Yp=Es=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Yt=!0),t.firstContext=null)}function yr(t){var e=t._currentValue;if(Yp!==t)if(t={context:t,memoizedValue:e,next:null},Es===null){if($c===null)throw Error(pe(308));Es=t,$c.dependencies={lanes:0,firstContext:t}}else Es=Es.next=t;return e}var Ai=null;function Jp(t){Ai===null?Ai=[t]:Ai.push(t)}function Zx(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,Jp(e)):(r.next=i.next,i.next=r),e.interleaved=r,gn(t,n)}function gn(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Rn=!1;function Zp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function eb(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function fn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Yn(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Re&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,gn(t,r)}return i=n.interleaved,i===null?(e.next=e,Jp(n)):(e.next=i.next,i.next=e),n.interleaved=e,gn(t,r)}function dc(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Fp(t,r)}}function n0(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=a:s=s.next=a,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Wc(t,e,r,n){var i=t.updateQueue;Rn=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,c=l.next;l.next=null,a===null?s=c:a.next=c,a=l;var u=t.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==a&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;a=0,u=c=l=null,o=s;do{var f=o.lane,p=o.eventTime;if((n&f)===f){u!==null&&(u=u.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var w=t,g=o;switch(f=e,p=r,g.tag){case 1:if(w=g.payload,typeof w=="function"){h=w.call(p,h,f);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=g.payload,f=typeof w=="function"?w.call(p,h,f):w,f==null)break e;h=et({},h,f);break e;case 2:Rn=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[o]:f.push(o))}else p={eventTime:p,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=p,l=h):u=u.next=p,a|=f;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;f=o,o=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(u===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Ui|=a,t.lanes=a,t.memoizedState=h}}function i0(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(pe(191,i));i.call(n)}}}var Jo={},Yr=li(Jo),jo=li(Jo),Co=li(Jo);function ji(t){if(t===Jo)throw Error(pe(174));return t}function em(t,e){switch(He(Co,e),He(jo,t),He(Yr,Jo),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:of(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=of(e,t)}qe(Yr),He(Yr,e)}function Ys(){qe(Yr),qe(jo),qe(Co)}function tb(t){ji(Co.current);var e=ji(Yr.current),r=of(e,t.type);e!==r&&(He(jo,t),He(Yr,r))}function tm(t){jo.current===t&&(qe(Yr),qe(jo))}var Xe=li(0);function Hc(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Nd=[];function rm(){for(var t=0;t<Nd.length;t++)Nd[t]._workInProgressVersionPrimary=null;Nd.length=0}var hc=bn.ReactCurrentDispatcher,Ad=bn.ReactCurrentBatchConfig,zi=0,Je=null,ht=null,yt=null,Vc=!1,so=!1,Po=0,KE=0;function Tt(){throw Error(pe(321))}function nm(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Pr(t[r],e[r]))return!1;return!0}function im(t,e,r,n,i,s){if(zi=s,Je=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,hc.current=t===null||t.memoizedState===null?XE:QE,t=r(n,i),so){s=0;do{if(so=!1,Po=0,25<=s)throw Error(pe(301));s+=1,yt=ht=null,e.updateQueue=null,hc.current=JE,t=r(n,i)}while(so)}if(hc.current=Kc,e=ht!==null&&ht.next!==null,zi=0,yt=ht=Je=null,Vc=!1,e)throw Error(pe(300));return t}function sm(){var t=Po!==0;return Po=0,t}function Fr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?Je.memoizedState=yt=t:yt=yt.next=t,yt}function wr(){if(ht===null){var t=Je.alternate;t=t!==null?t.memoizedState:null}else t=ht.next;var e=yt===null?Je.memoizedState:yt.next;if(e!==null)yt=e,ht=t;else{if(t===null)throw Error(pe(310));ht=t,t={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},yt===null?Je.memoizedState=yt=t:yt=yt.next=t}return yt}function Oo(t,e){return typeof e=="function"?e(t):e}function jd(t){var e=wr(),r=e.queue;if(r===null)throw Error(pe(311));r.lastRenderedReducer=t;var n=ht,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var o=a=null,l=null,c=s;do{var u=c.lane;if((zi&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=h,a=n):l=l.next=h,Je.lanes|=u,Ui|=u}c=c.next}while(c!==null&&c!==s);l===null?a=n:l.next=o,Pr(n,e.memoizedState)||(Yt=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,Je.lanes|=s,Ui|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Cd(t){var e=wr(),r=e.queue;if(r===null)throw Error(pe(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);Pr(s,e.memoizedState)||(Yt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function rb(){}function nb(t,e){var r=Je,n=wr(),i=e(),s=!Pr(n.memoizedState,i);if(s&&(n.memoizedState=i,Yt=!0),n=n.queue,am(ab.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||yt!==null&&yt.memoizedState.tag&1){if(r.flags|=2048,Ro(9,sb.bind(null,r,n,i,e),void 0,null),vt===null)throw Error(pe(349));zi&30||ib(r,e,i)}return i}function ib(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Je.updateQueue,e===null?(e={lastEffect:null,stores:null},Je.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function sb(t,e,r,n){e.value=r,e.getSnapshot=n,ob(e)&&lb(t)}function ab(t,e,r){return r(function(){ob(e)&&lb(t)})}function ob(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Pr(t,r)}catch{return!0}}function lb(t){var e=gn(t,1);e!==null&&jr(e,t,1,-1)}function s0(t){var e=Fr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Oo,lastRenderedState:t},e.queue=t,t=t.dispatch=YE.bind(null,Je,t),[e.memoizedState,t]}function Ro(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Je.updateQueue,e===null?(e={lastEffect:null,stores:null},Je.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function cb(){return wr().memoizedState}function fc(t,e,r,n){var i=Fr();Je.flags|=t,i.memoizedState=Ro(1|e,r,void 0,n===void 0?null:n)}function Su(t,e,r,n){var i=wr();n=n===void 0?null:n;var s=void 0;if(ht!==null){var a=ht.memoizedState;if(s=a.destroy,n!==null&&nm(n,a.deps)){i.memoizedState=Ro(e,r,s,n);return}}Je.flags|=t,i.memoizedState=Ro(1|e,r,s,n)}function a0(t,e){return fc(8390656,8,t,e)}function am(t,e){return Su(2048,8,t,e)}function ub(t,e){return Su(4,2,t,e)}function db(t,e){return Su(4,4,t,e)}function hb(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function fb(t,e,r){return r=r!=null?r.concat([t]):null,Su(4,4,hb.bind(null,e,t),r)}function om(){}function pb(t,e){var r=wr();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&nm(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function mb(t,e){var r=wr();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&nm(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function gb(t,e,r){return zi&21?(Pr(r,e)||(r=bx(),Je.lanes|=r,Ui|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Yt=!0),t.memoizedState=r)}function qE(t,e){var r=Fe;Fe=r!==0&&4>r?r:4,t(!0);var n=Ad.transition;Ad.transition={};try{t(!1),e()}finally{Fe=r,Ad.transition=n}}function yb(){return wr().memoizedState}function GE(t,e,r){var n=Qn(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},wb(t))vb(e,r);else if(r=Zx(t,e,r,n),r!==null){var i=Ut();jr(r,t,n,i),xb(r,e,n)}}function YE(t,e,r){var n=Qn(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(wb(t))vb(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,r);if(i.hasEagerState=!0,i.eagerState=o,Pr(o,a)){var l=e.interleaved;l===null?(i.next=i,Jp(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=Zx(t,e,i,n),r!==null&&(i=Ut(),jr(r,t,n,i),xb(r,e,n))}}function wb(t){var e=t.alternate;return t===Je||e!==null&&e===Je}function vb(t,e){so=Vc=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function xb(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Fp(t,r)}}var Kc={readContext:yr,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useInsertionEffect:Tt,useLayoutEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useMutableSource:Tt,useSyncExternalStore:Tt,useId:Tt,unstable_isNewReconciler:!1},XE={readContext:yr,useCallback:function(t,e){return Fr().memoizedState=[t,e===void 0?null:e],t},useContext:yr,useEffect:a0,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,fc(4194308,4,hb.bind(null,e,t),r)},useLayoutEffect:function(t,e){return fc(4194308,4,t,e)},useInsertionEffect:function(t,e){return fc(4,2,t,e)},useMemo:function(t,e){var r=Fr();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Fr();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=GE.bind(null,Je,t),[n.memoizedState,t]},useRef:function(t){var e=Fr();return t={current:t},e.memoizedState=t},useState:s0,useDebugValue:om,useDeferredValue:function(t){return Fr().memoizedState=t},useTransition:function(){var t=s0(!1),e=t[0];return t=qE.bind(null,t[1]),Fr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Je,i=Fr();if(Ge){if(r===void 0)throw Error(pe(407));r=r()}else{if(r=e(),vt===null)throw Error(pe(349));zi&30||ib(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,a0(ab.bind(null,n,s,t),[t]),n.flags|=2048,Ro(9,sb.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=Fr(),e=vt.identifierPrefix;if(Ge){var r=ln,n=on;r=(n&~(1<<32-Ar(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Po++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=KE++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},QE={readContext:yr,useCallback:pb,useContext:yr,useEffect:am,useImperativeHandle:fb,useInsertionEffect:ub,useLayoutEffect:db,useMemo:mb,useReducer:jd,useRef:cb,useState:function(){return jd(Oo)},useDebugValue:om,useDeferredValue:function(t){var e=wr();return gb(e,ht.memoizedState,t)},useTransition:function(){var t=jd(Oo)[0],e=wr().memoizedState;return[t,e]},useMutableSource:rb,useSyncExternalStore:nb,useId:yb,unstable_isNewReconciler:!1},JE={readContext:yr,useCallback:pb,useContext:yr,useEffect:am,useImperativeHandle:fb,useInsertionEffect:ub,useLayoutEffect:db,useMemo:mb,useReducer:Cd,useRef:cb,useState:function(){return Cd(Oo)},useDebugValue:om,useDeferredValue:function(t){var e=wr();return ht===null?e.memoizedState=t:gb(e,ht.memoizedState,t)},useTransition:function(){var t=Cd(Oo)[0],e=wr().memoizedState;return[t,e]},useMutableSource:rb,useSyncExternalStore:nb,useId:yb,unstable_isNewReconciler:!1};function kr(t,e){if(t&&t.defaultProps){e=et({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Af(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:et({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Eu={isMounted:function(t){return(t=t._reactInternals)?Gi(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Ut(),i=Qn(t),s=fn(n,i);s.payload=e,r!=null&&(s.callback=r),e=Yn(t,s,i),e!==null&&(jr(e,t,i,n),dc(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Ut(),i=Qn(t),s=fn(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=Yn(t,s,i),e!==null&&(jr(e,t,i,n),dc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Ut(),n=Qn(t),i=fn(r,n);i.tag=2,e!=null&&(i.callback=e),e=Yn(t,i,n),e!==null&&(jr(e,t,n,r),dc(e,t,n))}};function o0(t,e,r,n,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,a):e.prototype&&e.prototype.isPureReactComponent?!Eo(r,n)||!Eo(i,s):!0}function bb(t,e,r){var n=!1,i=ri,s=e.contextType;return typeof s=="object"&&s!==null?s=yr(s):(i=Qt(e)?Fi:Dt.current,n=e.contextTypes,s=(n=n!=null)?Ks(t,i):ri),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Eu,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function l0(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Eu.enqueueReplaceState(e,e.state,null)}function jf(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},Zp(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=yr(s):(s=Qt(e)?Fi:Dt.current,i.context=Ks(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Af(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Eu.enqueueReplaceState(i,i.state,null),Wc(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Xs(t,e){try{var r="",n=e;do r+=TS(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Pd(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Cf(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var ZE=typeof WeakMap=="function"?WeakMap:Map;function _b(t,e,r){r=fn(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Gc||(Gc=!0,zf=n),Cf(t,e)},r}function kb(t,e,r){r=fn(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){Cf(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){Cf(t,e),typeof n!="function"&&(Xn===null?Xn=new Set([this]):Xn.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function c0(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new ZE;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=fT.bind(null,t,e,r),e.then(t,t))}function u0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function d0(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=fn(-1,1),e.tag=2,Yn(r,e,1))),r.lanes|=1),t)}var eT=bn.ReactCurrentOwner,Yt=!1;function Ft(t,e,r,n){e.child=t===null?Jx(e,null,r,n):Gs(e,t.child,r,n)}function h0(t,e,r,n,i){r=r.render;var s=e.ref;return Ds(e,i),n=im(t,e,r,n,s,i),r=sm(),t!==null&&!Yt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,yn(t,e,i)):(Ge&&r&&Kp(e),e.flags|=1,Ft(t,e,n,i),e.child)}function f0(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!mm(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,Sb(t,e,s,n,i)):(t=yc(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(r=r.compare,r=r!==null?r:Eo,r(a,n)&&t.ref===e.ref)return yn(t,e,i)}return e.flags|=1,t=Jn(s,n),t.ref=e.ref,t.return=e,e.child=t}function Sb(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(Eo(s,n)&&t.ref===e.ref)if(Yt=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(Yt=!0);else return e.lanes=t.lanes,yn(t,e,i)}return Pf(t,e,r,n,i)}function Eb(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},He(Ns,er),er|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,He(Ns,er),er|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,He(Ns,er),er|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,He(Ns,er),er|=n;return Ft(t,e,i,r),e.child}function Tb(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Pf(t,e,r,n,i){var s=Qt(r)?Fi:Dt.current;return s=Ks(e,s),Ds(e,i),r=im(t,e,r,n,s,i),n=sm(),t!==null&&!Yt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,yn(t,e,i)):(Ge&&n&&Kp(e),e.flags|=1,Ft(t,e,r,i),e.child)}function p0(t,e,r,n,i){if(Qt(r)){var s=!0;Fc(e)}else s=!1;if(Ds(e,i),e.stateNode===null)pc(t,e),bb(e,r,n),jf(e,r,n,i),n=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,c=r.contextType;typeof c=="object"&&c!==null?c=yr(c):(c=Qt(r)?Fi:Dt.current,c=Ks(e,c));var u=r.getDerivedStateFromProps,h=typeof u=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||l!==c)&&l0(e,a,n,c),Rn=!1;var f=e.memoizedState;a.state=f,Wc(e,n,a,i),l=e.memoizedState,o!==n||f!==l||Xt.current||Rn?(typeof u=="function"&&(Af(e,r,u,n),l=e.memoizedState),(o=Rn||o0(e,r,o,n,f,l,c))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),a.props=n,a.state=l,a.context=c,n=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,eb(t,e),o=e.memoizedProps,c=e.type===e.elementType?o:kr(e.type,o),a.props=c,h=e.pendingProps,f=a.context,l=r.contextType,typeof l=="object"&&l!==null?l=yr(l):(l=Qt(r)?Fi:Dt.current,l=Ks(e,l));var p=r.getDerivedStateFromProps;(u=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==h||f!==l)&&l0(e,a,n,l),Rn=!1,f=e.memoizedState,a.state=f,Wc(e,n,a,i);var w=e.memoizedState;o!==h||f!==w||Xt.current||Rn?(typeof p=="function"&&(Af(e,r,p,n),w=e.memoizedState),(c=Rn||o0(e,r,c,n,f,w,l)||!1)?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,w,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,w,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=w),a.props=n,a.state=w,a.context=l,n=c):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return Of(t,e,r,n,s,i)}function Of(t,e,r,n,i,s){Tb(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return i&&Zg(e,r,!1),yn(t,e,s);n=e.stateNode,eT.current=e;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=Gs(e,t.child,null,s),e.child=Gs(e,null,o,s)):Ft(t,e,o,s),e.memoizedState=n.state,i&&Zg(e,r,!0),e.child}function Nb(t){var e=t.stateNode;e.pendingContext?Jg(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Jg(t,e.context,!1),em(t,e.containerInfo)}function m0(t,e,r,n,i){return qs(),Gp(i),e.flags|=256,Ft(t,e,r,n),e.child}var Rf={dehydrated:null,treeContext:null,retryLane:0};function Df(t){return{baseLanes:t,cachePool:null,transitions:null}}function Ab(t,e,r){var n=e.pendingProps,i=Xe.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),He(Xe,i&1),t===null)return Tf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,s?(n=e.mode,s=e.child,a={mode:"hidden",children:a},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=Au(a,n,0,null),t=Di(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Df(r),e.memoizedState=Rf,t):lm(e,a));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return tT(t,e,a,n,o,i,r);if(s){s=n.fallback,a=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:n.children};return!(a&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=Jn(i,l),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=Jn(o,s):(s=Di(s,a,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,a=t.child.memoizedState,a=a===null?Df(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~r,e.memoizedState=Rf,n}return s=t.child,t=s.sibling,n=Jn(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function lm(t,e){return e=Au({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function _l(t,e,r,n){return n!==null&&Gp(n),Gs(e,t.child,null,r),t=lm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function tT(t,e,r,n,i,s,a){if(r)return e.flags&256?(e.flags&=-257,n=Pd(Error(pe(422))),_l(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=Au({mode:"visible",children:n.children},i,0,null),s=Di(s,i,a,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&Gs(e,t.child,null,a),e.child.memoizedState=Df(a),e.memoizedState=Rf,s);if(!(e.mode&1))return _l(t,e,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,s=Error(pe(419)),n=Pd(s,n,void 0),_l(t,e,a,n)}if(o=(a&t.childLanes)!==0,Yt||o){if(n=vt,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,gn(t,i),jr(n,t,i,-1))}return pm(),n=Pd(Error(pe(421))),_l(t,e,a,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=pT.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,rr=Gn(i.nextSibling),ir=e,Ge=!0,Tr=null,t!==null&&(dr[hr++]=on,dr[hr++]=ln,dr[hr++]=Bi,on=t.id,ln=t.overflow,Bi=e),e=lm(e,n.children),e.flags|=4096,e)}function g0(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Nf(t.return,e,r)}function Od(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function jb(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(Ft(t,e,n.children,r),n=Xe.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&g0(t,r,e);else if(t.tag===19)g0(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(He(Xe,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Hc(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),Od(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Hc(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}Od(e,!0,r,null,s);break;case"together":Od(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function pc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function yn(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Ui|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(pe(153));if(e.child!==null){for(t=e.child,r=Jn(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Jn(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function rT(t,e,r){switch(e.tag){case 3:Nb(e),qs();break;case 5:tb(e);break;case 1:Qt(e.type)&&Fc(e);break;case 4:em(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;He(Uc,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(He(Xe,Xe.current&1),e.flags|=128,null):r&e.child.childLanes?Ab(t,e,r):(He(Xe,Xe.current&1),t=yn(t,e,r),t!==null?t.sibling:null);He(Xe,Xe.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return jb(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),He(Xe,Xe.current),n)break;return null;case 22:case 23:return e.lanes=0,Eb(t,e,r)}return yn(t,e,r)}var Cb,If,Pb,Ob;Cb=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};If=function(){};Pb=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,ji(Yr.current);var s=null;switch(r){case"input":i=rf(t,i),n=rf(t,n),s=[];break;case"select":i=et({},i,{value:void 0}),n=et({},n,{value:void 0}),s=[];break;case"textarea":i=af(t,i),n=af(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Mc)}lf(r,n);var a;r=null;for(c in i)if(!n.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var o=i[c];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(wo.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in n){var l=n[c];if(o=i!=null?i[c]:void 0,n.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(r||(r={}),r[a]=l[a])}else r||(s||(s=[]),s.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(wo.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ve("scroll",t),s||o===l||(s=[])):(s=s||[]).push(c,l))}r&&(s=s||[]).push("style",r);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};Ob=function(t,e,r,n){r!==n&&(e.flags|=4)};function Ca(t,e){if(!Ge)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Nt(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function nT(t,e,r){var n=e.pendingProps;switch(qp(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nt(e),null;case 1:return Qt(e.type)&&Lc(),Nt(e),null;case 3:return n=e.stateNode,Ys(),qe(Xt),qe(Dt),rm(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(xl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Tr!==null&&(Wf(Tr),Tr=null))),If(t,e),Nt(e),null;case 5:tm(e);var i=ji(Co.current);if(r=e.type,t!==null&&e.stateNode!=null)Pb(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(pe(166));return Nt(e),null}if(t=ji(Yr.current),xl(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[Hr]=e,n[Ao]=s,t=(e.mode&1)!==0,r){case"dialog":Ve("cancel",n),Ve("close",n);break;case"iframe":case"object":case"embed":Ve("load",n);break;case"video":case"audio":for(i=0;i<qa.length;i++)Ve(qa[i],n);break;case"source":Ve("error",n);break;case"img":case"image":case"link":Ve("error",n),Ve("load",n);break;case"details":Ve("toggle",n);break;case"input":Eg(n,s),Ve("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Ve("invalid",n);break;case"textarea":Ng(n,s),Ve("invalid",n)}lf(r,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?n.textContent!==o&&(s.suppressHydrationWarning!==!0&&vl(n.textContent,o,t),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&vl(n.textContent,o,t),i=["children",""+o]):wo.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&Ve("scroll",n)}switch(r){case"input":dl(n),Tg(n,s,!0);break;case"textarea":dl(n),Ag(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Mc)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ax(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[Hr]=e,t[Ao]=n,Cb(t,e,!1,!1),e.stateNode=t;e:{switch(a=cf(r,n),r){case"dialog":Ve("cancel",t),Ve("close",t),i=n;break;case"iframe":case"object":case"embed":Ve("load",t),i=n;break;case"video":case"audio":for(i=0;i<qa.length;i++)Ve(qa[i],t);i=n;break;case"source":Ve("error",t),i=n;break;case"img":case"image":case"link":Ve("error",t),Ve("load",t),i=n;break;case"details":Ve("toggle",t),i=n;break;case"input":Eg(t,n),i=rf(t,n),Ve("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=et({},n,{value:void 0}),Ve("invalid",t);break;case"textarea":Ng(t,n),i=af(t,n),Ve("invalid",t);break;default:i=n}lf(r,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?cx(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&ox(t,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&vo(t,l):typeof l=="number"&&vo(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(wo.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ve("scroll",t):l!=null&&Op(t,s,l,a))}switch(r){case"input":dl(t),Tg(t,n,!1);break;case"textarea":dl(t),Ag(t);break;case"option":n.value!=null&&t.setAttribute("value",""+ti(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?Cs(t,!!n.multiple,s,!1):n.defaultValue!=null&&Cs(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Mc)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Nt(e),null;case 6:if(t&&e.stateNode!=null)Ob(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(pe(166));if(r=ji(Co.current),ji(Yr.current),xl(e)){if(n=e.stateNode,r=e.memoizedProps,n[Hr]=e,(s=n.nodeValue!==r)&&(t=ir,t!==null))switch(t.tag){case 3:vl(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&vl(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Hr]=e,e.stateNode=n}return Nt(e),null;case 13:if(qe(Xe),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ge&&rr!==null&&e.mode&1&&!(e.flags&128))Xx(),qs(),e.flags|=98560,s=!1;else if(s=xl(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(pe(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(pe(317));s[Hr]=e}else qs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Nt(e),s=!1}else Tr!==null&&(Wf(Tr),Tr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Xe.current&1?pt===0&&(pt=3):pm())),e.updateQueue!==null&&(e.flags|=4),Nt(e),null);case 4:return Ys(),If(t,e),t===null&&To(e.stateNode.containerInfo),Nt(e),null;case 10:return Qp(e.type._context),Nt(e),null;case 17:return Qt(e.type)&&Lc(),Nt(e),null;case 19:if(qe(Xe),s=e.memoizedState,s===null)return Nt(e),null;if(n=(e.flags&128)!==0,a=s.rendering,a===null)if(n)Ca(s,!1);else{if(pt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Hc(t),a!==null){for(e.flags|=128,Ca(s,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return He(Xe,Xe.current&1|2),e.child}t=t.sibling}s.tail!==null&&lt()>Qs&&(e.flags|=128,n=!0,Ca(s,!1),e.lanes=4194304)}else{if(!n)if(t=Hc(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Ca(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!Ge)return Nt(e),null}else 2*lt()-s.renderingStartTime>Qs&&r!==1073741824&&(e.flags|=128,n=!0,Ca(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(r=s.last,r!==null?r.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=lt(),e.sibling=null,r=Xe.current,He(Xe,n?r&1|2:r&1),e):(Nt(e),null);case 22:case 23:return fm(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?er&1073741824&&(Nt(e),e.subtreeFlags&6&&(e.flags|=8192)):Nt(e),null;case 24:return null;case 25:return null}throw Error(pe(156,e.tag))}function iT(t,e){switch(qp(e),e.tag){case 1:return Qt(e.type)&&Lc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ys(),qe(Xt),qe(Dt),rm(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return tm(e),null;case 13:if(qe(Xe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(pe(340));qs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return qe(Xe),null;case 4:return Ys(),null;case 10:return Qp(e.type._context),null;case 22:case 23:return fm(),null;case 24:return null;default:return null}}var kl=!1,jt=!1,sT=typeof WeakSet=="function"?WeakSet:Set,we=null;function Ts(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){tt(t,e,n)}else r.current=null}function Mf(t,e,r){try{r()}catch(n){tt(t,e,n)}}var y0=!1;function aT(t,e){if(vf=Rc,t=Lx(),Vp(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var a=0,o=-1,l=-1,c=0,u=0,h=t,f=null;t:for(;;){for(var p;h!==r||i!==0&&h.nodeType!==3||(o=a+i),h!==s||n!==0&&h.nodeType!==3||(l=a+n),h.nodeType===3&&(a+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===t)break t;if(f===r&&++c===i&&(o=a),f===s&&++u===n&&(l=a),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(xf={focusedElem:t,selectionRange:r},Rc=!1,we=e;we!==null;)if(e=we,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,we=t;else for(;we!==null;){e=we;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var g=w.memoizedProps,b=w.memoizedState,m=e.stateNode,y=m.getSnapshotBeforeUpdate(e.elementType===e.type?g:kr(e.type,g),b);m.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(pe(163))}}catch(k){tt(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,we=t;break}we=e.return}return w=y0,y0=!1,w}function ao(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Mf(e,r,s)}i=i.next}while(i!==n)}}function Tu(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Lf(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function Rb(t){var e=t.alternate;e!==null&&(t.alternate=null,Rb(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Hr],delete e[Ao],delete e[kf],delete e[$E],delete e[WE])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Db(t){return t.tag===5||t.tag===3||t.tag===4}function w0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Db(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ff(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Mc));else if(n!==4&&(t=t.child,t!==null))for(Ff(t,e,r),t=t.sibling;t!==null;)Ff(t,e,r),t=t.sibling}function Bf(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Bf(t,e,r),t=t.sibling;t!==null;)Bf(t,e,r),t=t.sibling}var xt=null,Sr=!1;function En(t,e,r){for(r=r.child;r!==null;)Ib(t,e,r),r=r.sibling}function Ib(t,e,r){if(Gr&&typeof Gr.onCommitFiberUnmount=="function")try{Gr.onCommitFiberUnmount(wu,r)}catch{}switch(r.tag){case 5:jt||Ts(r,e);case 6:var n=xt,i=Sr;xt=null,En(t,e,r),xt=n,Sr=i,xt!==null&&(Sr?(t=xt,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):xt.removeChild(r.stateNode));break;case 18:xt!==null&&(Sr?(t=xt,r=r.stateNode,t.nodeType===8?Ed(t.parentNode,r):t.nodeType===1&&Ed(t,r),ko(t)):Ed(xt,r.stateNode));break;case 4:n=xt,i=Sr,xt=r.stateNode.containerInfo,Sr=!0,En(t,e,r),xt=n,Sr=i;break;case 0:case 11:case 14:case 15:if(!jt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&Mf(r,e,a),i=i.next}while(i!==n)}En(t,e,r);break;case 1:if(!jt&&(Ts(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){tt(r,e,o)}En(t,e,r);break;case 21:En(t,e,r);break;case 22:r.mode&1?(jt=(n=jt)||r.memoizedState!==null,En(t,e,r),jt=n):En(t,e,r);break;default:En(t,e,r)}}function v0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new sT),e.forEach(function(n){var i=mT.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function br(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:xt=o.stateNode,Sr=!1;break e;case 3:xt=o.stateNode.containerInfo,Sr=!0;break e;case 4:xt=o.stateNode.containerInfo,Sr=!0;break e}o=o.return}if(xt===null)throw Error(pe(160));Ib(s,a,i),xt=null,Sr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){tt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Mb(e,t),e=e.sibling}function Mb(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(br(e,t),Dr(t),n&4){try{ao(3,t,t.return),Tu(3,t)}catch(g){tt(t,t.return,g)}try{ao(5,t,t.return)}catch(g){tt(t,t.return,g)}}break;case 1:br(e,t),Dr(t),n&512&&r!==null&&Ts(r,r.return);break;case 5:if(br(e,t),Dr(t),n&512&&r!==null&&Ts(r,r.return),t.flags&32){var i=t.stateNode;try{vo(i,"")}catch(g){tt(t,t.return,g)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=r!==null?r.memoizedProps:s,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&ix(i,s),cf(o,a);var c=cf(o,s);for(a=0;a<l.length;a+=2){var u=l[a],h=l[a+1];u==="style"?cx(i,h):u==="dangerouslySetInnerHTML"?ox(i,h):u==="children"?vo(i,h):Op(i,u,h,c)}switch(o){case"input":nf(i,s);break;case"textarea":sx(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?Cs(i,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?Cs(i,!!s.multiple,s.defaultValue,!0):Cs(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ao]=s}catch(g){tt(t,t.return,g)}}break;case 6:if(br(e,t),Dr(t),n&4){if(t.stateNode===null)throw Error(pe(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(g){tt(t,t.return,g)}}break;case 3:if(br(e,t),Dr(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{ko(e.containerInfo)}catch(g){tt(t,t.return,g)}break;case 4:br(e,t),Dr(t);break;case 13:br(e,t),Dr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(dm=lt())),n&4&&v0(t);break;case 22:if(u=r!==null&&r.memoizedState!==null,t.mode&1?(jt=(c=jt)||u,br(e,t),jt=c):br(e,t),Dr(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(we=t,u=t.child;u!==null;){for(h=we=u;we!==null;){switch(f=we,p=f.child,f.tag){case 0:case 11:case 14:case 15:ao(4,f,f.return);break;case 1:Ts(f,f.return);var w=f.stateNode;if(typeof w.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(g){tt(n,r,g)}}break;case 5:Ts(f,f.return);break;case 22:if(f.memoizedState!==null){b0(h);continue}}p!==null?(p.return=f,we=p):b0(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=h.stateNode,l=h.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=lx("display",a))}catch(g){tt(t,t.return,g)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(g){tt(t,t.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:br(e,t),Dr(t),n&4&&v0(t);break;case 21:break;default:br(e,t),Dr(t)}}function Dr(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(Db(r)){var n=r;break e}r=r.return}throw Error(pe(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(vo(i,""),n.flags&=-33);var s=w0(t);Bf(t,s,i);break;case 3:case 4:var a=n.stateNode.containerInfo,o=w0(t);Ff(t,o,a);break;default:throw Error(pe(161))}}catch(l){tt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function oT(t,e,r){we=t,Lb(t)}function Lb(t,e,r){for(var n=(t.mode&1)!==0;we!==null;){var i=we,s=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||kl;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||jt;o=kl;var c=jt;if(kl=a,(jt=l)&&!c)for(we=i;we!==null;)a=we,l=a.child,a.tag===22&&a.memoizedState!==null?_0(i):l!==null?(l.return=a,we=l):_0(i);for(;s!==null;)we=s,Lb(s),s=s.sibling;we=i,kl=o,jt=c}x0(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,we=s):x0(t)}}function x0(t){for(;we!==null;){var e=we;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:jt||Tu(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!jt)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:kr(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&i0(e,s,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}i0(e,a,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&ko(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(pe(163))}jt||e.flags&512&&Lf(e)}catch(f){tt(e,e.return,f)}}if(e===t){we=null;break}if(r=e.sibling,r!==null){r.return=e.return,we=r;break}we=e.return}}function b0(t){for(;we!==null;){var e=we;if(e===t){we=null;break}var r=e.sibling;if(r!==null){r.return=e.return,we=r;break}we=e.return}}function _0(t){for(;we!==null;){var e=we;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Tu(4,e)}catch(l){tt(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){tt(e,i,l)}}var s=e.return;try{Lf(e)}catch(l){tt(e,s,l)}break;case 5:var a=e.return;try{Lf(e)}catch(l){tt(e,a,l)}}}catch(l){tt(e,e.return,l)}if(e===t){we=null;break}var o=e.sibling;if(o!==null){o.return=e.return,we=o;break}we=e.return}}var lT=Math.ceil,qc=bn.ReactCurrentDispatcher,cm=bn.ReactCurrentOwner,mr=bn.ReactCurrentBatchConfig,Re=0,vt=null,dt=null,St=0,er=0,Ns=li(0),pt=0,Do=null,Ui=0,Nu=0,um=0,oo=null,Kt=null,dm=0,Qs=1/0,rn=null,Gc=!1,zf=null,Xn=null,Sl=!1,zn=null,Yc=0,lo=0,Uf=null,mc=-1,gc=0;function Ut(){return Re&6?lt():mc!==-1?mc:mc=lt()}function Qn(t){return t.mode&1?Re&2&&St!==0?St&-St:VE.transition!==null?(gc===0&&(gc=bx()),gc):(t=Fe,t!==0||(t=window.event,t=t===void 0?16:Ax(t.type)),t):1}function jr(t,e,r,n){if(50<lo)throw lo=0,Uf=null,Error(pe(185));Yo(t,r,n),(!(Re&2)||t!==vt)&&(t===vt&&(!(Re&2)&&(Nu|=r),pt===4&&Mn(t,St)),Jt(t,n),r===1&&Re===0&&!(e.mode&1)&&(Qs=lt()+500,ku&&ci()))}function Jt(t,e){var r=t.callbackNode;VS(t,e);var n=Oc(t,t===vt?St:0);if(n===0)r!==null&&Pg(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&Pg(r),e===1)t.tag===0?HE(k0.bind(null,t)):qx(k0.bind(null,t)),zE(function(){!(Re&6)&&ci()}),r=null;else{switch(_x(n)){case 1:r=Lp;break;case 4:r=vx;break;case 16:r=Pc;break;case 536870912:r=xx;break;default:r=Pc}r=Vb(r,Fb.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function Fb(t,e){if(mc=-1,gc=0,Re&6)throw Error(pe(327));var r=t.callbackNode;if(Is()&&t.callbackNode!==r)return null;var n=Oc(t,t===vt?St:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Xc(t,n);else{e=n;var i=Re;Re|=2;var s=zb();(vt!==t||St!==e)&&(rn=null,Qs=lt()+500,Ri(t,e));do try{dT();break}catch(o){Bb(t,o)}while(!0);Xp(),qc.current=s,Re=i,dt!==null?e=0:(vt=null,St=0,e=pt)}if(e!==0){if(e===2&&(i=pf(t),i!==0&&(n=i,e=$f(t,i))),e===1)throw r=Do,Ri(t,0),Mn(t,n),Jt(t,lt()),r;if(e===6)Mn(t,n);else{if(i=t.current.alternate,!(n&30)&&!cT(i)&&(e=Xc(t,n),e===2&&(s=pf(t),s!==0&&(n=s,e=$f(t,s))),e===1))throw r=Do,Ri(t,0),Mn(t,n),Jt(t,lt()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(pe(345));case 2:bi(t,Kt,rn);break;case 3:if(Mn(t,n),(n&130023424)===n&&(e=dm+500-lt(),10<e)){if(Oc(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){Ut(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=_f(bi.bind(null,t,Kt,rn),e);break}bi(t,Kt,rn);break;case 4:if(Mn(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var a=31-Ar(n);s=1<<a,a=e[a],a>i&&(i=a),n&=~s}if(n=i,n=lt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*lT(n/1960))-n,10<n){t.timeoutHandle=_f(bi.bind(null,t,Kt,rn),n);break}bi(t,Kt,rn);break;case 5:bi(t,Kt,rn);break;default:throw Error(pe(329))}}}return Jt(t,lt()),t.callbackNode===r?Fb.bind(null,t):null}function $f(t,e){var r=oo;return t.current.memoizedState.isDehydrated&&(Ri(t,e).flags|=256),t=Xc(t,e),t!==2&&(e=Kt,Kt=r,e!==null&&Wf(e)),t}function Wf(t){Kt===null?Kt=t:Kt.push.apply(Kt,t)}function cT(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!Pr(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Mn(t,e){for(e&=~um,e&=~Nu,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Ar(e),n=1<<r;t[r]=-1,e&=~n}}function k0(t){if(Re&6)throw Error(pe(327));Is();var e=Oc(t,0);if(!(e&1))return Jt(t,lt()),null;var r=Xc(t,e);if(t.tag!==0&&r===2){var n=pf(t);n!==0&&(e=n,r=$f(t,n))}if(r===1)throw r=Do,Ri(t,0),Mn(t,e),Jt(t,lt()),r;if(r===6)throw Error(pe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,bi(t,Kt,rn),Jt(t,lt()),null}function hm(t,e){var r=Re;Re|=1;try{return t(e)}finally{Re=r,Re===0&&(Qs=lt()+500,ku&&ci())}}function $i(t){zn!==null&&zn.tag===0&&!(Re&6)&&Is();var e=Re;Re|=1;var r=mr.transition,n=Fe;try{if(mr.transition=null,Fe=1,t)return t()}finally{Fe=n,mr.transition=r,Re=e,!(Re&6)&&ci()}}function fm(){er=Ns.current,qe(Ns)}function Ri(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,BE(r)),dt!==null)for(r=dt.return;r!==null;){var n=r;switch(qp(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Lc();break;case 3:Ys(),qe(Xt),qe(Dt),rm();break;case 5:tm(n);break;case 4:Ys();break;case 13:qe(Xe);break;case 19:qe(Xe);break;case 10:Qp(n.type._context);break;case 22:case 23:fm()}r=r.return}if(vt=t,dt=t=Jn(t.current,null),St=er=e,pt=0,Do=null,um=Nu=Ui=0,Kt=oo=null,Ai!==null){for(e=0;e<Ai.length;e++)if(r=Ai[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var a=s.next;s.next=i,n.next=a}r.pending=n}Ai=null}return t}function Bb(t,e){do{var r=dt;try{if(Xp(),hc.current=Kc,Vc){for(var n=Je.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Vc=!1}if(zi=0,yt=ht=Je=null,so=!1,Po=0,cm.current=null,r===null||r.return===null){pt=1,Do=e,dt=null;break}e:{var s=t,a=r.return,o=r,l=e;if(e=St,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=o,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=u0(a);if(p!==null){p.flags&=-257,d0(p,a,o,s,e),p.mode&1&&c0(s,c,e),e=p,l=c;var w=e.updateQueue;if(w===null){var g=new Set;g.add(l),e.updateQueue=g}else w.add(l);break e}else{if(!(e&1)){c0(s,c,e),pm();break e}l=Error(pe(426))}}else if(Ge&&o.mode&1){var b=u0(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),d0(b,a,o,s,e),Gp(Xs(l,o));break e}}s=l=Xs(l,o),pt!==4&&(pt=2),oo===null?oo=[s]:oo.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var m=_b(s,l,e);n0(s,m);break e;case 1:o=l;var y=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Xn===null||!Xn.has(_)))){s.flags|=65536,e&=-e,s.lanes|=e;var k=kb(s,o,e);n0(s,k);break e}}s=s.return}while(s!==null)}$b(r)}catch(T){e=T,dt===r&&r!==null&&(dt=r=r.return);continue}break}while(!0)}function zb(){var t=qc.current;return qc.current=Kc,t===null?Kc:t}function pm(){(pt===0||pt===3||pt===2)&&(pt=4),vt===null||!(Ui&268435455)&&!(Nu&268435455)||Mn(vt,St)}function Xc(t,e){var r=Re;Re|=2;var n=zb();(vt!==t||St!==e)&&(rn=null,Ri(t,e));do try{uT();break}catch(i){Bb(t,i)}while(!0);if(Xp(),Re=r,qc.current=n,dt!==null)throw Error(pe(261));return vt=null,St=0,pt}function uT(){for(;dt!==null;)Ub(dt)}function dT(){for(;dt!==null&&!MS();)Ub(dt)}function Ub(t){var e=Hb(t.alternate,t,er);t.memoizedProps=t.pendingProps,e===null?$b(t):dt=e,cm.current=null}function $b(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=iT(r,e),r!==null){r.flags&=32767,dt=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{pt=6,dt=null;return}}else if(r=nT(r,e,er),r!==null){dt=r;return}if(e=e.sibling,e!==null){dt=e;return}dt=e=t}while(e!==null);pt===0&&(pt=5)}function bi(t,e,r){var n=Fe,i=mr.transition;try{mr.transition=null,Fe=1,hT(t,e,r,n)}finally{mr.transition=i,Fe=n}return null}function hT(t,e,r,n){do Is();while(zn!==null);if(Re&6)throw Error(pe(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(pe(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(KS(t,s),t===vt&&(dt=vt=null,St=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Sl||(Sl=!0,Vb(Pc,function(){return Is(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=mr.transition,mr.transition=null;var a=Fe;Fe=1;var o=Re;Re|=4,cm.current=null,aT(t,r),Mb(r,t),OE(xf),Rc=!!vf,xf=vf=null,t.current=r,oT(r),LS(),Re=o,Fe=a,mr.transition=s}else t.current=r;if(Sl&&(Sl=!1,zn=t,Yc=i),s=t.pendingLanes,s===0&&(Xn=null),zS(r.stateNode),Jt(t,lt()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Gc)throw Gc=!1,t=zf,zf=null,t;return Yc&1&&t.tag!==0&&Is(),s=t.pendingLanes,s&1?t===Uf?lo++:(lo=0,Uf=t):lo=0,ci(),null}function Is(){if(zn!==null){var t=_x(Yc),e=mr.transition,r=Fe;try{if(mr.transition=null,Fe=16>t?16:t,zn===null)var n=!1;else{if(t=zn,zn=null,Yc=0,Re&6)throw Error(pe(331));var i=Re;for(Re|=4,we=t.current;we!==null;){var s=we,a=s.child;if(we.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(we=c;we!==null;){var u=we;switch(u.tag){case 0:case 11:case 15:ao(8,u,s)}var h=u.child;if(h!==null)h.return=u,we=h;else for(;we!==null;){u=we;var f=u.sibling,p=u.return;if(Rb(u),u===c){we=null;break}if(f!==null){f.return=p,we=f;break}we=p}}}var w=s.alternate;if(w!==null){var g=w.child;if(g!==null){w.child=null;do{var b=g.sibling;g.sibling=null,g=b}while(g!==null)}}we=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,we=a;else e:for(;we!==null;){if(s=we,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ao(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,we=m;break e}we=s.return}}var y=t.current;for(we=y;we!==null;){a=we;var _=a.child;if(a.subtreeFlags&2064&&_!==null)_.return=a,we=_;else e:for(a=y;we!==null;){if(o=we,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Tu(9,o)}}catch(T){tt(o,o.return,T)}if(o===a){we=null;break e}var k=o.sibling;if(k!==null){k.return=o.return,we=k;break e}we=o.return}}if(Re=i,ci(),Gr&&typeof Gr.onPostCommitFiberRoot=="function")try{Gr.onPostCommitFiberRoot(wu,t)}catch{}n=!0}return n}finally{Fe=r,mr.transition=e}}return!1}function S0(t,e,r){e=Xs(r,e),e=_b(t,e,1),t=Yn(t,e,1),e=Ut(),t!==null&&(Yo(t,1,e),Jt(t,e))}function tt(t,e,r){if(t.tag===3)S0(t,t,r);else for(;e!==null;){if(e.tag===3){S0(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Xn===null||!Xn.has(n))){t=Xs(r,t),t=kb(e,t,1),e=Yn(e,t,1),t=Ut(),e!==null&&(Yo(e,1,t),Jt(e,t));break}}e=e.return}}function fT(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Ut(),t.pingedLanes|=t.suspendedLanes&r,vt===t&&(St&r)===r&&(pt===4||pt===3&&(St&130023424)===St&&500>lt()-dm?Ri(t,0):um|=r),Jt(t,e)}function Wb(t,e){e===0&&(t.mode&1?(e=pl,pl<<=1,!(pl&130023424)&&(pl=4194304)):e=1);var r=Ut();t=gn(t,e),t!==null&&(Yo(t,e,r),Jt(t,r))}function pT(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),Wb(t,r)}function mT(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(pe(314))}n!==null&&n.delete(e),Wb(t,r)}var Hb;Hb=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Xt.current)Yt=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Yt=!1,rT(t,e,r);Yt=!!(t.flags&131072)}else Yt=!1,Ge&&e.flags&1048576&&Gx(e,zc,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;pc(t,e),t=e.pendingProps;var i=Ks(e,Dt.current);Ds(e,r),i=im(null,e,n,t,i,r);var s=sm();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Qt(n)?(s=!0,Fc(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Zp(e),i.updater=Eu,e.stateNode=i,i._reactInternals=e,jf(e,n,t,r),e=Of(null,e,n,!0,s,r)):(e.tag=0,Ge&&s&&Kp(e),Ft(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(pc(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=yT(n),t=kr(n,t),i){case 0:e=Pf(null,e,n,t,r);break e;case 1:e=p0(null,e,n,t,r);break e;case 11:e=h0(null,e,n,t,r);break e;case 14:e=f0(null,e,n,kr(n.type,t),r);break e}throw Error(pe(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:kr(n,i),Pf(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:kr(n,i),p0(t,e,n,i,r);case 3:e:{if(Nb(e),t===null)throw Error(pe(387));n=e.pendingProps,s=e.memoizedState,i=s.element,eb(t,e),Wc(e,n,null,r);var a=e.memoizedState;if(n=a.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Xs(Error(pe(423)),e),e=m0(t,e,n,r,i);break e}else if(n!==i){i=Xs(Error(pe(424)),e),e=m0(t,e,n,r,i);break e}else for(rr=Gn(e.stateNode.containerInfo.firstChild),ir=e,Ge=!0,Tr=null,r=Jx(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(qs(),n===i){e=yn(t,e,r);break e}Ft(t,e,n,r)}e=e.child}return e;case 5:return tb(e),t===null&&Tf(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,bf(n,i)?a=null:s!==null&&bf(n,s)&&(e.flags|=32),Tb(t,e),Ft(t,e,a,r),e.child;case 6:return t===null&&Tf(e),null;case 13:return Ab(t,e,r);case 4:return em(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Gs(e,null,n,r):Ft(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:kr(n,i),h0(t,e,n,i,r);case 7:return Ft(t,e,e.pendingProps,r),e.child;case 8:return Ft(t,e,e.pendingProps.children,r),e.child;case 12:return Ft(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,He(Uc,n._currentValue),n._currentValue=a,s!==null)if(Pr(s.value,a)){if(s.children===i.children&&!Xt.current){e=yn(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=fn(-1,r&-r),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),Nf(s.return,r,e),o.lanes|=r;break}l=l.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(pe(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),Nf(a,r,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Ft(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Ds(e,r),i=yr(i),n=n(i),e.flags|=1,Ft(t,e,n,r),e.child;case 14:return n=e.type,i=kr(n,e.pendingProps),i=kr(n.type,i),f0(t,e,n,i,r);case 15:return Sb(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:kr(n,i),pc(t,e),e.tag=1,Qt(n)?(t=!0,Fc(e)):t=!1,Ds(e,r),bb(e,n,i),jf(e,n,i,r),Of(null,e,n,!0,t,r);case 19:return jb(t,e,r);case 22:return Eb(t,e,r)}throw Error(pe(156,e.tag))};function Vb(t,e){return wx(t,e)}function gT(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fr(t,e,r,n){return new gT(t,e,r,n)}function mm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function yT(t){if(typeof t=="function")return mm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Dp)return 11;if(t===Ip)return 14}return 2}function Jn(t,e){var r=t.alternate;return r===null?(r=fr(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function yc(t,e,r,n,i,s){var a=2;if(n=t,typeof t=="function")mm(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case ys:return Di(r.children,i,s,e);case Rp:a=8,i|=8;break;case Jh:return t=fr(12,r,e,i|2),t.elementType=Jh,t.lanes=s,t;case Zh:return t=fr(13,r,e,i),t.elementType=Zh,t.lanes=s,t;case ef:return t=fr(19,r,e,i),t.elementType=ef,t.lanes=s,t;case tx:return Au(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Zv:a=10;break e;case ex:a=9;break e;case Dp:a=11;break e;case Ip:a=14;break e;case On:a=16,n=null;break e}throw Error(pe(130,t==null?t:typeof t,""))}return e=fr(a,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function Di(t,e,r,n){return t=fr(7,t,n,e),t.lanes=r,t}function Au(t,e,r,n){return t=fr(22,t,n,e),t.elementType=tx,t.lanes=r,t.stateNode={isHidden:!1},t}function Rd(t,e,r){return t=fr(6,t,null,e),t.lanes=r,t}function Dd(t,e,r){return e=fr(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function wT(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pd(0),this.expirationTimes=pd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pd(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function gm(t,e,r,n,i,s,a,o,l){return t=new wT(t,e,r,o,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=fr(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Zp(s),t}function vT(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:gs,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function Kb(t){if(!t)return ri;t=t._reactInternals;e:{if(Gi(t)!==t||t.tag!==1)throw Error(pe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Qt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(pe(171))}if(t.tag===1){var r=t.type;if(Qt(r))return Kx(t,r,e)}return e}function qb(t,e,r,n,i,s,a,o,l){return t=gm(r,n,!0,t,i,s,a,o,l),t.context=Kb(null),r=t.current,n=Ut(),i=Qn(r),s=fn(n,i),s.callback=e??null,Yn(r,s,i),t.current.lanes=i,Yo(t,i,n),Jt(t,n),t}function ju(t,e,r,n){var i=e.current,s=Ut(),a=Qn(i);return r=Kb(r),e.context===null?e.context=r:e.pendingContext=r,e=fn(s,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Yn(i,e,a),t!==null&&(jr(t,i,a,s),dc(t,i,a)),a}function Qc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function E0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function ym(t,e){E0(t,e),(t=t.alternate)&&E0(t,e)}function xT(){return null}var Gb=typeof reportError=="function"?reportError:function(t){console.error(t)};function wm(t){this._internalRoot=t}Cu.prototype.render=wm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(pe(409));ju(t,e,null,null)};Cu.prototype.unmount=wm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;$i(function(){ju(null,t,null,null)}),e[mn]=null}};function Cu(t){this._internalRoot=t}Cu.prototype.unstable_scheduleHydration=function(t){if(t){var e=Ex();t={blockedOn:null,target:t,priority:e};for(var r=0;r<In.length&&e!==0&&e<In[r].priority;r++);In.splice(r,0,t),r===0&&Nx(t)}};function vm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Pu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function T0(){}function bT(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var c=Qc(a);s.call(c)}}var a=qb(e,n,t,0,null,!1,!1,"",T0);return t._reactRootContainer=a,t[mn]=a.current,To(t.nodeType===8?t.parentNode:t),$i(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var c=Qc(l);o.call(c)}}var l=gm(t,0,!1,null,null,!1,!1,"",T0);return t._reactRootContainer=l,t[mn]=l.current,To(t.nodeType===8?t.parentNode:t),$i(function(){ju(e,l,r,n)}),l}function Ou(t,e,r,n,i){var s=r._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var l=Qc(a);o.call(l)}}ju(e,a,t,i)}else a=bT(r,e,t,i,n);return Qc(a)}kx=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Ka(e.pendingLanes);r!==0&&(Fp(e,r|1),Jt(e,lt()),!(Re&6)&&(Qs=lt()+500,ci()))}break;case 13:$i(function(){var n=gn(t,1);if(n!==null){var i=Ut();jr(n,t,1,i)}}),ym(t,1)}};Bp=function(t){if(t.tag===13){var e=gn(t,134217728);if(e!==null){var r=Ut();jr(e,t,134217728,r)}ym(t,134217728)}};Sx=function(t){if(t.tag===13){var e=Qn(t),r=gn(t,e);if(r!==null){var n=Ut();jr(r,t,e,n)}ym(t,e)}};Ex=function(){return Fe};Tx=function(t,e){var r=Fe;try{return Fe=t,e()}finally{Fe=r}};df=function(t,e,r){switch(e){case"input":if(nf(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=_u(n);if(!i)throw Error(pe(90));nx(n),nf(n,i)}}}break;case"textarea":sx(t,r);break;case"select":e=r.value,e!=null&&Cs(t,!!r.multiple,e,!1)}};hx=hm;fx=$i;var _T={usingClientEntryPoint:!1,Events:[Qo,bs,_u,ux,dx,hm]},Pa={findFiberByHostInstance:Ni,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},kT={bundleType:Pa.bundleType,version:Pa.version,rendererPackageName:Pa.rendererPackageName,rendererConfig:Pa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:bn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=gx(t),t===null?null:t.stateNode},findFiberByHostInstance:Pa.findFiberByHostInstance||xT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var El=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!El.isDisabled&&El.supportsFiber)try{wu=El.inject(kT),Gr=El}catch{}}ar.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_T;ar.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vm(e))throw Error(pe(200));return vT(t,e,null,r)};ar.createRoot=function(t,e){if(!vm(t))throw Error(pe(299));var r=!1,n="",i=Gb;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=gm(t,1,!1,null,null,r,!1,n,i),t[mn]=e.current,To(t.nodeType===8?t.parentNode:t),new wm(e)};ar.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(pe(188)):(t=Object.keys(t).join(","),Error(pe(268,t)));return t=gx(e),t=t===null?null:t.stateNode,t};ar.flushSync=function(t){return $i(t)};ar.hydrate=function(t,e,r){if(!Pu(e))throw Error(pe(200));return Ou(null,t,e,!0,r)};ar.hydrateRoot=function(t,e,r){if(!vm(t))throw Error(pe(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",a=Gb;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=qb(e,null,t,1,r??null,i,!1,s,a),t[mn]=e.current,To(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new Cu(e)};ar.render=function(t,e,r){if(!Pu(e))throw Error(pe(200));return Ou(null,t,e,!1,r)};ar.unmountComponentAtNode=function(t){if(!Pu(t))throw Error(pe(40));return t._reactRootContainer?($i(function(){Ou(null,null,t,!1,function(){t._reactRootContainer=null,t[mn]=null})}),!0):!1};ar.unstable_batchedUpdates=hm;ar.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Pu(r))throw Error(pe(200));if(t==null||t._reactInternals===void 0)throw Error(pe(38));return Ou(t,e,r,!1,n)};ar.version="18.3.1-next-f1338f8080-20240426";function Yb(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Yb)}catch(t){console.error(t)}}Yb(),Yv.exports=ar;var ST=Yv.exports,Xb,N0=ST;Xb=N0.createRoot,N0.hydrateRoot;let ET={data:""},TT=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||ET,NT=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,AT=/\/\*[^]*?\*\/|  +/g,A0=/\n+/g,Ln=(t,e)=>{let r="",n="",i="";for(let s in t){let a=t[s];s[0]=="@"?s[1]=="i"?r=s+" "+a+";":n+=s[1]=="f"?Ln(a,s):s+"{"+Ln(a,s[1]=="k"?"":e)+"}":typeof a=="object"?n+=Ln(a,e?e.replace(/([^,])+/g,o=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,o):o?o+" "+l:l)):s):a!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Ln.p?Ln.p(s,a):s+":"+a+";")}return r+(e&&i?e+"{"+i+"}":i)+n},Qr={},Qb=t=>{if(typeof t=="object"){let e="";for(let r in t)e+=r+Qb(t[r]);return e}return t},jT=(t,e,r,n,i)=>{let s=Qb(t),a=Qr[s]||(Qr[s]=(l=>{let c=0,u=11;for(;c<l.length;)u=101*u+l.charCodeAt(c++)>>>0;return"go"+u})(s));if(!Qr[a]){let l=s!==t?t:(c=>{let u,h,f=[{}];for(;u=NT.exec(c.replace(AT,""));)u[4]?f.shift():u[3]?(h=u[3].replace(A0," ").trim(),f.unshift(f[0][h]=f[0][h]||{})):f[0][u[1]]=u[2].replace(A0," ").trim();return f[0]})(t);Qr[a]=Ln(i?{["@keyframes "+a]:l}:l,r?"":"."+a)}let o=r&&Qr.g?Qr.g:null;return r&&(Qr.g=Qr[a]),((l,c,u,h)=>{h?c.data=c.data.replace(h,l):c.data.indexOf(l)===-1&&(c.data=u?l+c.data:c.data+l)})(Qr[a],e,n,o),a},CT=(t,e,r)=>t.reduce((n,i,s)=>{let a=e[s];if(a&&a.call){let o=a(r),l=o&&o.props&&o.props.className||/^go/.test(o)&&o;a=l?"."+l:o&&typeof o=="object"?o.props?"":Ln(o,""):o===!1?"":o}return n+i+(a??"")},"");function Ru(t){let e=this||{},r=t.call?t(e.p):t;return jT(r.unshift?r.raw?CT(r,[].slice.call(arguments,1),e.p):r.reduce((n,i)=>Object.assign(n,i&&i.call?i(e.p):i),{}):r,TT(e.target),e.g,e.o,e.k)}let Jb,Hf,Vf;Ru.bind({g:1});let wn=Ru.bind({k:1});function PT(t,e,r,n){Ln.p=e,Jb=t,Hf=r,Vf=n}function ui(t,e){let r=this||{};return function(){let n=arguments;function i(s,a){let o=Object.assign({},s),l=o.className||i.className;r.p=Object.assign({theme:Hf&&Hf()},o),r.o=/ *go\d+/.test(l),o.className=Ru.apply(r,n)+(l?" "+l:"");let c=t;return t[0]&&(c=o.as||t,delete o.as),Vf&&c[0]&&Vf(o),Jb(c,o)}return i}}var OT=t=>typeof t=="function",Jc=(t,e)=>OT(t)?t(e):t,RT=(()=>{let t=0;return()=>(++t).toString()})(),Zb=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),DT=20,e1=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,DT)};case 1:return{...t,toasts:t.toasts.map(s=>s.id===e.toast.id?{...s,...e.toast}:s)};case 2:let{toast:r}=e;return e1(t,{type:t.toasts.find(s=>s.id===r.id)?1:0,toast:r});case 3:let{toastId:n}=e;return{...t,toasts:t.toasts.map(s=>s.id===n||n===void 0?{...s,dismissed:!0,visible:!1}:s)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(s=>s.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+i}))}}},wc=[],vc={toasts:[],pausedAt:void 0},Yi=t=>{vc=e1(vc,t),wc.forEach(e=>{e(vc)})},IT={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},MT=(t={})=>{let[e,r]=K.useState(vc);K.useEffect(()=>(wc.push(r),()=>{let i=wc.indexOf(r);i>-1&&wc.splice(i,1)}),[e]);let n=e.toasts.map(i=>{var s,a,o;return{...t,...t[i.type],...i,removeDelay:i.removeDelay||((s=t[i.type])==null?void 0:s.removeDelay)||(t==null?void 0:t.removeDelay),duration:i.duration||((a=t[i.type])==null?void 0:a.duration)||(t==null?void 0:t.duration)||IT[i.type],style:{...t.style,...(o=t[i.type])==null?void 0:o.style,...i.style}}});return{...e,toasts:n}},LT=(t,e="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...r,id:(r==null?void 0:r.id)||RT()}),Zo=t=>(e,r)=>{let n=LT(e,t,r);return Yi({type:2,toast:n}),n.id},Bt=(t,e)=>Zo("blank")(t,e);Bt.error=Zo("error");Bt.success=Zo("success");Bt.loading=Zo("loading");Bt.custom=Zo("custom");Bt.dismiss=t=>{Yi({type:3,toastId:t})};Bt.remove=t=>Yi({type:4,toastId:t});Bt.promise=(t,e,r)=>{let n=Bt.loading(e.loading,{...r,...r==null?void 0:r.loading});return typeof t=="function"&&(t=t()),t.then(i=>{let s=e.success?Jc(e.success,i):void 0;return s?Bt.success(s,{id:n,...r,...r==null?void 0:r.success}):Bt.dismiss(n),i}).catch(i=>{let s=e.error?Jc(e.error,i):void 0;s?Bt.error(s,{id:n,...r,...r==null?void 0:r.error}):Bt.dismiss(n)}),t};var FT=(t,e)=>{Yi({type:1,toast:{id:t,height:e}})},BT=()=>{Yi({type:5,time:Date.now()})},co=new Map,zT=1e3,UT=(t,e=zT)=>{if(co.has(t))return;let r=setTimeout(()=>{co.delete(t),Yi({type:4,toastId:t})},e);co.set(t,r)},$T=t=>{let{toasts:e,pausedAt:r}=MT(t);K.useEffect(()=>{if(r)return;let s=Date.now(),a=e.map(o=>{if(o.duration===1/0)return;let l=(o.duration||0)+o.pauseDuration-(s-o.createdAt);if(l<0){o.visible&&Bt.dismiss(o.id);return}return setTimeout(()=>Bt.dismiss(o.id),l)});return()=>{a.forEach(o=>o&&clearTimeout(o))}},[e,r]);let n=K.useCallback(()=>{r&&Yi({type:6,time:Date.now()})},[r]),i=K.useCallback((s,a)=>{let{reverseOrder:o=!1,gutter:l=8,defaultPosition:c}=a||{},u=e.filter(p=>(p.position||c)===(s.position||c)&&p.height),h=u.findIndex(p=>p.id===s.id),f=u.filter((p,w)=>w<h&&p.visible).length;return u.filter(p=>p.visible).slice(...o?[f+1]:[0,f]).reduce((p,w)=>p+(w.height||0)+l,0)},[e]);return K.useEffect(()=>{e.forEach(s=>{if(s.dismissed)UT(s.id,s.removeDelay);else{let a=co.get(s.id);a&&(clearTimeout(a),co.delete(s.id))}})},[e]),{toasts:e,handlers:{updateHeight:FT,startPause:BT,endPause:n,calculateOffset:i}}},WT=wn`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,HT=wn`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,VT=wn`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,KT=ui("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${WT} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${HT} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${VT} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,qT=wn`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,GT=ui("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${qT} 1s linear infinite;
`,YT=wn`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,XT=wn`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,QT=ui("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${YT} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${XT} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,JT=ui("div")`
  position: absolute;
`,ZT=ui("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,eN=wn`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,tN=ui("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${eN} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,rN=({toast:t})=>{let{icon:e,type:r,iconTheme:n}=t;return e!==void 0?typeof e=="string"?K.createElement(tN,null,e):e:r==="blank"?null:K.createElement(ZT,null,K.createElement(GT,{...n}),r!=="loading"&&K.createElement(JT,null,r==="error"?K.createElement(KT,{...n}):K.createElement(QT,{...n})))},nN=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,iN=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,sN="0%{opacity:0;} 100%{opacity:1;}",aN="0%{opacity:1;} 100%{opacity:0;}",oN=ui("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,lN=ui("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,cN=(t,e)=>{let r=t.includes("top")?1:-1,[n,i]=Zb()?[sN,aN]:[nN(r),iN(r)];return{animation:e?`${wn(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${wn(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},uN=K.memo(({toast:t,position:e,style:r,children:n})=>{let i=t.height?cN(t.position||e||"top-center",t.visible):{opacity:0},s=K.createElement(rN,{toast:t}),a=K.createElement(lN,{...t.ariaProps},Jc(t.message,t));return K.createElement(oN,{className:t.className,style:{...i,...r,...t.style}},typeof n=="function"?n({icon:s,message:a}):K.createElement(K.Fragment,null,s,a))});PT(K.createElement);var dN=({id:t,className:e,style:r,onHeightUpdate:n,children:i})=>{let s=K.useCallback(a=>{if(a){let o=()=>{let l=a.getBoundingClientRect().height;n(t,l)};o(),new MutationObserver(o).observe(a,{subtree:!0,childList:!0,characterData:!0})}},[t,n]);return K.createElement("div",{ref:s,className:e,style:r},i)},hN=(t,e)=>{let r=t.includes("top"),n=r?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Zb()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(r?1:-1)}px)`,...n,...i}},fN=Ru`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Tl=16,pN=({reverseOrder:t,position:e="top-center",toastOptions:r,gutter:n,children:i,containerStyle:s,containerClassName:a})=>{let{toasts:o,handlers:l}=$T(r);return K.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Tl,left:Tl,right:Tl,bottom:Tl,pointerEvents:"none",...s},className:a,onMouseEnter:l.startPause,onMouseLeave:l.endPause},o.map(c=>{let u=c.position||e,h=l.calculateOffset(c,{reverseOrder:t,gutter:n,defaultPosition:e}),f=hN(u,h);return K.createElement(dN,{id:c.id,key:c.id,onHeightUpdate:l.updateHeight,className:c.visible?fN:"",style:f},c.type==="custom"?Jc(c.message,c):i?i(c):K.createElement(uN,{toast:c,position:u}))}))},ye=Bt;const mN="modulepreload",gN=function(t){return"/"+t},j0={},Js=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(r.map(l=>{if(l=gN(l),l in j0)return;j0[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":mN,c||(h.as="script"),h.crossOrigin="",h.href=l,o&&h.setAttribute("nonce",o),document.head.appendChild(h),c)return new Promise((f,p)=>{h.addEventListener("load",f),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return e().catch(s)})},yN=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Js(async()=>{const{default:n}=await Promise.resolve().then(()=>fa);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class xm extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class wN extends xm{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class vN extends xm{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class xN extends xm{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Kf;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Kf||(Kf={}));var bN=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(u){try{c(n.next(u))}catch(h){a(h)}}function l(u){try{c(n.throw(u))}catch(h){a(h)}}function c(u){u.done?s(u.value):i(u.value).then(o,l)}c((n=n.apply(t,e||[])).next())})};class _N{constructor(e,{headers:r={},customFetch:n,region:i=Kf.Any}={}){this.url=e,this.headers=r,this.region=i,this.fetch=yN(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return bN(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:a}=r;let o={},{region:l}=r;l||(l=this.region),l&&l!=="any"&&(o["x-region"]=l);let c;a&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",c=a):typeof a=="string"?(o["Content-Type"]="text/plain",c=a):typeof FormData<"u"&&a instanceof FormData?c=a:(o["Content-Type"]="application/json",c=JSON.stringify(a)));const u=yield this.fetch(`${this.url}/${e}`,{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),i),body:c}).catch(w=>{throw new wN(w)}),h=u.headers.get("x-relay-error");if(h&&h==="true")throw new vN(u);if(!u.ok)throw new xN(u);let f=((n=u.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),p;return f==="application/json"?p=yield u.json():f==="application/octet-stream"?p=yield u.blob():f==="text/event-stream"?p=u:f==="multipart/form-data"?p=yield u.formData():p=yield u.text(),{data:p,error:null}}catch(i){return{data:null,error:i}}})}}var qt={},bm={},Du={},el={},Iu={},Mu={},kN=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Zs=kN();const SN=Zs.fetch,t1=Zs.fetch.bind(Zs),r1=Zs.Headers,EN=Zs.Request,TN=Zs.Response,fa=Object.freeze(Object.defineProperty({__proto__:null,Headers:r1,Request:EN,Response:TN,default:t1,fetch:SN},Symbol.toStringTag,{value:"Module"})),NN=Jk(fa);var Lu={};Object.defineProperty(Lu,"__esModule",{value:!0});let AN=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Lu.default=AN;var n1=_t&&_t.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Mu,"__esModule",{value:!0});const jN=n1(NN),CN=n1(Lu);let PN=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=jN.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=Object.assign({},this.headers),this.headers[e]=r,this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var a,o,l;let c=null,u=null,h=null,f=s.status,p=s.statusText;if(s.ok){if(this.method!=="HEAD"){const m=await s.text();m===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=m:u=JSON.parse(m))}const g=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),b=(o=s.headers.get("content-range"))===null||o===void 0?void 0:o.split("/");g&&b&&b.length>1&&(h=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(c={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,h=null,f=406,p="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const g=await s.text();try{c=JSON.parse(g),Array.isArray(c)&&s.status===404&&(u=[],c=null,f=200,p="OK")}catch{s.status===404&&g===""?(f=204,p="No Content"):c={message:g}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,f=200,p="OK"),c&&this.shouldThrowOnError)throw new CN.default(c)}return{error:c,data:u,count:h,status:f,statusText:p}});return this.shouldThrowOnError||(i=i.catch(s=>{var a,o,l;return{error:{message:`${(a=s==null?void 0:s.name)!==null&&a!==void 0?a:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(o=s==null?void 0:s.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(l=s==null?void 0:s.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(e,r)}};Mu.default=PN;var ON=_t&&_t.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Iu,"__esModule",{value:!0});const RN=ON(Mu);let DN=class extends RN.default{select(e){let r=!1;const n=(e??"*").split("").map(i=>/\s/.test(i)&&!r?"":(i==='"'&&(r=!r),i)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:r=!0,nullsFirst:n,foreignTable:i,referencedTable:s=i}={}){const a=s?`${s}.order`:"order",o=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${o?`${o},`:""}${e}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,r,{foreignTable:n,referencedTable:i=n}={}){const s=typeof i>"u"?"offset":`${i}.offset`,a=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(a,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:r=!1,settings:n=!1,buffers:i=!1,wal:s=!1,format:a="text"}={}){var o;const l=[e?"analyze":null,r?"verbose":null,n?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),c=(o=this.headers.Accept)!==null&&o!==void 0?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${c}"; options=${l};`,a==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Iu.default=DN;var IN=_t&&_t.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(el,"__esModule",{value:!0});const MN=IN(Iu);let LN=class extends MN.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const n=Array.from(new Set(r)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");const a=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${s}fts${a}.${r}`),this}match(e){return Object.entries(e).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(e,r,n){return this.url.searchParams.append(e,`not.${r}.${n}`),this}or(e,{foreignTable:r,referencedTable:n=r}={}){const i=n?`${n}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,r,n){return this.url.searchParams.append(e,`${r}.${n}`),this}};el.default=LN;var FN=_t&&_t.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Du,"__esModule",{value:!0});const Oa=FN(el);let BN=class{constructor(e,{headers:r={},schema:n,fetch:i}){this.url=e,this.headers=r,this.schema=n,this.fetch=i}select(e,{head:r=!1,count:n}={}){const i=r?"HEAD":"GET";let s=!1;const a=(e??"*").split("").map(o=>/\s/.test(o)&&!s?"":(o==='"'&&(s=!s),o)).join("");return this.url.searchParams.set("select",a),n&&(this.headers.Prefer=`count=${n}`),new Oa.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:r,defaultToNull:n=!0}={}){const i="POST",s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),n||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(e)){const a=e.reduce((o,l)=>o.concat(Object.keys(l)),[]);if(a.length>0){const o=[...new Set(a)].map(l=>`"${l}"`);this.url.searchParams.set("columns",o.join(","))}}return new Oa.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:r,ignoreDuplicates:n=!1,count:i,defaultToNull:s=!0}={}){const a="POST",o=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&o.push(this.headers.Prefer),i&&o.push(`count=${i}`),s||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new Oa.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:r}={}){const n="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),this.headers.Prefer=i.join(","),new Oa.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const r="DELETE",n=[];return e&&n.push(`count=${e}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Oa.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Du.default=BN;var Fu={},Bu={};Object.defineProperty(Bu,"__esModule",{value:!0});Bu.version=void 0;Bu.version="0.0.0-automated";Object.defineProperty(Fu,"__esModule",{value:!0});Fu.DEFAULT_HEADERS=void 0;const zN=Bu;Fu.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${zN.version}`};var i1=_t&&_t.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(bm,"__esModule",{value:!0});const UN=i1(Du),$N=i1(el),WN=Fu;let HN=class s1{constructor(e,{headers:r={},schema:n,fetch:i}={}){this.url=e,this.headers=Object.assign(Object.assign({},WN.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=i}from(e){const r=new URL(`${this.url}/${e}`);return new UN.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new s1(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:i=!1,count:s}={}){let a;const o=new URL(`${this.url}/rpc/${e}`);let l;n||i?(a=n?"HEAD":"GET",Object.entries(r).filter(([u,h])=>h!==void 0).map(([u,h])=>[u,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([u,h])=>{o.searchParams.append(u,h)})):(a="POST",l=r);const c=Object.assign({},this.headers);return s&&(c.Prefer=`count=${s}`),new $N.default({method:a,url:o,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};bm.default=HN;var pa=_t&&_t.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(qt,"__esModule",{value:!0});qt.PostgrestError=qt.PostgrestBuilder=qt.PostgrestTransformBuilder=qt.PostgrestFilterBuilder=qt.PostgrestQueryBuilder=qt.PostgrestClient=void 0;const a1=pa(bm);qt.PostgrestClient=a1.default;const o1=pa(Du);qt.PostgrestQueryBuilder=o1.default;const l1=pa(el);qt.PostgrestFilterBuilder=l1.default;const c1=pa(Iu);qt.PostgrestTransformBuilder=c1.default;const u1=pa(Mu);qt.PostgrestBuilder=u1.default;const d1=pa(Lu);qt.PostgrestError=d1.default;var VN=qt.default={PostgrestClient:a1.default,PostgrestQueryBuilder:o1.default,PostgrestFilterBuilder:l1.default,PostgrestTransformBuilder:c1.default,PostgrestBuilder:u1.default,PostgrestError:d1.default};const{PostgrestClient:KN,PostgrestQueryBuilder:q3,PostgrestFilterBuilder:G3,PostgrestTransformBuilder:Y3,PostgrestBuilder:X3,PostgrestError:Q3}=VN,qN="2.11.2",GN={"X-Client-Info":`realtime-js/${qN}`},YN="1.0.0",h1=1e4,XN=1e3;var Ms;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Ms||(Ms={}));var Zt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Zt||(Zt={}));var Er;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Er||(Er={}));var qf;(function(t){t.websocket="websocket"})(qf||(qf={}));var Ti;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Ti||(Ti={}));class QN{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const i=r.getUint8(1),s=r.getUint8(2);let a=this.HEADER_LENGTH+2;const o=n.decode(e.slice(a,a+i));a=a+i;const l=n.decode(e.slice(a,a+s));a=a+s;const c=JSON.parse(n.decode(e.slice(a,e.byteLength)));return{ref:null,topic:o,event:l,payload:c}}}class f1{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var We;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(We||(We={}));const C0=(t,e,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((s,a)=>(s[a]=JN(a,t,e,i),s),{})},JN=(t,e,r,n)=>{const i=e.find(o=>o.name===t),s=i==null?void 0:i.type,a=r[t];return s&&!n.includes(s)?p1(s,a):Gf(a)},p1=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return rA(e,r)}switch(t){case We.bool:return ZN(e);case We.float4:case We.float8:case We.int2:case We.int4:case We.int8:case We.numeric:case We.oid:return eA(e);case We.json:case We.jsonb:return tA(e);case We.timestamp:return nA(e);case We.abstime:case We.date:case We.daterange:case We.int4range:case We.int8range:case We.money:case We.reltime:case We.text:case We.time:case We.timestamptz:case We.timetz:case We.tsrange:case We.tstzrange:return Gf(e);default:return Gf(e)}},Gf=t=>t,ZN=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},eA=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},tA=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},rA=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let s;const a=t.slice(1,r);try{s=JSON.parse("["+a+"]")}catch{s=a?a.split(","):[]}return s.map(o=>p1(e,o))}return t},nA=t=>typeof t=="string"?t.replace(" ","T"):t,m1=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Id{constructor(e,r,n={},i=h1){this.channel=e,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var P0;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(P0||(P0={}));class uo{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=uo.syncState(this.state,i,s,a),this.pendingDiffs.forEach(l=>{this.state=uo.syncDiff(this.state,l,s,a)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},i=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=uo.syncDiff(this.state,i,s,a),o())}),this.onJoin((i,s,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:a})}),this.onLeave((i,s,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,i){const s=this.cloneDeep(e),a=this.transformState(r),o={},l={};return this.map(s,(c,u)=>{a[c]||(l[c]=u)}),this.map(a,(c,u)=>{const h=s[c];if(h){const f=u.map(b=>b.presence_ref),p=h.map(b=>b.presence_ref),w=u.filter(b=>p.indexOf(b.presence_ref)<0),g=h.filter(b=>f.indexOf(b.presence_ref)<0);w.length>0&&(o[c]=w),g.length>0&&(l[c]=g)}else o[c]=u}),this.syncDiff(s,{joins:o,leaves:l},n,i)}static syncDiff(e,r,n,i){const{joins:s,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(s,(o,l)=>{var c;const u=(c=e[o])!==null&&c!==void 0?c:[];if(e[o]=this.cloneDeep(l),u.length>0){const h=e[o].map(p=>p.presence_ref),f=u.filter(p=>h.indexOf(p.presence_ref)<0);e[o].unshift(...f)}n(o,u,l)}),this.map(a,(o,l)=>{let c=e[o];if(!c)return;const u=l.map(h=>h.presence_ref);c=c.filter(h=>u.indexOf(h.presence_ref)<0),e[o]=c,i(o,c,l),c.length===0&&delete e[o]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const i=e[n];return"metas"in i?r[n]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=i,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var O0;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(O0||(O0={}));var R0;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(R0||(R0={}));var nn;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(nn||(nn={}));class _m{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=Zt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Id(this,Er.join,this.params,this.timeout),this.rejoinTimer=new f1(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Zt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Zt.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Zt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Zt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Er.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new uo(this),this.broadcastEndpointURL=m1(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:s,presence:a,private:o}}=this.params;this._onError(u=>e==null?void 0:e(nn.CHANNEL_ERROR,u)),this._onClose(()=>e==null?void 0:e(nn.CLOSED));const l={},c={broadcast:s,presence:a,postgres_changes:(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(u=>u.filter))!==null&&i!==void 0?i:[],private:o};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:u})=>{var h;if(this.socket.setAuth(),u===void 0){e==null||e(nn.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,p=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,w=[];for(let g=0;g<p;g++){const b=f[g],{filter:{event:m,schema:y,table:_,filter:k}}=b,T=u&&u[g];if(T&&T.event===m&&T.schema===y&&T.table===_&&T.filter===k)w.push(Object.assign(Object.assign({},b),{id:T.id}));else{this.unsubscribe(),e==null||e(nn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,e&&e(nn.SUBSCRIBED);return}}).receive("error",u=>{e==null||e(nn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(nn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this._on(e,r,n)}async send(e,r={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){const{event:s,payload:a}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,o,l;const c=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),c.receive("ok",()=>s("ok")),c.receive("error",()=>s("error")),c.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Zt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Er.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const i=new Id(this,Er.leave,{},e);i.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}async _fetchWithTimeout(e,r,n){const i=new AbortController,s=setTimeout(()=>i.abort(),n),a=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(s),a}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Id(this,e,r,n);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var i,s;const a=e.toLocaleLowerCase(),{close:o,error:l,leave:c,join:u}=Er;if(n&&[o,l,c,u].indexOf(a)>=0&&n!==this._joinRef())return;let f=this._onMessage(a,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(p=>{var w,g,b;return((w=p.filter)===null||w===void 0?void 0:w.event)==="*"||((b=(g=p.filter)===null||g===void 0?void 0:g.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===a}).map(p=>p.callback(f,n)):(s=this.bindings[a])===null||s===void 0||s.filter(p=>{var w,g,b,m,y,_;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in p){const k=p.id,T=(w=p.filter)===null||w===void 0?void 0:w.event;return k&&((g=r.ids)===null||g===void 0?void 0:g.includes(k))&&(T==="*"||(T==null?void 0:T.toLocaleLowerCase())===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const k=(y=(m=p==null?void 0:p.filter)===null||m===void 0?void 0:m.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return k==="*"||k===((_=r==null?void 0:r.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===a}).map(p=>{if(typeof f=="object"&&"ids"in f){const w=f.data,{schema:g,table:b,commit_timestamp:m,type:y,errors:_}=w;f=Object.assign(Object.assign({},{schema:g,table:b,commit_timestamp:m,eventType:y,new:{},old:{},errors:_}),this._getPayloadRecords(w))}p.callback(f,n)})}_isClosed(){return this.state===Zt.closed}_isJoined(){return this.state===Zt.joined}_isJoining(){return this.state===Zt.joining}_isLeaving(){return this.state===Zt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const i=e.toLocaleLowerCase(),s={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&_m.isEqual(i.filter,r))}),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Er.close,{},e)}_onError(e){this._on(Er.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Zt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=C0(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=C0(e.columns,e.old_record)),r}}const iA=()=>{},sA=typeof WebSocket<"u",aA=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class oA{constructor(e,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=GN,this.params={},this.timeout=h1,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=iA,this.conn=null,this.sendBuffer=[],this.serializer=new QN,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=s=>{let a;return s?a=s:typeof fetch>"u"?a=(...o)=>Js(async()=>{const{default:l}=await Promise.resolve().then(()=>fa);return{default:l}},void 0).then(({default:l})=>l(...o)):a=fetch,(...o)=>a(...o)},this.endPoint=`${e}/${qf.websocket}`,this.httpEndpoint=m1(e),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const i=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(s,a)=>a(JSON.stringify(s)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new f1(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(sA){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new lA(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Js(async()=>{const{default:e}=await import("./browser-B8dcAOJW.js").then(r=>r.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:YN}))}disconnect(e,r){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ms.connecting:return Ti.Connecting;case Ms.open:return Ti.Open;case Ms.closing:return Ti.Closing;default:return Ti.Closed}}isConnected(){return this.connectionState()===Ti.Open}channel(e,r={config:{}}){const n=new _m(`realtime:${e}`,r,this);return this.channels.push(n),n}push(e){const{topic:r,event:n,payload:i,ref:s}=e,a=()=>{this.encode(e,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${r} ${n} (${s})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){let r=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let n=null;try{n=JSON.parse(atob(r.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=r,this.channels.forEach(i=>{r&&i.updateJoinPayload({access_token:r}),i.joinedOnce&&i._isJoined()&&i._push(Er.access_token,{access_token:r})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(XN,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,r=>{let{topic:n,event:i,payload:s,ref:a}=r;a&&a===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${n} ${i} ${a&&"("+a+")"||""}`,s),this.channels.filter(o=>o._isMember(n)).forEach(o=>o._trigger(i,s,a)),this.stateChangeCallbacks.message.forEach(o=>o(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Er.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${e}${n}${i}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([aA],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class lA{constructor(e,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Ms.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=n.close}}class km extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function gt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class cA extends km{constructor(e,r){super(e),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Yf extends km{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var uA=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(u){try{c(n.next(u))}catch(h){a(h)}}function l(u){try{c(n.throw(u))}catch(h){a(h)}}function c(u){u.done?s(u.value):i(u.value).then(o,l)}c((n=n.apply(t,e||[])).next())})};const g1=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Js(async()=>{const{default:n}=await Promise.resolve().then(()=>fa);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},dA=()=>uA(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Js(()=>Promise.resolve().then(()=>fa),void 0)).Response:Response}),Xf=t=>{if(Array.isArray(t))return t.map(r=>Xf(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[i]=Xf(n)}),e};var Xi=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(u){try{c(n.next(u))}catch(h){a(h)}}function l(u){try{c(n.throw(u))}catch(h){a(h)}}function c(u){u.done?s(u.value):i(u.value).then(o,l)}c((n=n.apply(t,e||[])).next())})};const Md=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),hA=(t,e,r)=>Xi(void 0,void 0,void 0,function*(){const n=yield dA();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(i=>{e(new cA(Md(i),t.status||500))}).catch(i=>{e(new Yf(Md(i),i))}):e(new Yf(Md(t),t))}),fA=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n&&(i.body=JSON.stringify(n)),Object.assign(Object.assign({},i),r))};function tl(t,e,r,n,i,s){return Xi(this,void 0,void 0,function*(){return new Promise((a,o)=>{t(r,fA(e,n,i,s)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>a(l)).catch(l=>hA(l,o,n))})})}function Zc(t,e,r,n){return Xi(this,void 0,void 0,function*(){return tl(t,"GET",e,r,n)})}function Dn(t,e,r,n,i){return Xi(this,void 0,void 0,function*(){return tl(t,"POST",e,n,i,r)})}function pA(t,e,r,n,i){return Xi(this,void 0,void 0,function*(){return tl(t,"PUT",e,n,i,r)})}function mA(t,e,r,n){return Xi(this,void 0,void 0,function*(){return tl(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function y1(t,e,r,n,i){return Xi(this,void 0,void 0,function*(){return tl(t,"DELETE",e,n,i,r)})}var Ht=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(u){try{c(n.next(u))}catch(h){a(h)}}function l(u){try{c(n.throw(u))}catch(h){a(h)}}function c(u){u.done?s(u.value):i(u.value).then(o,l)}c((n=n.apply(t,e||[])).next())})};const gA={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},D0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class yA{constructor(e,r={},n,i){this.url=e,this.headers=r,this.bucketId=n,this.fetch=g1(i)}uploadOrUpdate(e,r,n,i){return Ht(this,void 0,void 0,function*(){try{let s;const a=Object.assign(Object.assign({},D0),i);let o=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",a.cacheControl),l&&s.append("metadata",this.encodeMetadata(l)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.append("cacheControl",a.cacheControl),l&&s.append("metadata",this.encodeMetadata(l))):(s=n,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,l&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(o=Object.assign(Object.assign({},o),i.headers));const c=this._removeEmptyFolders(r),u=this._getFinalPath(c),h=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:e,body:s,headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{})),f=yield h.json();return h.ok?{data:{path:c,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(s){if(gt(s))return{data:null,error:s};throw s}})}upload(e,r,n){return Ht(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,i){return Ht(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),a=this._getFinalPath(s),o=new URL(this.url+`/object/upload/sign/${a}`);o.searchParams.set("token",r);try{let l;const c=Object.assign({upsert:D0.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const h=yield this.fetch(o.toString(),{method:"PUT",body:l,headers:u}),f=yield h.json();return h.ok?{data:{path:s,fullPath:f.Key},error:null}:{data:null,error:f}}catch(l){if(gt(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,r){return Ht(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const s=yield Dn(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),a=new URL(this.url+s.url),o=a.searchParams.get("token");if(!o)throw new km("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:o},error:null}}catch(n){if(gt(n))return{data:null,error:n};throw n}})}update(e,r,n){return Ht(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return Ht(this,void 0,void 0,function*(){try{return{data:yield Dn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(gt(i))return{data:null,error:i};throw i}})}copy(e,r,n){return Ht(this,void 0,void 0,function*(){try{return{data:{path:(yield Dn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(gt(i))return{data:null,error:i};throw i}})}createSignedUrl(e,r,n){return Ht(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),s=yield Dn(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${a}`)},{data:s,error:null}}catch(i){if(gt(i))return{data:null,error:i};throw i}})}createSignedUrls(e,r,n){return Ht(this,void 0,void 0,function*(){try{const i=yield Dn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${s}`):null})),error:null}}catch(i){if(gt(i))return{data:null,error:i};throw i}})}download(e,r){return Ht(this,void 0,void 0,function*(){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),a=s?`?${s}`:"";try{const o=this._getFinalPath(e);return{data:yield(yield Zc(this.fetch,`${this.url}/${i}/${o}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(gt(o))return{data:null,error:o};throw o}})}info(e){return Ht(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield Zc(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Xf(n),error:null}}catch(n){if(gt(n))return{data:null,error:n};throw n}})}exists(e){return Ht(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield mA(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(gt(n)&&n instanceof Yf){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),i=[],s=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";s!==""&&i.push(s);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${c}`)}}}remove(e){return Ht(this,void 0,void 0,function*(){try{return{data:yield y1(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(gt(r))return{data:null,error:r};throw r}})}list(e,r,n){return Ht(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},gA),r),{prefix:e||""});return{data:yield Dn(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(gt(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const wA="2.7.1",vA={"X-Client-Info":`storage-js/${wA}`};var ss=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(u){try{c(n.next(u))}catch(h){a(h)}}function l(u){try{c(n.throw(u))}catch(h){a(h)}}function c(u){u.done?s(u.value):i(u.value).then(o,l)}c((n=n.apply(t,e||[])).next())})};class xA{constructor(e,r={},n){this.url=e,this.headers=Object.assign(Object.assign({},vA),r),this.fetch=g1(n)}listBuckets(){return ss(this,void 0,void 0,function*(){try{return{data:yield Zc(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(gt(e))return{data:null,error:e};throw e}})}getBucket(e){return ss(this,void 0,void 0,function*(){try{return{data:yield Zc(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(gt(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return ss(this,void 0,void 0,function*(){try{return{data:yield Dn(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(gt(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return ss(this,void 0,void 0,function*(){try{return{data:yield pA(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(gt(n))return{data:null,error:n};throw n}})}emptyBucket(e){return ss(this,void 0,void 0,function*(){try{return{data:yield Dn(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(gt(r))return{data:null,error:r};throw r}})}deleteBucket(e){return ss(this,void 0,void 0,function*(){try{return{data:yield y1(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(gt(r))return{data:null,error:r};throw r}})}}class bA extends xA{constructor(e,r={},n){super(e,r,n)}from(e){return new yA(this.url,this.headers,e,this.fetch)}}const _A="2.48.1";let Ga="";typeof Deno<"u"?Ga="deno":typeof document<"u"?Ga="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ga="react-native":Ga="node";const kA={"X-Client-Info":`supabase-js-${Ga}/${_A}`},SA={headers:kA},EA={schema:"public"},TA={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},NA={};var AA=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(u){try{c(n.next(u))}catch(h){a(h)}}function l(u){try{c(n.throw(u))}catch(h){a(h)}}function c(u){u.done?s(u.value):i(u.value).then(o,l)}c((n=n.apply(t,e||[])).next())})};const jA=t=>{let e;return t?e=t:typeof fetch>"u"?e=t1:e=fetch,(...r)=>e(...r)},CA=()=>typeof Headers>"u"?r1:Headers,PA=(t,e,r)=>{const n=jA(r),i=CA();return(s,a)=>AA(void 0,void 0,void 0,function*(){var o;const l=(o=yield e())!==null&&o!==void 0?o:t;let c=new i(a==null?void 0:a.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(s,Object.assign(Object.assign({},a),{headers:c}))})};var OA=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(u){try{c(n.next(u))}catch(h){a(h)}}function l(u){try{c(n.throw(u))}catch(h){a(h)}}function c(u){u.done?s(u.value):i(u.value).then(o,l)}c((n=n.apply(t,e||[])).next())})};function RA(t){return t.replace(/\/$/,"")}function DA(t,e){const{db:r,auth:n,realtime:i,global:s}=t,{db:a,auth:o,realtime:l,global:c}=e,u={db:Object.assign(Object.assign({},a),r),auth:Object.assign(Object.assign({},o),n),realtime:Object.assign(Object.assign({},l),i),global:Object.assign(Object.assign({},c),s),accessToken:()=>OA(this,void 0,void 0,function*(){return""})};return t.accessToken?u.accessToken=t.accessToken:delete u.accessToken,u}const w1="2.67.3",IA="http://localhost:9999",MA="supabase.auth.token",LA={"X-Client-Info":`gotrue-js/${w1}`},I0=10,Qf="X-Supabase-Api-Version",v1={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function FA(t){return Math.round(Date.now()/1e3)+t}function BA(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Mr=()=>typeof window<"u"&&typeof document<"u",fi={tested:!1,writable:!1},ho=()=>{if(!Mr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(fi.tested)return fi.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),fi.tested=!0,fi.writable=!0}catch{fi.tested=!0,fi.writable=!1}return fi.writable};function zA(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return r.searchParams.forEach((n,i)=>{e[i]=n}),e}const x1=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Js(async()=>{const{default:n}=await Promise.resolve().then(()=>fa);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},UA=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",b1=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Nl=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Al=async(t,e)=>{await t.removeItem(e)};function $A(t){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let r="",n,i,s,a,o,l,c,u=0;for(t=t.replace("-","+").replace("_","/");u<t.length;)a=e.indexOf(t.charAt(u++)),o=e.indexOf(t.charAt(u++)),l=e.indexOf(t.charAt(u++)),c=e.indexOf(t.charAt(u++)),n=a<<2|o>>4,i=(o&15)<<4|l>>2,s=(l&3)<<6|c,r=r+String.fromCharCode(n),l!=64&&i!=0&&(r=r+String.fromCharCode(i)),c!=64&&s!=0&&(r=r+String.fromCharCode(s));return r}class zu{constructor(){this.promise=new zu.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}zu.promiseConstructor=Promise;function M0(t){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,r=t.split(".");if(r.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(r[1]))throw new Error("JWT is not valid: payload is not in base64url format");const n=r[1];return JSON.parse($A(n))}async function WA(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function HA(t,e){return new Promise((n,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const a=await t(s);if(!e(s,null,a)){n(a);return}}catch(a){if(!e(s,a)){i(a);return}}})()})}function VA(t){return("0"+t.toString(16)).substr(-2)}function KA(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let s=0;s<56;s++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,VA).join("")}async function qA(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}function GA(t){return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function YA(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await qA(t);return GA(r)}async function as(t,e,r=!1){const n=KA();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await b1(t,`${e}-code-verifier`,i);const s=await YA(n);return[s,n===s?"plain":"s256"]}const XA=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function QA(t){const e=t.headers.get(Qf);if(!e||!e.match(XA))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}class Sm extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Ne(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class JA extends Sm{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function ZA(t){return Ne(t)&&t.name==="AuthApiError"}class _1 extends Sm{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Qi extends Sm{constructor(e,r,n,i){super(e,n,i),this.name=r,this.status=n}}class Cn extends Qi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function ej(t){return Ne(t)&&t.name==="AuthSessionMissingError"}class Ld extends Qi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class jl extends Qi{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Cl extends Qi{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function tj(t){return Ne(t)&&t.name==="AuthImplicitGrantRedirectError"}class L0 extends Qi{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Jf extends Qi{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Fd(t){return Ne(t)&&t.name==="AuthRetryableFetchError"}class F0 extends Qi{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}var rj=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};const _i=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),nj=[502,503,504];async function B0(t){var e;if(!UA(t))throw new Jf(_i(t),0);if(nj.includes(t.status))throw new Jf(_i(t),t.status);let r;try{r=await t.json()}catch(s){throw new _1(_i(s),s)}let n;const i=QA(t);if(i&&i.getTime()>=v1["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new F0(_i(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Cn}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0))throw new F0(_i(r),t.status,r.weak_password.reasons);throw new JA(_i(r),t.status||500,n)}const ij=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function Oe(t,e,r,n){var i;const s=Object.assign({},n==null?void 0:n.headers);s[Qf]||(s[Qf]=v1["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const a=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await sj(t,e,r+o,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function sj(t,e,r,n,i,s){const a=ij(e,n,i,s);let o;try{o=await t(r,Object.assign({},a))}catch(l){throw console.error(l),new Jf(_i(l),0)}if(o.ok||await B0(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(l){await B0(l)}}function Pn(t){var e;let r=null;cj(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=FA(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function z0(t){const e=Pn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Fn(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function aj(t){return{data:t,error:null}}function oj(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s}=t,a=rj(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s},l=Object.assign({},a);return{data:{properties:o,user:l},error:null}}function lj(t){return t}function cj(t){return t.access_token&&t.refresh_token&&t.expires_in}var uj=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};class dj{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=x1(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r="global"){try{return await Oe(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ne(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await Oe(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Fn})}catch(n){if(Ne(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=uj(e,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await Oe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:oj,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Ne(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await Oe(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Fn})}catch(r){if(Ne(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,i,s,a,o,l;try{const c={nextPage:null,lastPage:0,total:0},u=await Oe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:lj});if(u.error)throw u.error;const h=await u.json(),f=(a=u.headers.get("x-total-count"))!==null&&a!==void 0?a:0,p=(l=(o=u.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(w=>{const g=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(w.split(";")[1].split("=")[1]);c[`${b}Page`]=g}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(Ne(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){try{return await Oe(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Fn})}catch(r){if(Ne(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){try{return await Oe(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Fn})}catch(n){if(Ne(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){try{return await Oe(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Fn})}catch(n){if(Ne(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){try{const{data:r,error:n}=await Oe(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(Ne(r))return{data:null,error:r};throw r}}async _deleteFactor(e){try{return{data:await Oe(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(Ne(r))return{data:null,error:r};throw r}}}const hj={getItem:t=>ho()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{ho()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{ho()&&globalThis.localStorage.removeItem(t)}};function U0(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function fj(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const os={debug:!!(globalThis&&ho()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class k1 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class pj extends k1{}async function mj(t,e,r){os.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),os.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){os.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await r()}finally{os.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw os.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new pj(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(os.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}fj();const gj={url:IA,storageKey:MA,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:LA,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},Ra=30*1e3,$0=3;async function W0(t,e,r){return await r()}class Io{constructor(e){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Io.nextInstanceID,Io.nextInstanceID+=1,this.instanceID>0&&Mr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},gj),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new dj({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=x1(i.fetch),this.lock=i.lock||W0,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Mr()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=mj:this.lock=W0,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:ho()?this.storage=hj:(this.memoryStorage={},this.storage=U0(this.memoryStorage)):(this.memoryStorage={},this.storage=U0(this.memoryStorage)),Mr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${w1}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=zA(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Mr()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),tj(s)){const l=(e=s.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:a,redirectType:o}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Ne(r)?{error:r}:{error:new _1("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,i;try{const s=await Oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:Pn}),{data:a,error:o}=s;if(o||!a)return{data:{user:null,session:null},error:o};const l=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(Ne(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(e){var r,n,i;try{let s;if("email"in e){const{email:u,password:h,options:f}=e;let p=null,w=null;this.flowType==="pkce"&&([p,w]=await as(this.storage,this.storageKey)),s=await Oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:u,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:w},xform:Pn})}else if("phone"in e){const{phone:u,password:h,options:f}=e;s=await Oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(i=f==null?void 0:f.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Pn})}else throw new jl("You must provide either an email or phone number and a password");const{data:a,error:o}=s;if(o||!a)return{data:{user:null,session:null},error:o};const l=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(Ne(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(e){try{let r;if("email"in e){const{email:s,password:a,options:o}=e;r=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:z0})}else if("phone"in e){const{phone:s,password:a,options:o}=e;r=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:z0})}else throw new jl("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Ld}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(Ne(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,i,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const r=await Nl(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:s,error:a}=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Pn});if(await Al(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new Ld}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}catch(s){if(Ne(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(e){try{const{options:r,provider:n,token:i,access_token:s,nonce:a}=e,o=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Pn}),{data:l,error:c}=o;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Ld}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(r){if(Ne(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,i,s,a;try{if("email"in e){const{email:o,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await as(this.storage,this.storageKey));const{error:h}=await Oe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:o,options:l}=e,{data:c,error:u}=await Oe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new jl("You must provide either an email or phone number.")}catch(o){if(Ne(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(e){var r,n;try{let i,s;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,s=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:o}=await Oe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:Pn});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,c=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(Ne(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var r,n,i;try{let s=null,a=null;return this.flowType==="pkce"&&([s,a]=await as(this.storage,this.storageKey)),await Oe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:aj})}catch(s){if(Ne(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Cn;const{error:i}=await Oe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(Ne(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:s}=e,{error:a}=await Oe(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in e){const{phone:n,type:i,options:s}=e,{data:a,error:o}=await Oe(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o}}throw new jl("You must provide either an email or phone number and a type")}catch(r){if(Ne(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Nl(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.storage.isServer){let a=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,u)=>(!a&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:e},error:null}}const{session:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Oe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Fn}):await this._useSession(async r=>{var n,i,s;const{data:a,error:o}=r;if(o)throw o;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Cn}:await Oe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Fn})})}catch(r){if(Ne(r))return ej(r)&&(await this._removeSession(),await Al(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:i,error:s}=n;if(s)throw s;if(!i.session)throw new Cn;const a=i.session;let o=null,l=null;this.flowType==="pkce"&&e.email!=null&&([o,l]=await as(this.storage,this.storageKey));const{data:c,error:u}=await Oe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:l}),jwt:a.access_token,xform:Fn});if(u)throw u;return a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(n){if(Ne(n))return{data:{user:null},error:n};throw n}}_decodeJWT(e){return M0(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Cn;const r=Date.now()/1e3;let n=r,i=!0,s=null;const a=M0(e.access_token);if(a.exp&&(n=a.exp,i=n<=r),i){const{session:o,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!o)return{data:{user:null,session:null},error:null};s=o}else{const{data:o,error:l}=await this._getUser(e.access_token);if(l)throw l;s={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(Ne(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:a,error:o}=r;if(o)throw o;e=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Cn;const{session:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Ne(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!Mr())throw new Cl("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Cl(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new L0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Cl("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new L0("No code detected.");const{data:y,error:_}=await this._exchangeCodeForSession(e.code);if(_)throw _;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:o,expires_at:l,token_type:c}=e;if(!s||!o||!a||!c)throw new Cl("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(o);let f=u+h;l&&(f=parseInt(l));const p=f-u;p*1e3<=Ra&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);const w=f-h;u-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,f,u):u-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,f,u);const{data:g,error:b}=await this._getUser(s);if(b)throw b;const m={provider_token:n,provider_refresh_token:i,access_token:s,expires_in:h,expires_at:f,refresh_token:a,token_type:c,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:m,redirectType:e.type},error:null}}catch(n){if(Ne(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Nl(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return{error:s};const a=(n=i.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:o}=await this.admin.signOut(a,e);if(o&&!(ZA(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return e!=="others"&&(await this._removeSession(),await Al(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=BA(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,i;try{const{data:{session:s},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await as(this.storage,this.storageKey,!0));try{return await Oe(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(Ne(s))return{data:null,error:s};throw s}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(Ne(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:i}=await this._useSession(async s=>{var a,o,l,c,u;const{data:h,error:f}=s;if(f)throw f;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await Oe(this.fetch,"GET",p,{headers:this.headers,jwt:(u=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(i)throw i;return Mr()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Ne(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,i;const{data:s,error:a}=r;if(a)throw a;return await Oe(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(Ne(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await HA(async i=>(i>0&&await WA(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await Oe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Pn})),(i,s)=>{const a=200*Math.pow(2,i);return s&&Fd(s)&&Date.now()+a-n<Ra})}catch(n){if(this._debug(r,"error",n),Ne(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Mr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await Nl(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const i=Math.round(Date.now()/1e3),s=((e=n.expires_at)!==null&&e!==void 0?e:1/0)<i+I0;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${I0}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:a}=await this._callRefreshToken(n.refresh_token);a&&(console.error(a),Fd(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Cn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new zu;const{data:s,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!s.session)throw new Cn;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const o={session:s.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(s){if(this._debug(i,"error",s),Ne(s)){const a={session:null,error:s};return Fd(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,r,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const s=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,r)}catch(l){s.push(l)}});if(await Promise.all(a),s.length>0){for(let o=0;o<s.length;o+=1)console.error(s[o]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await b1(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Al(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Mr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ra);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/Ra);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Ra}ms, refresh threshold is ${$0} ticks`),i<=$0&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof k1)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Mr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,a]=await as(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(o.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);i.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?{data:null,error:s}:await Oe(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Ne(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,i;const{data:s,error:a}=r;if(a)return{data:null,error:a};const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:c}=await Oe(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(Ne(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return{data:null,error:s};const{data:a,error:o}=await Oe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:o})})}catch(r){if(Ne(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?{data:null,error:s}:await Oe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Ne(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(e==null?void 0:e.factors)||[],i=n.filter(a=>a.factor_type==="totp"&&a.status==="verified"),s=n.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:n,totp:i,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:i},error:s}=e;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const a=this._decodeJWT(i.access_token);let o=null;a.aal&&(o=a.aal);let l=o;((n=(r=i.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const u=a.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}}Io.nextInstanceID=0;const yj=Io;class wj extends yj{constructor(e){super(e)}}var vj=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(u){try{c(n.next(u))}catch(h){a(h)}}function l(u){try{c(n.throw(u))}catch(h){a(h)}}function c(u){u.done?s(u.value):i(u.value).then(o,l)}c((n=n.apply(t,e||[])).next())})};class xj{constructor(e,r,n){var i,s,a;if(this.supabaseUrl=e,this.supabaseKey=r,!e)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const o=RA(e);this.realtimeUrl=`${o}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${o}/auth/v1`,this.storageUrl=`${o}/storage/v1`,this.functionsUrl=`${o}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,c={db:EA,realtime:NA,auth:Object.assign(Object.assign({},TA),{storageKey:l}),global:SA},u=DA(n??{},c);this.storageKey=(i=u.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=u.global.headers)!==null&&s!==void 0?s:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=u.auth)!==null&&a!==void 0?a:{},this.headers,u.global.fetch),this.fetch=PA(r,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new KN(`${o}/rest/v1`,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new _N(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new bA(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return vj(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,storageKey:s,flowType:a,lock:o,debug:l},c,u){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new wj({url:this.authUrl,headers:Object.assign(Object.assign({},h),c),storageKey:s,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,flowType:a,lock:o,debug:l,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new oA(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const bj=(t,e,r)=>new xj(t,e,r),_j="https://ytybjupwxbywjduhjudr.supabase.co",kj="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inl0eWJqdXB3eGJ5d2pkdWhqdWRyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzkzODQ5NzcsImV4cCI6MjA1NDk2MDk3N30.6xL6D_ZwbT13euG0e9NRJcTGo4l2Pgrc5gFPu-65zQw",me=bj(_j,kj,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,storage:window.localStorage},global:{fetch:(...t)=>fetch(...t).catch(e=>{throw console.error("Supabase fetch error:",e),e})}}),Em=async()=>{var t;try{const{data:{user:e}}=await me.auth.getUser();if(!e)throw new Error("Oturum açmanız gerekiyor");const{data:r,error:n}=await me.from("teacher_profiles").select("*").eq("user_id",e.id).maybeSingle();if(n)throw n;if(r)return r;const{data:i,error:s}=await me.from("teacher_profiles").insert([{user_id:e.id,full_name:((t=e.email)==null?void 0:t.split("@")[0])||"Yeni Öğretmen",created_at:new Date().toISOString()}]).select().single();if(s)throw s;if(!i)throw new Error("Profil oluşturulamadı");return i}catch(e){throw console.error("Öğretmen profili işlemi hatası:",e),e}};var Sj=Object.defineProperty,Ej=(t,e,r)=>e in t?Sj(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Bd=(t,e,r)=>(Ej(t,typeof e!="symbol"?e+"":e,r),r);let Tj=class{constructor(){Bd(this,"current",this.detect()),Bd(this,"handoffState","pending"),Bd(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Ii=new Tj,gr=(t,e)=>{Ii.isServer?K.useEffect(t,e):K.useLayoutEffect(t,e)};function Zn(t){let e=K.useRef(t);return gr(()=>{e.current=t},[t]),e}let rt=function(t){let e=Zn(t);return wt.useCallback((...r)=>e.current(...r),[e])};function Nj(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function vn(){let t=[],e={addEventListener(r,n,i,s){return r.addEventListener(n,i,s),e.add(()=>r.removeEventListener(n,i,s))},requestAnimationFrame(...r){let n=requestAnimationFrame(...r);return e.add(()=>cancelAnimationFrame(n))},nextFrame(...r){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...r))},setTimeout(...r){let n=setTimeout(...r);return e.add(()=>clearTimeout(n))},microTask(...r){let n={current:!0};return Nj(()=>{n.current&&r[0]()}),e.add(()=>{n.current=!1})},style(r,n,i){let s=r.style.getPropertyValue(n);return Object.assign(r.style,{[n]:i}),this.add(()=>{Object.assign(r.style,{[n]:s})})},group(r){let n=vn();return r(n),this.add(()=>n.dispose())},add(r){return t.push(r),()=>{let n=t.indexOf(r);if(n>=0)for(let i of t.splice(n,1))i()}},dispose(){for(let r of t.splice(0))r()}};return e}function Uu(){let[t]=K.useState(vn);return K.useEffect(()=>()=>t.dispose(),[t]),t}function Aj(){let t=typeof document>"u";return"useSyncExternalStore"in bg?(e=>e.useSyncExternalStore)(bg)(()=>()=>{},()=>!1,()=>!t):!1}function Tm(){let t=Aj(),[e,r]=K.useState(Ii.isHandoffComplete);return e&&Ii.isHandoffComplete===!1&&r(!1),K.useEffect(()=>{e!==!0&&r(!0)},[e]),K.useEffect(()=>Ii.handoff(),[]),t?!1:e}var H0;let Nm=(H0=wt.useId)!=null?H0:function(){let t=Tm(),[e,r]=wt.useState(t?()=>Ii.nextId():null);return gr(()=>{e===null&&r(Ii.nextId())},[e]),e!=null?""+e:void 0};function nr(t,e,...r){if(t in e){let i=e[t];return typeof i=="function"?i(...r):i}let n=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,nr),n}function $u(t){return Ii.isServer?null:t instanceof Node?t.ownerDocument:t!=null&&t.hasOwnProperty("current")&&t.current instanceof Node?t.current.ownerDocument:document}let Zf=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var ep=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t))(ep||{}),jj=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(jj||{}),Cj=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(Cj||{});function S1(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(Zf)).sort((e,r)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}var Am=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(Am||{});function jm(t,e=0){var r;return t===((r=$u(t))==null?void 0:r.body)?!1:nr(e,{0(){return t.matches(Zf)},1(){let n=t;for(;n!==null;){if(n.matches(Zf))return!0;n=n.parentElement}return!1}})}function E1(t){let e=$u(t);vn().nextFrame(()=>{e&&!jm(e.activeElement,0)&&Oj(t)})}var Pj=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(Pj||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function Oj(t){t==null||t.focus({preventScroll:!0})}let Rj=["textarea","input"].join(",");function Dj(t){var e,r;return(r=(e=t==null?void 0:t.matches)==null?void 0:e.call(t,Rj))!=null?r:!1}function T1(t,e=r=>r){return t.slice().sort((r,n)=>{let i=e(r),s=e(n);if(i===null||s===null)return 0;let a=i.compareDocumentPosition(s);return a&Node.DOCUMENT_POSITION_FOLLOWING?-1:a&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function Ij(t,e){return Mj(S1(),e,{relativeTo:t})}function Mj(t,e,{sorted:r=!0,relativeTo:n=null,skipElements:i=[]}={}){let s=Array.isArray(t)?t.length>0?t[0].ownerDocument:document:t.ownerDocument,a=Array.isArray(t)?r?T1(t):t:S1(t);i.length>0&&a.length>1&&(a=a.filter(p=>!i.includes(p))),n=n??s.activeElement;let o=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),l=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,a.indexOf(n))-1;if(e&4)return Math.max(0,a.indexOf(n))+1;if(e&8)return a.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=e&32?{preventScroll:!0}:{},u=0,h=a.length,f;do{if(u>=h||u+h<=0)return 0;let p=l+u;if(e&16)p=(p+h)%h;else{if(p<0)return 3;if(p>=h)return 1}f=a[p],f==null||f.focus(c),u+=o}while(f!==s.activeElement);return e&6&&Dj(f)&&f.select(),2}function Lj(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function Fj(){return/Android/gi.test(window.navigator.userAgent)}function Bj(){return Lj()||Fj()}function Pl(t,e,r){let n=Zn(e);K.useEffect(()=>{function i(s){n.current(s)}return document.addEventListener(t,i,r),()=>document.removeEventListener(t,i,r)},[t,r])}function zj(t,e,r){let n=Zn(e);K.useEffect(()=>{function i(s){n.current(s)}return window.addEventListener(t,i,r),()=>window.removeEventListener(t,i,r)},[t,r])}function Uj(t,e,r=!0){let n=K.useRef(!1);K.useEffect(()=>{requestAnimationFrame(()=>{n.current=r})},[r]);function i(a,o){if(!n.current||a.defaultPrevented)return;let l=o(a);if(l===null||!l.getRootNode().contains(l)||!l.isConnected)return;let c=function u(h){return typeof h=="function"?u(h()):Array.isArray(h)||h instanceof Set?h:[h]}(t);for(let u of c){if(u===null)continue;let h=u instanceof HTMLElement?u:u.current;if(h!=null&&h.contains(l)||a.composed&&a.composedPath().includes(h))return}return!jm(l,Am.Loose)&&l.tabIndex!==-1&&a.preventDefault(),e(a,l)}let s=K.useRef(null);Pl("pointerdown",a=>{var o,l;n.current&&(s.current=((l=(o=a.composedPath)==null?void 0:o.call(a))==null?void 0:l[0])||a.target)},!0),Pl("mousedown",a=>{var o,l;n.current&&(s.current=((l=(o=a.composedPath)==null?void 0:o.call(a))==null?void 0:l[0])||a.target)},!0),Pl("click",a=>{Bj()||s.current&&(i(a,()=>s.current),s.current=null)},!0),Pl("touchend",a=>i(a,()=>a.target instanceof HTMLElement?a.target:null),!0),zj("blur",a=>i(a,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function $j(...t){return K.useMemo(()=>$u(...t),[...t])}function V0(t){var e;if(t.type)return t.type;let r=(e=t.as)!=null?e:"button";if(typeof r=="string"&&r.toLowerCase()==="button")return"button"}function Wj(t,e){let[r,n]=K.useState(()=>V0(t));return gr(()=>{n(V0(t))},[t.type,t.as]),gr(()=>{r||e.current&&e.current instanceof HTMLButtonElement&&!e.current.hasAttribute("type")&&n("button")},[r,e]),r}let Hj=Symbol();function ma(...t){let e=K.useRef(t);K.useEffect(()=>{e.current=t},[t]);let r=rt(n=>{for(let i of e.current)i!=null&&(typeof i=="function"?i(n):i.current=n)});return t.every(n=>n==null||(n==null?void 0:n[Hj]))?void 0:r}function K0(t){return[t.screenX,t.screenY]}function Vj(){let t=K.useRef([-1,-1]);return{wasMoved(e){let r=K0(e);return t.current[0]===r[0]&&t.current[1]===r[1]?!1:(t.current=r,!0)},update(e){t.current=K0(e)}}}function Kj({container:t,accept:e,walk:r,enabled:n=!0}){let i=K.useRef(e),s=K.useRef(r);K.useEffect(()=>{i.current=e,s.current=r},[e,r]),gr(()=>{if(!t||!n)return;let a=$u(t);if(!a)return;let o=i.current,l=s.current,c=Object.assign(h=>o(h),{acceptNode:o}),u=a.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,c,!1);for(;u.nextNode();)l(u.currentNode)},[t,n,i,s])}function eu(...t){return Array.from(new Set(t.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}var tu=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(tu||{}),Un=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(Un||{});function ga({ourProps:t,theirProps:e,slot:r,defaultTag:n,features:i,visible:s=!0,name:a,mergeRefs:o}){o=o??qj;let l=N1(e,t);if(s)return Ol(l,r,n,a,o);let c=i??0;if(c&2){let{static:u=!1,...h}=l;if(u)return Ol(h,r,n,a,o)}if(c&1){let{unmount:u=!0,...h}=l;return nr(u?0:1,{0(){return null},1(){return Ol({...h,hidden:!0,style:{display:"none"}},r,n,a,o)}})}return Ol(l,r,n,a,o)}function Ol(t,e={},r,n,i){let{as:s=r,children:a,refName:o="ref",...l}=zd(t,["unmount","static"]),c=t.ref!==void 0?{[o]:t.ref}:{},u=typeof a=="function"?a(e):a;"className"in l&&l.className&&typeof l.className=="function"&&(l.className=l.className(e));let h={};if(e){let f=!1,p=[];for(let[w,g]of Object.entries(e))typeof g=="boolean"&&(f=!0),g===!0&&p.push(w);f&&(h["data-headlessui-state"]=p.join(" "))}if(s===K.Fragment&&Object.keys(q0(l)).length>0){if(!K.isValidElement(u)||Array.isArray(u)&&u.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${n} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(l).map(g=>`  - ${g}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(g=>`  - ${g}`).join(`
`)].join(`
`));let f=u.props,p=typeof(f==null?void 0:f.className)=="function"?(...g)=>eu(f==null?void 0:f.className(...g),l.className):eu(f==null?void 0:f.className,l.className),w=p?{className:p}:{};return K.cloneElement(u,Object.assign({},N1(u.props,q0(zd(l,["ref"]))),h,c,{ref:i(u.ref,c.ref)},w))}return K.createElement(s,Object.assign({},zd(l,["ref"]),s!==K.Fragment&&c,s!==K.Fragment&&h),u)}function qj(...t){return t.every(e=>e==null)?void 0:e=>{for(let r of t)r!=null&&(typeof r=="function"?r(e):r.current=e)}}function N1(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},r={};for(let n of t)for(let i in n)i.startsWith("on")&&typeof n[i]=="function"?(r[i]!=null||(r[i]=[]),r[i].push(n[i])):e[i]=n[i];if(e.disabled||e["aria-disabled"])return Object.assign(e,Object.fromEntries(Object.keys(r).map(n=>[n,void 0])));for(let n in r)Object.assign(e,{[n](i,...s){let a=r[n];for(let o of a){if((i instanceof Event||(i==null?void 0:i.nativeEvent)instanceof Event)&&i.defaultPrevented)return;o(i,...s)}}});return e}function Ji(t){var e;return Object.assign(K.forwardRef(t),{displayName:(e=t.displayName)!=null?e:t.name})}function q0(t){let e=Object.assign({},t);for(let r in e)e[r]===void 0&&delete e[r];return e}function zd(t,e=[]){let r=Object.assign({},t);for(let n of e)n in r&&delete r[n];return r}let Cm=K.createContext(null);Cm.displayName="OpenClosedContext";var tr=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(tr||{});function Pm(){return K.useContext(Cm)}function A1({value:t,children:e}){return wt.createElement(Cm.Provider,{value:t},e)}function Gj(t){let e=t.parentElement,r=null;for(;e&&!(e instanceof HTMLFieldSetElement);)e instanceof HTMLLegendElement&&(r=e),e=e.parentElement;let n=(e==null?void 0:e.getAttribute("disabled"))==="";return n&&Yj(r)?!1:n}function Yj(t){if(!t)return!1;let e=t.previousElementSibling;for(;e!==null;){if(e instanceof HTMLLegendElement)return!1;e=e.previousElementSibling}return!0}function Xj(t){throw new Error("Unexpected object: "+t)}var Nr=(t=>(t[t.First=0]="First",t[t.Previous=1]="Previous",t[t.Next=2]="Next",t[t.Last=3]="Last",t[t.Specific=4]="Specific",t[t.Nothing=5]="Nothing",t))(Nr||{});function Qj(t,e){let r=e.resolveItems();if(r.length<=0)return null;let n=e.resolveActiveIndex(),i=n??-1;switch(t.focus){case 0:{for(let s=0;s<r.length;++s)if(!e.resolveDisabled(r[s],s,r))return s;return n}case 1:{for(let s=i-1;s>=0;--s)if(!e.resolveDisabled(r[s],s,r))return s;return n}case 2:{for(let s=i+1;s<r.length;++s)if(!e.resolveDisabled(r[s],s,r))return s;return n}case 3:{for(let s=r.length-1;s>=0;--s)if(!e.resolveDisabled(r[s],s,r))return s;return n}case 4:{for(let s=0;s<r.length;++s)if(e.resolveId(r[s],s,r)===t.id)return s;return n}case 5:return null;default:Xj(t)}}var bt=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(bt||{});function Om(){let t=K.useRef(!1);return gr(()=>(t.current=!0,()=>{t.current=!1}),[]),t}let G0=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function Y0(t){var e,r;let n=(e=t.innerText)!=null?e:"",i=t.cloneNode(!0);if(!(i instanceof HTMLElement))return n;let s=!1;for(let o of i.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))o.remove(),s=!0;let a=s?(r=i.innerText)!=null?r:"":n;return G0.test(a)&&(a=a.replace(G0,"")),a}function Jj(t){let e=t.getAttribute("aria-label");if(typeof e=="string")return e.trim();let r=t.getAttribute("aria-labelledby");if(r){let n=r.split(" ").map(i=>{let s=document.getElementById(i);if(s){let a=s.getAttribute("aria-label");return typeof a=="string"?a.trim():Y0(s).trim()}return null}).filter(Boolean);if(n.length>0)return n.join(", ")}return Y0(t).trim()}function Zj(t){let e=K.useRef(""),r=K.useRef("");return rt(()=>{let n=t.current;if(!n)return"";let i=n.innerText;if(e.current===i)return r.current;let s=Jj(n).trim().toLowerCase();return e.current=i,r.current=s,s})}var eC=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(eC||{}),tC=(t=>(t[t.Pointer=0]="Pointer",t[t.Other=1]="Other",t))(tC||{}),rC=(t=>(t[t.OpenMenu=0]="OpenMenu",t[t.CloseMenu=1]="CloseMenu",t[t.GoToItem=2]="GoToItem",t[t.Search=3]="Search",t[t.ClearSearch=4]="ClearSearch",t[t.RegisterItem=5]="RegisterItem",t[t.UnregisterItem=6]="UnregisterItem",t))(rC||{});function Ud(t,e=r=>r){let r=t.activeItemIndex!==null?t.items[t.activeItemIndex]:null,n=T1(e(t.items.slice()),s=>s.dataRef.current.domRef.current),i=r?n.indexOf(r):null;return i===-1&&(i=null),{items:n,activeItemIndex:i}}let nC={1(t){return t.menuState===1?t:{...t,activeItemIndex:null,menuState:1}},0(t){return t.menuState===0?t:{...t,__demoMode:!1,menuState:0}},2:(t,e)=>{var r;let n=Ud(t),i=Qj(e,{resolveItems:()=>n.items,resolveActiveIndex:()=>n.activeItemIndex,resolveId:s=>s.id,resolveDisabled:s=>s.dataRef.current.disabled});return{...t,...n,searchQuery:"",activeItemIndex:i,activationTrigger:(r=e.trigger)!=null?r:1}},3:(t,e)=>{let r=t.searchQuery!==""?0:1,n=t.searchQuery+e.value.toLowerCase(),i=(t.activeItemIndex!==null?t.items.slice(t.activeItemIndex+r).concat(t.items.slice(0,t.activeItemIndex+r)):t.items).find(a=>{var o;return((o=a.dataRef.current.textValue)==null?void 0:o.startsWith(n))&&!a.dataRef.current.disabled}),s=i?t.items.indexOf(i):-1;return s===-1||s===t.activeItemIndex?{...t,searchQuery:n}:{...t,searchQuery:n,activeItemIndex:s,activationTrigger:1}},4(t){return t.searchQuery===""?t:{...t,searchQuery:"",searchActiveItemIndex:null}},5:(t,e)=>{let r=Ud(t,n=>[...n,{id:e.id,dataRef:e.dataRef}]);return{...t,...r}},6:(t,e)=>{let r=Ud(t,n=>{let i=n.findIndex(s=>s.id===e.id);return i!==-1&&n.splice(i,1),n});return{...t,...r,activationTrigger:1}}},Rm=K.createContext(null);Rm.displayName="MenuContext";function Wu(t){let e=K.useContext(Rm);if(e===null){let r=new Error(`<${t} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Wu),r}return e}function iC(t,e){return nr(e.type,nC,t,e)}let sC=K.Fragment;function aC(t,e){let{__demoMode:r=!1,...n}=t,i=K.useReducer(iC,{__demoMode:r,menuState:r?0:1,buttonRef:K.createRef(),itemsRef:K.createRef(),items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1}),[{menuState:s,itemsRef:a,buttonRef:o},l]=i,c=ma(e);Uj([o,a],(p,w)=>{var g;l({type:1}),jm(w,Am.Loose)||(p.preventDefault(),(g=o.current)==null||g.focus())},s===0);let u=rt(()=>{l({type:1})}),h=K.useMemo(()=>({open:s===0,close:u}),[s,u]),f={ref:c};return wt.createElement(Rm.Provider,{value:i},wt.createElement(A1,{value:nr(s,{0:tr.Open,1:tr.Closed})},ga({ourProps:f,theirProps:n,slot:h,defaultTag:sC,name:"Menu"})))}let oC="button";function lC(t,e){var r;let n=Nm(),{id:i=`headlessui-menu-button-${n}`,...s}=t,[a,o]=Wu("Menu.Button"),l=ma(a.buttonRef,e),c=Uu(),u=rt(g=>{switch(g.key){case bt.Space:case bt.Enter:case bt.ArrowDown:g.preventDefault(),g.stopPropagation(),o({type:0}),c.nextFrame(()=>o({type:2,focus:Nr.First}));break;case bt.ArrowUp:g.preventDefault(),g.stopPropagation(),o({type:0}),c.nextFrame(()=>o({type:2,focus:Nr.Last}));break}}),h=rt(g=>{switch(g.key){case bt.Space:g.preventDefault();break}}),f=rt(g=>{if(Gj(g.currentTarget))return g.preventDefault();t.disabled||(a.menuState===0?(o({type:1}),c.nextFrame(()=>{var b;return(b=a.buttonRef.current)==null?void 0:b.focus({preventScroll:!0})})):(g.preventDefault(),o({type:0})))}),p=K.useMemo(()=>({open:a.menuState===0}),[a]),w={ref:l,id:i,type:Wj(t,a.buttonRef),"aria-haspopup":"menu","aria-controls":(r=a.itemsRef.current)==null?void 0:r.id,"aria-expanded":a.menuState===0,onKeyDown:u,onKeyUp:h,onClick:f};return ga({ourProps:w,theirProps:s,slot:p,defaultTag:oC,name:"Menu.Button"})}let cC="div",uC=tu.RenderStrategy|tu.Static;function dC(t,e){var r,n;let i=Nm(),{id:s=`headlessui-menu-items-${i}`,...a}=t,[o,l]=Wu("Menu.Items"),c=ma(o.itemsRef,e),u=$j(o.itemsRef),h=Uu(),f=Pm(),p=f!==null?(f&tr.Open)===tr.Open:o.menuState===0;K.useEffect(()=>{let y=o.itemsRef.current;y&&o.menuState===0&&y!==(u==null?void 0:u.activeElement)&&y.focus({preventScroll:!0})},[o.menuState,o.itemsRef,u]),Kj({container:o.itemsRef.current,enabled:o.menuState===0,accept(y){return y.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:y.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(y){y.setAttribute("role","none")}});let w=rt(y=>{var _,k;switch(h.dispose(),y.key){case bt.Space:if(o.searchQuery!=="")return y.preventDefault(),y.stopPropagation(),l({type:3,value:y.key});case bt.Enter:if(y.preventDefault(),y.stopPropagation(),l({type:1}),o.activeItemIndex!==null){let{dataRef:T}=o.items[o.activeItemIndex];(k=(_=T.current)==null?void 0:_.domRef.current)==null||k.click()}E1(o.buttonRef.current);break;case bt.ArrowDown:return y.preventDefault(),y.stopPropagation(),l({type:2,focus:Nr.Next});case bt.ArrowUp:return y.preventDefault(),y.stopPropagation(),l({type:2,focus:Nr.Previous});case bt.Home:case bt.PageUp:return y.preventDefault(),y.stopPropagation(),l({type:2,focus:Nr.First});case bt.End:case bt.PageDown:return y.preventDefault(),y.stopPropagation(),l({type:2,focus:Nr.Last});case bt.Escape:y.preventDefault(),y.stopPropagation(),l({type:1}),vn().nextFrame(()=>{var T;return(T=o.buttonRef.current)==null?void 0:T.focus({preventScroll:!0})});break;case bt.Tab:y.preventDefault(),y.stopPropagation(),l({type:1}),vn().nextFrame(()=>{Ij(o.buttonRef.current,y.shiftKey?ep.Previous:ep.Next)});break;default:y.key.length===1&&(l({type:3,value:y.key}),h.setTimeout(()=>l({type:4}),350));break}}),g=rt(y=>{switch(y.key){case bt.Space:y.preventDefault();break}}),b=K.useMemo(()=>({open:o.menuState===0}),[o]),m={"aria-activedescendant":o.activeItemIndex===null||(r=o.items[o.activeItemIndex])==null?void 0:r.id,"aria-labelledby":(n=o.buttonRef.current)==null?void 0:n.id,id:s,onKeyDown:w,onKeyUp:g,role:"menu",tabIndex:0,ref:c};return ga({ourProps:m,theirProps:a,slot:b,defaultTag:cC,features:uC,visible:p,name:"Menu.Items"})}let hC=K.Fragment;function fC(t,e){let r=Nm(),{id:n=`headlessui-menu-item-${r}`,disabled:i=!1,...s}=t,[a,o]=Wu("Menu.Item"),l=a.activeItemIndex!==null?a.items[a.activeItemIndex].id===n:!1,c=K.useRef(null),u=ma(e,c);gr(()=>{if(a.__demoMode||a.menuState!==0||!l||a.activationTrigger===0)return;let T=vn();return T.requestAnimationFrame(()=>{var I,O;(O=(I=c.current)==null?void 0:I.scrollIntoView)==null||O.call(I,{block:"nearest"})}),T.dispose},[a.__demoMode,c,l,a.menuState,a.activationTrigger,a.activeItemIndex]);let h=Zj(c),f=K.useRef({disabled:i,domRef:c,get textValue(){return h()}});gr(()=>{f.current.disabled=i},[f,i]),gr(()=>(o({type:5,id:n,dataRef:f}),()=>o({type:6,id:n})),[f,n]);let p=rt(()=>{o({type:1})}),w=rt(T=>{if(i)return T.preventDefault();o({type:1}),E1(a.buttonRef.current)}),g=rt(()=>{if(i)return o({type:2,focus:Nr.Nothing});o({type:2,focus:Nr.Specific,id:n})}),b=Vj(),m=rt(T=>b.update(T)),y=rt(T=>{b.wasMoved(T)&&(i||l||o({type:2,focus:Nr.Specific,id:n,trigger:0}))}),_=rt(T=>{b.wasMoved(T)&&(i||l&&o({type:2,focus:Nr.Nothing}))}),k=K.useMemo(()=>({active:l,disabled:i,close:p}),[l,i,p]);return ga({ourProps:{id:n,ref:u,role:"menuitem",tabIndex:i===!0?void 0:-1,"aria-disabled":i===!0?!0:void 0,disabled:void 0,onClick:w,onFocus:g,onPointerEnter:m,onMouseEnter:m,onPointerMove:y,onMouseMove:y,onPointerLeave:_,onMouseLeave:_},theirProps:s,slot:k,defaultTag:hC,name:"Menu.Item"})}let pC=Ji(aC),mC=Ji(lC),gC=Ji(dC),yC=Ji(fC),ls=Object.assign(pC,{Button:mC,Items:gC,Item:yC});function wC(t=0){let[e,r]=K.useState(t),n=Om(),i=K.useCallback(l=>{n.current&&r(c=>c|l)},[e,n]),s=K.useCallback(l=>!!(e&l),[e]),a=K.useCallback(l=>{n.current&&r(c=>c&~l)},[r,n]),o=K.useCallback(l=>{n.current&&r(c=>c^l)},[r]);return{flags:e,addFlag:i,hasFlag:s,removeFlag:a,toggleFlag:o}}function vC(t){let e={called:!1};return(...r)=>{if(!e.called)return e.called=!0,t(...r)}}function $d(t,...e){t&&e.length>0&&t.classList.add(...e)}function Wd(t,...e){t&&e.length>0&&t.classList.remove(...e)}function xC(t,e){let r=vn();if(!t)return r.dispose;let{transitionDuration:n,transitionDelay:i}=getComputedStyle(t),[s,a]=[n,i].map(l=>{let[c=0]=l.split(",").filter(Boolean).map(u=>u.includes("ms")?parseFloat(u):parseFloat(u)*1e3).sort((u,h)=>h-u);return c}),o=s+a;if(o!==0){r.group(c=>{c.setTimeout(()=>{e(),c.dispose()},o),c.addEventListener(t,"transitionrun",u=>{u.target===u.currentTarget&&c.dispose()})});let l=r.addEventListener(t,"transitionend",c=>{c.target===c.currentTarget&&(e(),l())})}else e();return r.add(()=>e()),r.dispose}function bC(t,e,r,n){let i=r?"enter":"leave",s=vn(),a=n!==void 0?vC(n):()=>{};i==="enter"&&(t.removeAttribute("hidden"),t.style.display="");let o=nr(i,{enter:()=>e.enter,leave:()=>e.leave}),l=nr(i,{enter:()=>e.enterTo,leave:()=>e.leaveTo}),c=nr(i,{enter:()=>e.enterFrom,leave:()=>e.leaveFrom});return Wd(t,...e.base,...e.enter,...e.enterTo,...e.enterFrom,...e.leave,...e.leaveFrom,...e.leaveTo,...e.entered),$d(t,...e.base,...o,...c),s.nextFrame(()=>{Wd(t,...e.base,...o,...c),$d(t,...e.base,...o,...l),xC(t,()=>(Wd(t,...e.base,...o),$d(t,...e.base,...e.entered),a()))}),s.dispose}function _C({immediate:t,container:e,direction:r,classes:n,onStart:i,onStop:s}){let a=Om(),o=Uu(),l=Zn(r);gr(()=>{t&&(l.current="enter")},[t]),gr(()=>{let c=vn();o.add(c.dispose);let u=e.current;if(u&&l.current!=="idle"&&a.current)return c.dispose(),i.current(l.current),c.add(bC(u,n.current,l.current==="enter",()=>{c.dispose(),s.current(l.current)})),c.dispose},[r])}function Tn(t=""){return t.split(/\s+/).filter(e=>e.length>1)}let Hu=K.createContext(null);Hu.displayName="TransitionContext";var kC=(t=>(t.Visible="visible",t.Hidden="hidden",t))(kC||{});function SC(){let t=K.useContext(Hu);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}function EC(){let t=K.useContext(Vu);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}let Vu=K.createContext(null);Vu.displayName="NestingContext";function Ku(t){return"children"in t?Ku(t.children):t.current.filter(({el:e})=>e.current!==null).filter(({state:e})=>e==="visible").length>0}function j1(t,e){let r=Zn(t),n=K.useRef([]),i=Om(),s=Uu(),a=rt((p,w=Un.Hidden)=>{let g=n.current.findIndex(({el:b})=>b===p);g!==-1&&(nr(w,{[Un.Unmount](){n.current.splice(g,1)},[Un.Hidden](){n.current[g].state="hidden"}}),s.microTask(()=>{var b;!Ku(n)&&i.current&&((b=r.current)==null||b.call(r))}))}),o=rt(p=>{let w=n.current.find(({el:g})=>g===p);return w?w.state!=="visible"&&(w.state="visible"):n.current.push({el:p,state:"visible"}),()=>a(p,Un.Unmount)}),l=K.useRef([]),c=K.useRef(Promise.resolve()),u=K.useRef({enter:[],leave:[],idle:[]}),h=rt((p,w,g)=>{l.current.splice(0),e&&(e.chains.current[w]=e.chains.current[w].filter(([b])=>b!==p)),e==null||e.chains.current[w].push([p,new Promise(b=>{l.current.push(b)})]),e==null||e.chains.current[w].push([p,new Promise(b=>{Promise.all(u.current[w].map(([m,y])=>y)).then(()=>b())})]),w==="enter"?c.current=c.current.then(()=>e==null?void 0:e.wait.current).then(()=>g(w)):g(w)}),f=rt((p,w,g)=>{Promise.all(u.current[w].splice(0).map(([b,m])=>m)).then(()=>{var b;(b=l.current.shift())==null||b()}).then(()=>g(w))});return K.useMemo(()=>({children:n,register:o,unregister:a,onStart:h,onStop:f,wait:c,chains:u}),[o,a,n,h,f,u,c])}function TC(){}let NC=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function X0(t){var e;let r={};for(let n of NC)r[n]=(e=t[n])!=null?e:TC;return r}function AC(t){let e=K.useRef(X0(t));return K.useEffect(()=>{e.current=X0(t)},[t]),e}let jC="div",C1=tu.RenderStrategy;function CC(t,e){var r,n;let{beforeEnter:i,afterEnter:s,beforeLeave:a,afterLeave:o,enter:l,enterFrom:c,enterTo:u,entered:h,leave:f,leaveFrom:p,leaveTo:w,...g}=t,b=K.useRef(null),m=ma(b,e),y=(r=g.unmount)==null||r?Un.Unmount:Un.Hidden,{show:_,appear:k,initial:T}=SC(),[I,O]=K.useState(_?"visible":"hidden"),L=EC(),{register:N,unregister:H}=L;K.useEffect(()=>N(b),[N,b]),K.useEffect(()=>{if(y===Un.Hidden&&b.current){if(_&&I!=="visible"){O("visible");return}return nr(I,{hidden:()=>H(b),visible:()=>N(b)})}},[I,b,N,H,_,y]);let ee=Zn({base:Tn(g.className),enter:Tn(l),enterFrom:Tn(c),enterTo:Tn(u),entered:Tn(h),leave:Tn(f),leaveFrom:Tn(p),leaveTo:Tn(w)}),R=AC({beforeEnter:i,afterEnter:s,beforeLeave:a,afterLeave:o}),W=Tm();K.useEffect(()=>{if(W&&I==="visible"&&b.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[b,I,W]);let P=T&&!k,B=k&&_&&T,ne=!W||P?"idle":_?"enter":"leave",X=wC(0),re=rt(Q=>nr(Q,{enter:()=>{X.addFlag(tr.Opening),R.current.beforeEnter()},leave:()=>{X.addFlag(tr.Closing),R.current.beforeLeave()},idle:()=>{}})),Z=rt(Q=>nr(Q,{enter:()=>{X.removeFlag(tr.Opening),R.current.afterEnter()},leave:()=>{X.removeFlag(tr.Closing),R.current.afterLeave()},idle:()=>{}})),le=j1(()=>{O("hidden"),H(b)},L),G=K.useRef(!1);_C({immediate:B,container:b,classes:ee,direction:ne,onStart:Zn(Q=>{G.current=!0,le.onStart(b,Q,re)}),onStop:Zn(Q=>{G.current=!1,le.onStop(b,Q,Z),Q==="leave"&&!Ku(le)&&(O("hidden"),H(b))})});let D=g,J={ref:m};return B?D={...D,className:eu(g.className,...ee.current.enter,...ee.current.enterFrom)}:G.current&&(D.className=eu(g.className,(n=b.current)==null?void 0:n.className),D.className===""&&delete D.className),wt.createElement(Vu.Provider,{value:le},wt.createElement(A1,{value:nr(I,{visible:tr.Open,hidden:tr.Closed})|X.flags},ga({ourProps:J,theirProps:D,defaultTag:jC,features:C1,visible:I==="visible",name:"Transition.Child"})))}function PC(t,e){let{show:r,appear:n=!1,unmount:i=!0,...s}=t,a=K.useRef(null),o=ma(a,e);Tm();let l=Pm();if(r===void 0&&l!==null&&(r=(l&tr.Open)===tr.Open),![!0,!1].includes(r))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[c,u]=K.useState(r?"visible":"hidden"),h=j1(()=>{u("hidden")}),[f,p]=K.useState(!0),w=K.useRef([r]);gr(()=>{f!==!1&&w.current[w.current.length-1]!==r&&(w.current.push(r),p(!1))},[w,r]);let g=K.useMemo(()=>({show:r,appear:n,initial:f}),[r,n,f]);K.useEffect(()=>{if(r)u("visible");else if(!Ku(h))u("hidden");else{let _=a.current;if(!_)return;let k=_.getBoundingClientRect();k.x===0&&k.y===0&&k.width===0&&k.height===0&&u("hidden")}},[r,h]);let b={unmount:i},m=rt(()=>{var _;f&&p(!1),(_=t.beforeEnter)==null||_.call(t)}),y=rt(()=>{var _;f&&p(!1),(_=t.beforeLeave)==null||_.call(t)});return wt.createElement(Vu.Provider,{value:h},wt.createElement(Hu.Provider,{value:g},ga({ourProps:{...b,as:K.Fragment,children:wt.createElement(P1,{ref:o,...b,...s,beforeEnter:m,beforeLeave:y})},theirProps:{},defaultTag:K.Fragment,features:C1,visible:c==="visible",name:"Transition"})))}function OC(t,e){let r=K.useContext(Hu)!==null,n=Pm()!==null;return wt.createElement(wt.Fragment,null,!r&&n?wt.createElement(tp,{ref:e,...t}):wt.createElement(P1,{ref:e,...t}))}let tp=Ji(PC),P1=Ji(CC),RC=Ji(OC),DC=Object.assign(tp,{Child:RC,Root:tp});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var IC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MC=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),be=(t,e)=>{const r=K.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:o="",children:l,...c},u)=>K.createElement("svg",{ref:u,...IC,width:i,height:i,stroke:n,strokeWidth:a?Number(s)*24/Number(i):s,className:["lucide",`lucide-${MC(t)}`,o].join(" "),...c},[...e.map(([h,f])=>K.createElement(h,f)),...Array.isArray(l)?l:[l]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LC=be("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FC=be("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BC=be("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O1=be("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zC=be("BellRing",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R1=be("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UC=be("BookOpenCheck",[["path",{d:"M8 3H2v15h7c1.7 0 3 1.3 3 3V7c0-2.2-1.8-4-4-4Z",key:"1i8u0n"}],["path",{d:"m16 12 2 2 4-4",key:"mdajum"}],["path",{d:"M22 6V3h-6c-2.2 0-4 1.8-4 4v14c0-1.7 1.3-3 3-3h7v-2.3",key:"jb5l51"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wi=be("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $C=be("CalendarClock",[["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M17.5 17.5 16 16.3V14",key:"akvzfd"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zi=be("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WC=be("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D1=be("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rp=be("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const As=be("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HC=be("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const js=be("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VC=be("CircleDollarSign",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 18V6",key:"zqpxq5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cr=be("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ru=be("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hi=be("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ea=be("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KC=be("FileJson",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ta=be("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qC=be("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GC=be("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ya=be("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YC=be("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mo=be("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q0=be("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XC=be("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nu=be("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J0=be("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I1=be("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QC=be("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JC=be("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M1=be("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZC=be("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L1=be("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xn=be("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F1=be("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dm=be("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Im=be("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eP=be("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B1=be("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tP=be("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const es=be("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rP=be("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nP=be("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iP=be("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lo=be("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ni=be("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sP=be("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z1=be("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aP=be("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ii=be("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function oP(){const[t,e]=K.useState([]),[r,n]=K.useState(!1),[i,s]=K.useState(0);K.useEffect(()=>{a();const u=setInterval(a,6e4);return()=>clearInterval(u)},[]),K.useEffect(()=>{const u=h=>{const f=h.target;!f.closest(".notification-panel")&&!f.closest(".notification-button")&&n(!1)};return r&&document.addEventListener("mousedown",u),()=>{document.removeEventListener("mousedown",u)}},[r]);const a=async()=>{try{const{data:{user:u}}=await me.auth.getUser();if(!u)return;const{data:h}=await me.from("teacher_profiles").select("id").eq("user_id",u.id).single();if(!h)return;const{data:f,error:p}=await me.from("notifications").select(`
          id,
          type,
          read,
          sent,
          student:students!notifications_student_id_fkey(full_name),
          lesson:lessons!notifications_lesson_id_fkey(subject, start_time, day_of_week)
        `).eq("teacher_id",h.id).eq("sent",!0).order("created_at",{ascending:!1}).limit(10);if(p)throw p;e(f||[]),s((f==null?void 0:f.filter(g=>!g.read).length)||0),((f==null?void 0:f.filter(g=>!g.read))||[]).length>0&&o()}catch(u){console.error("Notifications fetch error:",u)}},o=()=>{new Audio("/notification.mp3").play().catch(h=>{console.error("Audio playback failed:",h)})},l=async u=>{try{const{error:h}=await me.from("notifications").update({read:!0}).eq("id",u);if(h)throw h;e(t.map(f=>f.id===u?{...f,read:!0}:f)),s(f=>Math.max(0,f-1))}catch(h){console.error("Mark as read error:",h)}},c=u=>{const h={"1_day":"1 gün","3_hours":"3 saat","1_hour":"1 saat","10_minutes":"10 dakika"};return`${u.student.full_name} ile ${u.lesson.subject} dersiniz ${h[u.type]} sonra başlayacak.`};return d.jsxs("div",{className:"relative",children:[d.jsxs("button",{onClick:()=>n(!r),className:"notification-button relative p-2 text-gray-500 hover:text-indigo-600 dark:text-gray-400 dark:hover:text-indigo-400 transition-colors duration-150 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700",children:[d.jsx(R1,{className:"h-6 w-6"}),i>0&&d.jsx("span",{className:"absolute top-0 right-0 inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-white transform translate-x-1/2 -translate-y-1/2 bg-red-500 rounded-full min-w-[1.25rem]",children:i})]}),r&&d.jsx("div",{className:"notification-panel fixed inset-0 z-50 sm:inset-auto sm:absolute sm:right-0 sm:mt-2 sm:w-80",children:d.jsxs("div",{className:"relative h-full sm:h-auto",children:[d.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 sm:hidden"}),d.jsx("div",{className:"relative h-full sm:h-auto bg-white dark:bg-gray-800 sm:rounded-lg shadow-lg ring-1 ring-black ring-opacity-5 overflow-hidden",children:d.jsxs("div",{className:"p-4",children:[d.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Bildirimler"}),d.jsx("div",{className:"space-y-4 max-h-[calc(100vh-8rem)] sm:max-h-96 overflow-y-auto",children:t.length>0?t.map(u=>d.jsxs("div",{className:`p-3 rounded-lg transition-colors duration-150 cursor-pointer
                          ${u.read?"bg-gray-50 dark:bg-gray-700/50 hover:bg-gray-100 dark:hover:bg-gray-700":"bg-indigo-50 dark:bg-indigo-900/30 hover:bg-indigo-100 dark:hover:bg-indigo-900/50"}`,onClick:()=>l(u.id),children:[d.jsx("p",{className:"text-sm text-gray-900 dark:text-white",children:c(u)}),!u.read&&d.jsx("span",{className:"inline-block mt-2 text-xs font-medium text-indigo-600 dark:text-indigo-400",children:"Yeni bildirim"})]},u.id)):d.jsx("p",{className:"text-center text-gray-500 dark:text-gray-400 py-8",children:"Bildirim bulunmuyor"})})]})})]})})]})}function lP({darkMode:t,toggleDarkMode:e,profile:r,onLogout:n,onAddStudent:i,activeSection:s,onSectionChange:a}){const o=[{id:"dashboard",name:"Dashboard",icon:YC},{id:"students",name:"Öğrenciler",icon:ni},{id:"lessons",name:"Dersler",icon:Wi},{id:"payments",name:"Ödemeler",icon:ru},{id:"reports",name:"Raporlar",icon:O1},{id:"schedule",name:"Ders Programı",icon:Zi}];return d.jsxs(d.Fragment,{children:[d.jsx("nav",{className:"bg-white dark:bg-gray-800 shadow-lg relative z-50",children:d.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"flex justify-between h-16",children:[d.jsxs("div",{className:"flex",children:[d.jsxs("div",{className:"flex-shrink-0 flex items-center",children:[d.jsx(ya,{className:"h-8 w-8 text-indigo-600 dark:text-indigo-400"}),d.jsx("span",{className:"ml-2 text-xl font-bold text-gray-900 dark:text-white hidden sm:block",children:"Özel Ders Yönetim Sistemi"})]}),d.jsx("div",{className:"hidden md:ml-6 md:flex md:space-x-4",children:o.map(l=>d.jsxs("button",{onClick:()=>a(l.id),className:`inline-flex items-center px-3 py-2 text-sm font-medium 
                      ${s===l.id?"text-indigo-600 dark:text-indigo-400 border-b-2 border-indigo-600 dark:border-indigo-400":"text-gray-600 dark:text-gray-300 hover:text-indigo-600 dark:hover:text-indigo-400"} transition-colors duration-150`,children:[d.jsx(l.icon,{className:"h-5 w-5 mr-1.5"}),l.name]},l.id))})]}),d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx(oP,{}),d.jsx("button",{onClick:e,className:"p-2 text-gray-500 dark:text-gray-400 hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors duration-150",children:t?d.jsx(B1,{className:"h-5 w-5"}):d.jsx(I1,{className:"h-5 w-5"})}),d.jsxs(ls,{as:"div",className:"relative",children:[d.jsxs(ls.Button,{className:"flex rounded-full bg-gray-100 dark:bg-gray-700 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 transition-all duration-150",children:[d.jsx("span",{className:"sr-only",children:"Kullanıcı menüsü"}),d.jsx("div",{className:"h-8 w-8 rounded-full overflow-hidden",children:r!=null&&r.avatar_url?d.jsx("img",{src:`${me.storage.from("avatars").getPublicUrl(r.avatar_url).data.publicUrl}`,alt:r.full_name,className:"h-full w-full object-cover"}):d.jsx("div",{className:"h-full w-full bg-indigo-100 dark:bg-indigo-900 flex items-center justify-center",children:d.jsx(Lo,{className:"h-5 w-5 text-indigo-600 dark:text-indigo-400"})})})]}),d.jsx(DC,{as:K.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:d.jsx(ls.Items,{className:"absolute right-0 mt-2 w-48 rounded-md shadow-lg bg-white dark:bg-gray-700 ring-1 ring-black ring-opacity-5 focus:outline-none",children:d.jsxs("div",{className:"py-1",children:[d.jsx(ls.Item,{children:({active:l})=>d.jsxs("button",{onClick:()=>a("profile"),className:`${l?"bg-gray-100 dark:bg-gray-600":""} flex w-full px-4 py-2 text-sm text-gray-700 dark:text-gray-200 items-center transition-colors duration-150`,children:[d.jsx(Lo,{className:"h-5 w-5 mr-2"}),"Profil"]})}),d.jsx(ls.Item,{children:({active:l})=>d.jsxs("button",{onClick:()=>a("settings"),className:`${l?"bg-gray-100 dark:bg-gray-600":""} flex w-full px-4 py-2 text-sm text-gray-700 dark:text-gray-200 items-center transition-colors duration-150`,children:[d.jsx(Im,{className:"h-5 w-5 mr-2"}),"Ayarlar"]})}),d.jsx(ls.Item,{children:({active:l})=>d.jsxs("button",{onClick:n,className:`${l?"bg-gray-100 dark:bg-gray-600":""} flex w-full px-4 py-2 text-sm text-red-600 dark:text-red-400 items-center transition-colors duration-150`,children:[d.jsx(XC,{className:"h-5 w-5 mr-2"}),"Çıkış Yap"]})})]})})})]})]})]})})}),d.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 md:hidden z-50",children:d.jsx("div",{className:"grid grid-cols-6 gap-1 px-2 py-2",children:o.map(l=>d.jsxs("button",{onClick:()=>a(l.id),className:`flex flex-col items-center justify-center py-2 px-1 rounded-lg
                ${s===l.id?"text-indigo-600 dark:text-indigo-400 bg-indigo-50 dark:bg-indigo-900/30":"text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700/30"} transition-colors duration-150`,children:[d.jsx(l.icon,{className:"h-5 w-5"}),d.jsx("span",{className:"text-xs mt-1 truncate w-full text-center",children:l.name})]},l.id))})})]})}const Z0=["Pazartesi","Salı","Çarşamba","Perşembe","Cuma","Cumartesi","Pazar"];function cP(){const[t,e]=K.useState([]),[r,n]=K.useState(!0),[i,s]=K.useState(null),[a,o]=K.useState(!1),[l,c]=K.useState(null),[u,h]=K.useState({totalStudents:0,activeClasses:0,monthlyIncome:0,estimatedIncome:0,successRate:0}),f=async k=>{try{const{data:T}=await me.from("students").select("id").eq("teacher_id",k);if(!T)return;const I=T.map(B=>B.id),{data:O}=await me.from("lessons").select("id, price_per_hour").is("status",null).in("student_id",I),{data:L}=await me.from("lessons").select("id, price_per_hour").eq("status","completed").in("student_id",I),N=new Date;N.setDate(1),N.setHours(0,0,0,0);const{data:H}=await me.from("payments").select("amount").eq("status","completed").gte("payment_date",N.toISOString()).in("student_id",I),ee=((O==null?void 0:O.length)||0)+((L==null?void 0:L.length)||0),R=(L||[]).reduce((B,ne)=>B+(ne.price_per_hour||0),0),W=(H||[]).reduce((B,ne)=>B+ne.amount,0),P=ee>0?((L==null?void 0:L.length)||0)/ee*100:0;h({totalStudents:T.length,activeClasses:(O==null?void 0:O.length)||0,monthlyIncome:W,estimatedIncome:R,successRate:Math.round(P)})}catch(T){console.error("İstatistikler yüklenirken hata:",T),ye.error("İstatistikler yüklenirken bir hata oluştu")}},p=async k=>{try{const{data:T}=await me.from("students").select("id").eq("teacher_id",k);if(!(T!=null&&T.length)){e([]);return}const{data:I,error:O}=await me.from("lessons").select(`
          id,
          student:students(full_name),
          subject,
          day_of_week,
          start_time,
          status,
          postponed_to,
          postpone_reason,
          price_per_hour
        `).in("student_id",T.map(L=>L.id)).order("start_time",{ascending:!0});if(O)throw O;e(I||[])}catch(T){console.error("Ders yükleme hatası:",T),ye.error("Dersler yüklenirken bir hata oluştu")}},w=async k=>{if(window.confirm("Bu dersi silmek istediğinizden emin misiniz?"))try{const{error:T}=await me.from("lessons").delete().eq("id",k);if(T)throw T;ye.success("Ders başarıyla silindi"),l&&await Promise.all([p(l),f(l)])}catch(T){console.error("Ders silme hatası:",T),ye.error("Ders silinirken bir hata oluştu")}},g=async k=>{if(l)try{const{error:T}=await me.from("lessons").update({status:"completed"}).eq("id",k);if(T)throw T;ye.success("Ders tamamlandı olarak işaretlendi"),await Promise.all([p(l),f(l)])}catch(T){console.error("Ders güncelleme hatası:",T),ye.error("Ders durumu güncellenirken bir hata oluştu")}},b=async(k,T,I)=>{if(l)try{const{error:O}=await me.from("lessons").update({status:"postponed",postponed_to:T,postpone_reason:I}).eq("id",k);if(O)throw O;ye.success("Ders ertelendi"),o(!1),s(null),await Promise.all([p(l),f(l)])}catch(O){console.error("Ders erteleme hatası:",O),ye.error("Ders ertelenirken bir hata oluştu")}},m=async()=>{try{n(!0);const k=await Em();c(k.id),await Promise.all([f(k.id),p(k.id)])}catch(k){console.error("Dashboard yükleme hatası:",k),ye.error("Veriler yüklenirken bir hata oluştu")}finally{n(!1)}};K.useEffect(()=>{m()},[]);const y=()=>{const k={};return Z0.forEach(T=>{k[T]=t.filter(I=>I.day_of_week===T)}),k};if(r)return d.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-500"})});const _=y();return d.jsxs("div",{className:"space-y-8",children:[d.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-5",children:[d.jsxs("div",{className:"relative group",children:[d.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-2xl blur opacity-30 group-hover:opacity-100 transition duration-1000 group-hover:duration-200"}),d.jsx("div",{className:"relative bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 ring-1 ring-gray-900/5 transform hover:-translate-y-1 transition-all duration-300",children:d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("div",{className:"bg-gradient-to-br from-indigo-100 to-purple-100 dark:from-indigo-900 dark:to-purple-900 p-3 rounded-lg",children:d.jsx(ni,{className:"h-7 w-7 text-indigo-600 dark:text-indigo-400"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Toplam Öğrenci"}),d.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mt-1",children:u.totalStudents})]})]})})]}),d.jsxs("div",{className:"relative group",children:[d.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-green-500 to-emerald-500 rounded-2xl blur opacity-30 group-hover:opacity-100 transition duration-1000 group-hover:duration-200"}),d.jsx("div",{className:"relative bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 ring-1 ring-gray-900/5 transform hover:-translate-y-1 transition-all duration-300",children:d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("div",{className:"bg-gradient-to-br from-green-100 to-emerald-100 dark:from-green-900 dark:to-emerald-900 p-3 rounded-lg",children:d.jsx(UC,{className:"h-7 w-7 text-green-600 dark:text-green-400"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Aktif Dersler"}),d.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mt-1",children:u.activeClasses})]})]})})]}),d.jsxs("div",{className:"relative group",children:[d.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-yellow-500 to-orange-500 rounded-2xl blur opacity-30 group-hover:opacity-100 transition duration-1000 group-hover:duration-200"}),d.jsx("div",{className:"relative bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 ring-1 ring-gray-900/5 transform hover:-translate-y-1 transition-all duration-300",children:d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("div",{className:"bg-gradient-to-br from-yellow-100 to-orange-100 dark:from-yellow-900 dark:to-orange-900 p-3 rounded-lg",children:d.jsx(VC,{className:"h-7 w-7 text-yellow-600 dark:text-yellow-400"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Tahmini Gelir"}),d.jsxs("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mt-1",children:["₺",u.estimatedIncome]})]})]})})]}),d.jsxs("div",{className:"relative group",children:[d.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-2xl blur opacity-30 group-hover:opacity-100 transition duration-1000 group-hover:duration-200"}),d.jsx("div",{className:"relative bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 ring-1 ring-gray-900/5 transform hover:-translate-y-1 transition-all duration-300",children:d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("div",{className:"bg-gradient-to-br from-blue-100 to-cyan-100 dark:from-blue-900 dark:to-cyan-900 p-3 rounded-lg",children:d.jsx(Hi,{className:"h-7 w-7 text-blue-600 dark:text-blue-400"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Aylık Gelir"}),d.jsxs("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mt-1",children:["₺",u.monthlyIncome]})]})]})})]}),d.jsxs("div",{className:"relative group",children:[d.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-purple-500 to-pink-500 rounded-2xl blur opacity-30 group-hover:opacity-100 transition duration-1000 group-hover:duration-200"}),d.jsx("div",{className:"relative bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 ring-1 ring-gray-900/5 transform hover:-translate-y-1 transition-all duration-300",children:d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("div",{className:"bg-gradient-to-br from-purple-100 to-pink-100 dark:from-purple-900 dark:to-pink-900 p-3 rounded-lg",children:d.jsx(rP,{className:"h-7 w-7 text-purple-600 dark:text-purple-400"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Başarı Oranı"}),d.jsxs("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mt-1",children:["%",u.successRate]})]})]})})]})]}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsxs("div",{className:"relative group",children:[d.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-lg blur opacity-75"}),d.jsx("div",{className:"relative bg-white dark:bg-gray-800 p-2 rounded-lg",children:d.jsx($C,{className:"h-6 w-6 text-indigo-600 dark:text-indigo-400"})})]}),d.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Haftalık Ders Programı"})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:Z0.map(k=>{var T;return d.jsxs("div",{className:"group relative",children:[d.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-xl blur opacity-30 group-hover:opacity-75 transition duration-300"}),d.jsxs("div",{className:"relative bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden",children:[d.jsx("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-500 p-4",children:d.jsx("h3",{className:"text-lg font-bold text-white",children:k})}),d.jsx("div",{className:"p-4 space-y-4",children:((T=_[k])==null?void 0:T.length)>0?_[k].map(I=>d.jsxs("div",{className:"group/lesson relative bg-gray-50 dark:bg-gray-700 rounded-lg p-4 transform hover:-translate-y-1 transition-all duration-200",children:[d.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-indigo-50 to-purple-50 dark:from-indigo-900/20 dark:to-purple-900/20 opacity-0 group-hover/lesson:opacity-100 rounded-lg transition-opacity duration-200"}),d.jsxs("div",{className:"relative",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"bg-gradient-to-br from-indigo-100 to-purple-100 dark:from-indigo-900 dark:to-purple-900 p-2 rounded-lg",children:d.jsx(ya,{className:"h-5 w-5 text-indigo-600 dark:text-indigo-400"})}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:I.student.full_name}),d.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:I.subject})]})]}),d.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:I.start_time})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium transition-colors duration-200
                              ${I.status==="completed"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":I.status==="postponed"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200":"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200"}`,children:[I.status==="completed"&&d.jsxs(d.Fragment,{children:[d.jsx(D1,{className:"mr-1 h-3 w-3"}),"Tamamlandı"]}),I.status==="postponed"&&d.jsxs(d.Fragment,{children:[d.jsx(Cr,{className:"mr-1 h-3 w-3"}),"Ertelendi"]}),!I.status&&d.jsxs(d.Fragment,{children:[d.jsx(LC,{className:"mr-1 h-3 w-3"}),"Planlandı"]})]}),d.jsxs("div",{className:"flex space-x-2 opacity-0 group-hover/lesson:opacity-100 transition-opacity duration-200",children:[!I.status&&d.jsxs(d.Fragment,{children:[d.jsx("button",{onClick:()=>g(I.id),className:"text-green-600 dark:text-green-400 hover:text-green-900 dark:hover:text-green-300 transition-colors duration-200",title:"Tamamlandı olarak işaretle",children:d.jsx(rp,{className:"h-5 w-5"})}),d.jsx("button",{onClick:()=>{s(I),o(!0)},className:"text-yellow-600 dark:text-yellow-400 hover:text-yellow-900 dark:hover:text-yellow-300 transition-colors duration-200",title:"Ertele",children:d.jsx(Cr,{className:"h-5 w-5"})})]}),I.status==="postponed"&&d.jsx("button",{onClick:()=>g(I.id),className:"text-green-600 dark:text-green-400 hover:text-green-900 dark:hover:text-green-300 transition-colors duration-200",title:"Tamamlandı olarak işaretle",children:d.jsx(rp,{className:"h-5 w-5"})}),d.jsx("button",{onClick:()=>w(I.id),className:"text-red-600 dark:text-red-400 hover:text-red-900 dark:hover:text-red-300 transition-colors duration-200",title:"Sil",children:d.jsx(es,{className:"h-5 w-5"})})]})]})]})]},I.id)):d.jsx("div",{className:"text-center py-8",children:d.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-6",children:[d.jsx(Zi,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),d.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Bu gün için ders yok"})]})})})]})]},k)})})]}),a&&i&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4",children:d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-md w-full p-6",children:[d.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Dersi Ertele"}),d.jsxs("form",{onSubmit:k=>{k.preventDefault();const T=k.target,I=T.elements.namedItem("postponedTo").value,O=T.elements.namedItem("reason").value;b(i.id,I,O)},children:[d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Yeni Tarih"}),d.jsx("input",{type:"datetime-local",name:"postponedTo",required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white sm:text-sm"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Erteleme Nedeni"}),d.jsx("textarea",{name:"reason",required:!0,rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white sm:text-sm"})]})]}),d.jsxs("div",{className:"mt-5 flex justify-end space-x-3",children:[d.jsx("button",{type:"button",onClick:()=>{o(!1),s(null)},className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-600 dark:hover:bg-gray-600",children:"İptal"}),d.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Ertele"})]})]})]})})]})}function uP({onEditStudent:t}){const[e,r]=K.useState([]),[n,i]=K.useState(!0),[s,a]=K.useState(""),[o,l]=K.useState("full_name"),[c,u]=K.useState("asc"),[h,f]=K.useState(null),p=async m=>{try{const{data:y,error:_}=await me.from("students").select("*").eq("teacher_id",m).order(o,{ascending:c==="asc"});if(_)throw _;r(y||[])}catch{ye.error("Öğrenciler yüklenirken bir hata oluştu")}finally{i(!1)}},w=async()=>{try{i(!0);const m=await Em();f(m.id),await p(m.id)}catch(m){ye.error("Veriler yüklenirken bir hata oluştu"),console.error("Students yükleme hatası:",m)}};K.useEffect(()=>{w()},[]),K.useEffect(()=>{h&&p(h)},[o,c,h]);const g=async m=>{if(window.confirm("Bu öğrenciyi silmek istediğinizden emin misiniz? Tüm dersleri de silinecektir."))try{const{data:y,error:_}=await me.from("students").select().eq("id",m).single();if(_||!y)throw new Error("Öğrenci bulunamadı");const{error:k}=await me.from("lessons").delete().eq("student_id",m);if(k)throw new Error("Dersler silinirken bir hata oluştu");const{error:T}=await me.from("students").delete().eq("id",m);if(T)throw new Error("Öğrenci silinirken bir hata oluştu");r(I=>I.filter(O=>O.id!==m)),ye.success("Öğrenci başarıyla silindi")}catch(y){console.error("Silme işlemi hatası:",y),ye.error(y.message||"Silme işlemi sırasında bir hata oluştu")}},b=e.filter(m=>{var y,_,k;return m.full_name.toLowerCase().includes(s.toLowerCase())||((y=m.grade)==null?void 0:y.toLowerCase().includes(s.toLowerCase()))||((_=m.phone)==null?void 0:_.toLowerCase().includes(s.toLowerCase()))||((k=m.parent_name)==null?void 0:k.toLowerCase().includes(s.toLowerCase()))});return n?d.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-500"})}):d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center justify-between bg-white dark:bg-gray-800 p-4 rounded-xl shadow-lg",children:[d.jsxs("div",{className:"relative flex-1 w-full",children:[d.jsx("input",{type:"text",placeholder:"Öğrenci ara...",value:s,onChange:m=>a(m.target.value),className:"w-full pl-10 pr-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-indigo-500 transition-all duration-200"}),d.jsx(Dm,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]}),d.jsxs("button",{onClick:()=>t(null),className:"flex items-center px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-all duration-200 shadow-md hover:shadow-lg transform hover:-translate-y-0.5",children:[d.jsx(iP,{className:"h-5 w-5 mr-2"}),"Yeni Öğrenci"]})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:b.map(m=>d.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden transform hover:-translate-y-1 transition-all duration-200",children:d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"bg-indigo-100 dark:bg-indigo-900 p-2 rounded-lg",children:d.jsx(ya,{className:"h-6 w-6 text-indigo-600 dark:text-indigo-400"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:m.full_name}),d.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:m.grade||"Sınıf bilgisi yok"})]})]}),d.jsxs("div",{className:"flex space-x-2",children:[d.jsx("button",{onClick:()=>t(m),className:"p-2 text-indigo-600 dark:text-indigo-400 hover:bg-indigo-50 dark:hover:bg-indigo-900/50 rounded-lg transition-colors duration-200",children:d.jsx(M1,{className:"h-5 w-5"})}),d.jsx("button",{onClick:()=>g(m.id),className:"p-2 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/50 rounded-lg transition-colors duration-200",children:d.jsx(es,{className:"h-5 w-5"})})]})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-300",children:[d.jsx(L1,{className:"h-4 w-4 mr-2"}),m.phone||"Telefon bilgisi yok"]}),d.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-300",children:[d.jsx(ni,{className:"h-4 w-4 mr-2"}),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium",children:m.parent_name||"Veli bilgisi yok"}),m.parent_phone&&d.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:m.parent_phone})]})]})]})]})},m.id))}),b.length===0&&d.jsxs("div",{className:"text-center py-12",children:[d.jsx("div",{className:"bg-gray-100 dark:bg-gray-800 rounded-full p-4 inline-block mb-4",children:d.jsx(ni,{className:"h-8 w-8 text-gray-400"})}),d.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Öğrenci Bulunamadı"}),d.jsx("p",{className:"mt-2 text-gray-500 dark:text-gray-400",children:"Arama kriterlerinize uygun öğrenci bulunmamaktadır."})]})]})}function dP(){const[t,e]=K.useState([]),[r,n]=K.useState([]),[i,s]=K.useState(!0),[a,o]=K.useState(""),[l,c]=K.useState(null),[u,h]=K.useState(!1),[f,p]=K.useState(!1),[w,g]=K.useState({name:"",description:"",objectives:[""]}),[b,m]=K.useState({title:"",description:"",subject:"",file:null,tags:[""]});K.useEffect(()=>{y(),_()},[]);const y=async()=>{try{const{data:N,error:H}=await me.from("subjects").select("*").order("name",{ascending:!0});if(H)throw H;e(N||[])}catch(N){console.error("Konular yüklenirken hata:",N),ye.error("Konular yüklenirken bir hata oluştu")}},_=async()=>{try{const{data:N,error:H}=await me.from("lesson_resources").select("*").order("created_at",{ascending:!1});if(H)throw H;n(N||[]),s(!1)}catch(N){console.error("Kaynaklar yüklenirken hata:",N),ye.error("Kaynaklar yüklenirken bir hata oluştu"),s(!1)}},k=async N=>{N.preventDefault();try{const{data:H,error:ee}=await me.from("subjects").insert([{name:w.name,description:w.description,objectives:w.objectives.filter(R=>R.trim()!=="")}]).select().single();if(ee)throw ee;e([...t,H]),h(!1),g({name:"",description:"",objectives:[""]}),ye.success("Konu başarıyla eklendi")}catch(H){console.error("Konu ekleme hatası:",H),ye.error("Konu eklenirken bir hata oluştu")}},T=async N=>{N.preventDefault();try{let H="";if(b.file){const W=b.file.name.split(".").pop(),B=`${`${Math.random()}.${W}`}`,{error:ne}=await me.storage.from("resources").upload(B,b.file);if(ne)throw ne;H=B}const{data:ee,error:R}=await me.from("lesson_resources").insert([{title:b.title,description:b.description,subject:b.subject,file_url:H||null,tags:b.tags.filter(W=>W.trim()!=="")}]).select().single();if(R)throw R;n([ee,...r]),p(!1),m({title:"",description:"",subject:"",file:null,tags:[""]}),ye.success("Kaynak başarıyla eklendi")}catch(H){console.error("Kaynak ekleme hatası:",H),ye.error("Kaynak eklenirken bir hata oluştu")}},I=async(N,H)=>{try{const{data:ee,error:R}=await me.storage.from("resources").download(N);if(R)throw R;const W=new Blob([ee],{type:"application/octet-stream"}),P=window.URL.createObjectURL(W),B=document.createElement("a");B.href=P,B.download=H+"_"+N.split("/").pop(),document.body.appendChild(B),B.click(),window.URL.revokeObjectURL(P),document.body.removeChild(B),ye.success("Dosya indiriliyor...")}catch(ee){console.error("Dosya indirme hatası:",ee),ye.error("Dosya indirilirken bir hata oluştu")}},O=async(N,H)=>{if(window.confirm("Bu kaynağı silmek istediğinizden emin misiniz?"))try{if(H){const{error:R}=await me.storage.from("resources").remove([H]);if(R)throw R}const{error:ee}=await me.from("lesson_resources").delete().eq("id",N);if(ee)throw ee;n(R=>R.filter(W=>W.id!==N)),ye.success("Kaynak başarıyla silindi")}catch(ee){console.error("Silme işlemi hatası:",ee),ye.error("Kaynak silinirken bir hata oluştu")}},L=r.filter(N=>{var R,W;const H=N.title.toLowerCase().includes(a.toLowerCase())||((R=N.description)==null?void 0:R.toLowerCase().includes(a.toLowerCase()))||((W=N.tags)==null?void 0:W.some(P=>P.toLowerCase().includes(a.toLowerCase()))),ee=!l||N.subject===l;return H&&ee});return i?d.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-500"})}):d.jsxs("div",{className:"space-y-6",children:[d.jsx("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-lg",children:d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center",children:[d.jsxs("div",{className:"relative flex-1",children:[d.jsx("input",{type:"text",placeholder:"Kaynak ara...",value:a,onChange:N=>o(N.target.value),className:"w-full pl-10 pr-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"}),d.jsx(Dm,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]}),d.jsxs("select",{value:l||"",onChange:N=>c(N.target.value||null),className:"px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:[d.jsx("option",{value:"",children:"Tüm Konular"}),t.map(N=>d.jsx("option",{value:N.id,children:N.name},N.id))]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("button",{onClick:()=>h(!0),className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-all duration-200",children:[d.jsx(qC,{className:"h-5 w-5 mr-2"}),"Konu Ekle"]}),d.jsxs("button",{onClick:()=>p(!0),className:"flex items-center px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-all duration-200",children:[d.jsx(nP,{className:"h-5 w-5 mr-2"}),"Kaynak Ekle"]})]})]})}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:L.map(N=>d.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden",children:d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex justify-between items-start mb-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:N.title}),d.jsx("div",{className:"flex space-x-2",children:d.jsx("button",{onClick:()=>O(N.id,N.file_url),className:"p-2 text-red-600 hover:bg-red-100 rounded-lg dark:text-red-400 dark:hover:bg-red-900/50",children:d.jsx(es,{className:"h-4 w-4"})})})]}),N.description&&d.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:N.description}),N.file_url&&d.jsxs("button",{onClick:()=>I(N.file_url,N.title),className:"w-full mt-4 flex items-center justify-center px-4 py-2 border border-purple-300 text-purple-700 rounded-lg hover:bg-purple-50 dark:border-purple-700 dark:text-purple-300 dark:hover:bg-purple-900/50",children:[d.jsx(ea,{className:"h-4 w-4 mr-2"}),"Dosyayı İndir"]}),N.tags&&N.tags.length>0&&d.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:N.tags.map((H,ee)=>d.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",children:[d.jsx(tP,{className:"h-3 w-3 mr-1"}),H]},ee))})]})},N.id))}),L.length===0&&d.jsxs("div",{className:"text-center py-12",children:[d.jsx(ta,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),d.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Kaynak Bulunamadı"}),d.jsx("p",{className:"mt-2 text-gray-500 dark:text-gray-400",children:"Arama kriterlerinize uygun kaynak bulunmamaktadır."})]}),u&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4",children:d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-md w-full p-6",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Yeni Konu Ekle"}),d.jsx("button",{onClick:()=>h(!1),className:"text-gray-400 hover:text-gray-500 dark:hover:text-gray-300",children:d.jsx(ii,{className:"h-6 w-6"})})]}),d.jsxs("form",{onSubmit:k,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Konu Adı"}),d.jsx("input",{type:"text",required:!0,value:w.name,onChange:N=>g({...w,name:N.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Açıklama"}),d.jsx("textarea",{value:w.description,onChange:N=>g({...w,description:N.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",rows:3})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Hedefler"}),w.objectives.map((N,H)=>d.jsxs("div",{className:"mt-1 flex gap-2",children:[d.jsx("input",{type:"text",value:N,onChange:ee=>{const R=[...w.objectives];R[H]=ee.target.value,g({...w,objectives:R})},className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"}),H===w.objectives.length-1&&d.jsx("button",{type:"button",onClick:()=>g({...w,objectives:[...w.objectives,""]}),className:"p-2 text-indigo-600 hover:bg-indigo-50 rounded-md dark:text-indigo-400 dark:hover:bg-indigo-900/50",children:d.jsx(xn,{className:"h-5 w-5"})})]},H))]}),d.jsxs("div",{className:"flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:()=>h(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-600 dark:hover:bg-gray-600",children:"İptal"}),d.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Ekle"})]})]})]})}),f&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4",children:d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-md w-full p-6",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Yeni Kaynak Ekle"}),d.jsx("button",{onClick:()=>p(!1),className:"text-gray-400 hover:text-gray-500 dark:hover:text-gray-300",children:d.jsx(ii,{className:"h-6 w-6"})})]}),d.jsxs("form",{onSubmit:T,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Başlık"}),d.jsx("input",{type:"text",required:!0,value:b.title,onChange:N=>m({...b,title:N.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Açıklama"}),d.jsx("textarea",{value:b.description,onChange:N=>m({...b,description:N.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",rows:3})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Konu"}),d.jsxs("select",{required:!0,value:b.subject,onChange:N=>m({...b,subject:N.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",children:[d.jsx("option",{value:"",children:"Konu Seçin"}),t.map(N=>d.jsx("option",{value:N.id,children:N.name},N.id))]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Dosya"}),d.jsx("input",{type:"file",onChange:N=>m({...b,file:N.target.files?N.target.files[0]:null}),className:`mt-1 block w-full text-sm text-gray-500 dark:text-gray-300
                    file:mr-4 file:py-2 file:px-4
                    file:rounded-md file:border-0
                    file:text-sm file:font-medium
                    file:bg-indigo-50 file:text-indigo-700
                    hover:file:bg-indigo-100
                    dark:file:bg-indigo-900 dark:file:text-indigo-300`})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Etiketler"}),b.tags.map((N,H)=>d.jsxs("div",{className:"mt-1 flex gap-2",children:[d.jsx("input",{type:"text",value:N,onChange:ee=>{const R=[...b.tags];R[H]=ee.target.value,m({...b,tags:R})},className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"}),H===b.tags.length-1&&d.jsx("button",{type:"button",onClick:()=>m({...b,tags:[...b.tags,""]}),className:"p-2 text-indigo-600 hover:bg-indigo-50 rounded-md dark:text-indigo-400 dark:hover:bg-indigo-900/50",children:d.jsx(xn,{className:"h-5 w-5"})})]},H))]}),d.jsxs("div",{className:"flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:()=>p(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-600 dark:hover:bg-gray-600",children:"İptal"}),d.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Ekle"})]})]})]})})]})}const ey=[{id:"cash",name:"Nakit"},{id:"credit_card",name:"Kredi Kartı"},{id:"bank_transfer",name:"Banka Transferi"},{id:"other",name:"Diğer"}],Hd=[{id:"pending",name:"Bekliyor",color:"yellow"},{id:"completed",name:"Tamamlandı",color:"green"},{id:"cancelled",name:"İptal Edildi",color:"red"}];function hP(){const[t,e]=K.useState([]),[r,n]=K.useState([]),[i,s]=K.useState(!0),[a,o]=K.useState(!1),[l,c]=K.useState(null),[u,h]=K.useState(""),[f,p]=K.useState(""),[w,g]=K.useState("payment_date"),[b,m]=K.useState("desc"),[y,_]=K.useState(null),[k,T]=K.useState({student_id:"",amount:"",payment_date:new Date().toISOString().split("T")[0],payment_method:"cash",description:"",status:"completed"});K.useEffect(()=>{(async()=>{try{const{data:{user:ne}}=await me.auth.getUser();if(!ne)throw new Error("Kullanıcı bulunamadı");const{data:X,error:re}=await me.from("teacher_profiles").select("id").eq("user_id",ne.id).single();if(re)throw re;_(X.id),await Promise.all([I(X.id),O(X.id)])}catch(ne){console.error("Veri yükleme hatası:",ne),ye.error("Veriler yüklenirken bir hata oluştu")}finally{s(!1)}})()},[]);const I=async B=>{try{const{data:ne,error:X}=await me.from("payments").select(`
          *,
          student:students(id, full_name, grade)
        `).order(w,{ascending:b==="asc"});if(X)throw X;e(ne||[])}catch(ne){console.error("Ödemeler yüklenirken hata:",ne),ye.error("Ödemeler yüklenirken bir hata oluştu")}},O=async B=>{try{const{data:ne,error:X}=await me.from("students").select("id, full_name, grade").eq("teacher_id",B).order("full_name");if(X)throw X;n(ne||[])}catch(ne){console.error("Öğrenciler yüklenirken hata:",ne),ye.error("Öğrenciler yüklenirken bir hata oluştu")}},L=async B=>{B.preventDefault();try{const{data:ne,error:X}=await me.from("payments").insert([{student_id:k.student_id,amount:parseFloat(k.amount),payment_date:new Date(k.payment_date).toISOString(),payment_method:k.payment_method,description:k.description,status:k.status}]).select(`
          *,
          student:students(id, full_name, grade)
        `).single();if(X)throw X;e([ne,...t]),o(!1),T({student_id:"",amount:"",payment_date:new Date().toISOString().split("T")[0],payment_method:"cash",description:"",status:"completed"}),ye.success("Ödeme başarıyla eklendi")}catch(ne){console.error("Ödeme ekleme hatası:",ne),ye.error("Ödeme eklenirken bir hata oluştu")}},N=async B=>{if(B.preventDefault(),!!l)try{const{data:ne,error:X}=await me.from("payments").update({student_id:k.student_id,amount:parseFloat(k.amount),payment_date:new Date(k.payment_date).toISOString(),payment_method:k.payment_method,description:k.description,status:k.status}).eq("id",l.id).select(`
          *,
          student:students(id, full_name, grade)
        `).single();if(X)throw X;e(t.map(re=>re.id===l.id?ne:re)),o(!1),c(null),T({student_id:"",amount:"",payment_date:new Date().toISOString().split("T")[0],payment_method:"cash",description:"",status:"completed"}),ye.success("Ödeme başarıyla güncellendi")}catch(ne){console.error("Ödeme güncelleme hatası:",ne),ye.error("Ödeme güncellenirken bir hata oluştu")}},H=async B=>{if(window.confirm("Bu ödemeyi silmek istediğinizden emin misiniz?"))try{const{error:ne}=await me.from("payments").delete().eq("id",B);if(ne)throw ne;e(t.filter(X=>X.id!==B)),ye.success("Ödeme başarıyla silindi")}catch(ne){console.error("Ödeme silme hatası:",ne),ye.error("Ödeme silinirken bir hata oluştu")}},ee=B=>{c(B),T({student_id:B.student_id,amount:B.amount.toString(),payment_date:new Date(B.payment_date).toISOString().split("T")[0],payment_method:B.payment_method,description:B.description||"",status:B.status}),o(!0)},R=t.filter(B=>{var re;const ne=B.student.full_name.toLowerCase().includes(u.toLowerCase())||((re=B.description)==null?void 0:re.toLowerCase().includes(u.toLowerCase())),X=!f||B.status===f;return ne&&X}),W=R.reduce((B,ne)=>ne.status==="completed"?B+ne.amount:B,0),P=B=>{switch(B){case"completed":return d.jsx(D1,{className:"h-5 w-5 text-green-500"});case"pending":return d.jsx(Cr,{className:"h-5 w-5 text-yellow-500"});case"cancelled":return d.jsx(aP,{className:"h-5 w-5 text-red-500"});default:return null}};return i?d.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-500"})}):d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[d.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-lg",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Toplam Tahsilat"}),d.jsxs("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:["₺",W.toLocaleString("tr-TR")]})]}),d.jsx("div",{className:"bg-green-100 dark:bg-green-900 p-3 rounded-lg",children:d.jsx(Hi,{className:"h-6 w-6 text-green-600 dark:text-green-400"})})]})}),d.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-lg",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Bekleyen Ödemeler"}),d.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:t.filter(B=>B.status==="pending").length})]}),d.jsx("div",{className:"bg-yellow-100 dark:bg-yellow-900 p-3 rounded-lg",children:d.jsx(Cr,{className:"h-6 w-6 text-yellow-600 dark:text-yellow-400"})})]})}),d.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-lg",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Toplam İşlem"}),d.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:t.length})]}),d.jsx("div",{className:"bg-blue-100 dark:bg-blue-900 p-3 rounded-lg",children:d.jsx(ru,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})})]})})]}),d.jsx("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-lg",children:d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center",children:[d.jsxs("div",{className:"relative flex-1",children:[d.jsx("input",{type:"text",placeholder:"Öğrenci ara...",value:u,onChange:B=>h(B.target.value),className:"w-full pl-10 pr-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"}),d.jsx(Dm,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]}),d.jsxs("select",{value:f,onChange:B=>p(B.target.value),className:"px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:[d.jsx("option",{value:"",children:"Tüm Durumlar"}),Hd.map(B=>d.jsx("option",{value:B.id,children:B.name},B.id))]}),d.jsxs("button",{onClick:()=>{c(null),T({student_id:"",amount:"",payment_date:new Date().toISOString().split("T")[0],payment_method:"cash",description:"",status:"completed"}),o(!0)},className:"flex items-center px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-all duration-200",children:[d.jsx(xn,{className:"h-5 w-5 mr-2"}),"Ödeme Ekle"]})]})}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:R.map(B=>{var ne,X;return d.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden",children:d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex justify-between items-start mb-4",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:B.student.full_name}),d.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:B.student.grade})]}),d.jsxs("div",{className:"flex space-x-2",children:[d.jsx("button",{onClick:()=>ee(B),className:"p-2 text-indigo-600 hover:bg-indigo-50 rounded-lg dark:text-indigo-400 dark:hover:bg-indigo-900/50",children:d.jsx(M1,{className:"h-4 w-4"})}),d.jsx("button",{onClick:()=>H(B.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg dark:text-red-400 dark:hover:bg-red-900/50",children:d.jsx(es,{className:"h-4 w-4"})})]})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-300",children:[d.jsx(Hi,{className:"h-4 w-4 mr-2"}),"₺",B.amount.toLocaleString("tr-TR")]}),d.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium
                    ${B.status==="completed"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":B.status==="pending"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"}`,children:[P(B.status),d.jsx("span",{className:"ml-1",children:(ne=Hd.find(re=>re.id===B.status))==null?void 0:ne.name})]})]}),d.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-300",children:[d.jsx(Zi,{className:"h-4 w-4 mr-2"}),new Date(B.payment_date).toLocaleDateString("tr-TR")]}),d.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-300",children:[d.jsx(z1,{className:"h-4 w-4 mr-2"}),(X=ey.find(re=>re.id===B.payment_method))==null?void 0:X.name]}),B.description&&d.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-2",children:B.description})]})]})},B.id)})}),R.length===0&&d.jsxs("div",{className:"text-center py-12",children:[d.jsx(ru,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),d.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Ödeme Bulunamadı"}),d.jsx("p",{className:"mt-2 text-gray-500 dark:text-gray-400",children:"Arama kriterlerinize uygun ödeme bulunmamaktadır."})]}),a&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4",children:d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-md w-full p-6",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:l?"Ödeme Düzenle":"Yeni Ödeme Ekle"}),d.jsx("button",{onClick:()=>{o(!1),c(null)},className:"text-gray-400 hover:text-gray-500 dark:hover:text-gray-300",children:d.jsx(ii,{className:"h-6 w-6"})})]}),d.jsxs("form",{onSubmit:l?N:L,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Öğrenci"}),d.jsxs("select",{required:!0,value:k.student_id,onChange:B=>T({...k,student_id:B.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",children:[d.jsx("option",{value:"",children:"Öğrenci Seçin"}),r.map(B=>d.jsxs("option",{value:B.id,children:[B.full_name," - ",B.grade]},B.id))]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Tutar (₺)"}),d.jsx("input",{type:"number",required:!0,min:"0",step:"0.01",value:k.amount,onChange:B=>T({...k,amount:B.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Ödeme Tarihi"}),d.jsx("input",{type:"date",required:!0,value:k.payment_date,onChange:B=>T({...k,payment_date:B.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Ödeme Yöntemi"}),d.jsx("select",{required:!0,value:k.payment_method,onChange:B=>T({...k,payment_method:B.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",children:ey.map(B=>d.jsx("option",{value:B.id,children:B.name},B.id))})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Durum"}),d.jsx("select",{required:!0,value:k.status,onChange:B=>T({...k,status:B.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",children:Hd.map(B=>d.jsx("option",{value:B.id,children:B.name},B.id))})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Açıklama"}),d.jsx("textarea",{value:k.description,onChange:B=>T({...k,description:B.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",rows:3})]}),d.jsxs("div",{className:"flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:()=>{o(!1),c(null)},className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-600 dark:hover:bg-gray-600",children:"İptal"}),d.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:l?"Güncelle":"Ekle"})]})]})]})})]})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function rl(t){return t+.5|0}const $n=(t,e,r)=>Math.max(Math.min(t,r),e);function Ya(t){return $n(rl(t*2.55),0,255)}function ei(t){return $n(rl(t*255),0,255)}function an(t){return $n(rl(t/2.55)/100,0,1)}function ty(t){return $n(rl(t*100),0,100)}const lr={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},np=[..."0123456789ABCDEF"],fP=t=>np[t&15],pP=t=>np[(t&240)>>4]+np[t&15],Rl=t=>(t&240)>>4===(t&15),mP=t=>Rl(t.r)&&Rl(t.g)&&Rl(t.b)&&Rl(t.a);function gP(t){var e=t.length,r;return t[0]==="#"&&(e===4||e===5?r={r:255&lr[t[1]]*17,g:255&lr[t[2]]*17,b:255&lr[t[3]]*17,a:e===5?lr[t[4]]*17:255}:(e===7||e===9)&&(r={r:lr[t[1]]<<4|lr[t[2]],g:lr[t[3]]<<4|lr[t[4]],b:lr[t[5]]<<4|lr[t[6]],a:e===9?lr[t[7]]<<4|lr[t[8]]:255})),r}const yP=(t,e)=>t<255?e(t):"";function wP(t){var e=mP(t)?fP:pP;return t?"#"+e(t.r)+e(t.g)+e(t.b)+yP(t.a,e):void 0}const vP=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function U1(t,e,r){const n=e*Math.min(r,1-r),i=(s,a=(s+t/30)%12)=>r-n*Math.max(Math.min(a-3,9-a,1),-1);return[i(0),i(8),i(4)]}function xP(t,e,r){const n=(i,s=(i+t/60)%6)=>r-r*e*Math.max(Math.min(s,4-s,1),0);return[n(5),n(3),n(1)]}function bP(t,e,r){const n=U1(t,1,.5);let i;for(e+r>1&&(i=1/(e+r),e*=i,r*=i),i=0;i<3;i++)n[i]*=1-e-r,n[i]+=e;return n}function _P(t,e,r,n,i){return t===i?(e-r)/n+(e<r?6:0):e===i?(r-t)/n+2:(t-e)/n+4}function Mm(t){const r=t.r/255,n=t.g/255,i=t.b/255,s=Math.max(r,n,i),a=Math.min(r,n,i),o=(s+a)/2;let l,c,u;return s!==a&&(u=s-a,c=o>.5?u/(2-s-a):u/(s+a),l=_P(r,n,i,u,s),l=l*60+.5),[l|0,c||0,o]}function Lm(t,e,r,n){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,r,n)).map(ei)}function Fm(t,e,r){return Lm(U1,t,e,r)}function kP(t,e,r){return Lm(bP,t,e,r)}function SP(t,e,r){return Lm(xP,t,e,r)}function $1(t){return(t%360+360)%360}function EP(t){const e=vP.exec(t);let r=255,n;if(!e)return;e[5]!==n&&(r=e[6]?Ya(+e[5]):ei(+e[5]));const i=$1(+e[2]),s=+e[3]/100,a=+e[4]/100;return e[1]==="hwb"?n=kP(i,s,a):e[1]==="hsv"?n=SP(i,s,a):n=Fm(i,s,a),{r:n[0],g:n[1],b:n[2],a:r}}function TP(t,e){var r=Mm(t);r[0]=$1(r[0]+e),r=Fm(r),t.r=r[0],t.g=r[1],t.b=r[2]}function NP(t){if(!t)return;const e=Mm(t),r=e[0],n=ty(e[1]),i=ty(e[2]);return t.a<255?`hsla(${r}, ${n}%, ${i}%, ${an(t.a)})`:`hsl(${r}, ${n}%, ${i}%)`}const ry={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},ny={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function AP(){const t={},e=Object.keys(ny),r=Object.keys(ry);let n,i,s,a,o;for(n=0;n<e.length;n++){for(a=o=e[n],i=0;i<r.length;i++)s=r[i],o=o.replace(s,ry[s]);s=parseInt(ny[a],16),t[o]=[s>>16&255,s>>8&255,s&255]}return t}let Dl;function jP(t){Dl||(Dl=AP(),Dl.transparent=[0,0,0,0]);const e=Dl[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const CP=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function PP(t){const e=CP.exec(t);let r=255,n,i,s;if(e){if(e[7]!==n){const a=+e[7];r=e[8]?Ya(a):$n(a*255,0,255)}return n=+e[1],i=+e[3],s=+e[5],n=255&(e[2]?Ya(n):$n(n,0,255)),i=255&(e[4]?Ya(i):$n(i,0,255)),s=255&(e[6]?Ya(s):$n(s,0,255)),{r:n,g:i,b:s,a:r}}}function OP(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${an(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const Vd=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,cs=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function RP(t,e,r){const n=cs(an(t.r)),i=cs(an(t.g)),s=cs(an(t.b));return{r:ei(Vd(n+r*(cs(an(e.r))-n))),g:ei(Vd(i+r*(cs(an(e.g))-i))),b:ei(Vd(s+r*(cs(an(e.b))-s))),a:t.a+r*(e.a-t.a)}}function Il(t,e,r){if(t){let n=Mm(t);n[e]=Math.max(0,Math.min(n[e]+n[e]*r,e===0?360:1)),n=Fm(n),t.r=n[0],t.g=n[1],t.b=n[2]}}function W1(t,e){return t&&Object.assign(e||{},t)}function iy(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=ei(t[3]))):(e=W1(t,{r:0,g:0,b:0,a:1}),e.a=ei(e.a)),e}function DP(t){return t.charAt(0)==="r"?PP(t):EP(t)}let H1=class ip{constructor(e){if(e instanceof ip)return e;const r=typeof e;let n;r==="object"?n=iy(e):r==="string"&&(n=gP(e)||jP(e)||DP(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=W1(this._rgb);return e&&(e.a=an(e.a)),e}set rgb(e){this._rgb=iy(e)}rgbString(){return this._valid?OP(this._rgb):void 0}hexString(){return this._valid?wP(this._rgb):void 0}hslString(){return this._valid?NP(this._rgb):void 0}mix(e,r){if(e){const n=this.rgb,i=e.rgb;let s;const a=r===s?.5:r,o=2*a-1,l=n.a-i.a,c=((o*l===-1?o:(o+l)/(1+o*l))+1)/2;s=1-c,n.r=255&c*n.r+s*i.r+.5,n.g=255&c*n.g+s*i.g+.5,n.b=255&c*n.b+s*i.b+.5,n.a=a*n.a+(1-a)*i.a,this.rgb=n}return this}interpolate(e,r){return e&&(this._rgb=RP(this._rgb,e._rgb,r)),this}clone(){return new ip(this.rgb)}alpha(e){return this._rgb.a=ei(e),this}clearer(e){const r=this._rgb;return r.a*=1-e,this}greyscale(){const e=this._rgb,r=rl(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=r,this}opaquer(e){const r=this._rgb;return r.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Il(this._rgb,2,e),this}darken(e){return Il(this._rgb,2,-e),this}saturate(e){return Il(this._rgb,1,e),this}desaturate(e){return Il(this._rgb,1,-e),this}rotate(e){return TP(this._rgb,e),this}};/*!
 * Chart.js v4.4.7
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */function Jr(){}const IP=(()=>{let t=0;return()=>t++})();function nt(t){return t==null}function ft(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Pe(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function It(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Ir(t,e){return It(t)?t:e}function je(t,e){return typeof t>"u"?e:t}const MP=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,V1=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Ke(t,e,r){if(t&&typeof t.call=="function")return t.apply(r,e)}function Le(t,e,r,n){let i,s,a;if(ft(t))for(s=t.length,i=0;i<s;i++)e.call(r,t[i],i);else if(Pe(t))for(a=Object.keys(t),s=a.length,i=0;i<s;i++)e.call(r,t[a[i]],a[i])}function iu(t,e){let r,n,i,s;if(!t||!e||t.length!==e.length)return!1;for(r=0,n=t.length;r<n;++r)if(i=t[r],s=e[r],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function su(t){if(ft(t))return t.map(su);if(Pe(t)){const e=Object.create(null),r=Object.keys(t),n=r.length;let i=0;for(;i<n;++i)e[r[i]]=su(t[r[i]]);return e}return t}function K1(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function LP(t,e,r,n){if(!K1(t))return;const i=e[t],s=r[t];Pe(i)&&Pe(s)?Fo(i,s,n):e[t]=su(s)}function Fo(t,e,r){const n=ft(e)?e:[e],i=n.length;if(!Pe(t))return t;r=r||{};const s=r.merger||LP;let a;for(let o=0;o<i;++o){if(a=n[o],!Pe(a))continue;const l=Object.keys(a);for(let c=0,u=l.length;c<u;++c)s(l[c],t,a,r)}return t}function fo(t,e){return Fo(t,e,{merger:FP})}function FP(t,e,r){if(!K1(t))return;const n=e[t],i=r[t];Pe(n)&&Pe(i)?fo(n,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=su(i))}const sy={"":t=>t,x:t=>t.x,y:t=>t.y};function BP(t){const e=t.split("."),r=[];let n="";for(const i of e)n+=i,n.endsWith("\\")?n=n.slice(0,-1)+".":(r.push(n),n="");return r}function zP(t){const e=BP(t);return r=>{for(const n of e){if(n==="")break;r=r&&r[n]}return r}}function Bo(t,e){return(sy[e]||(sy[e]=zP(e)))(t)}function Bm(t){return t.charAt(0).toUpperCase()+t.slice(1)}const au=t=>typeof t<"u",si=t=>typeof t=="function",ay=(t,e)=>{if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0};function UP(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const it=Math.PI,Qe=2*it,$P=Qe+it,ou=Number.POSITIVE_INFINITY,WP=it/180,mt=it/2,pi=it/4,oy=it*2/3,sp=Math.log10,ra=Math.sign;function po(t,e,r){return Math.abs(t-e)<r}function ly(t){const e=Math.round(t);t=po(t,e,t/1e3)?e:t;const r=Math.pow(10,Math.floor(sp(t))),n=t/r;return(n<=1?1:n<=2?2:n<=5?5:10)*r}function HP(t){const e=[],r=Math.sqrt(t);let n;for(n=1;n<r;n++)t%n===0&&(e.push(n),e.push(t/n));return r===(r|0)&&e.push(r),e.sort((i,s)=>i-s).pop(),e}function zo(t){return!isNaN(parseFloat(t))&&isFinite(t)}function VP(t,e){const r=Math.round(t);return r-e<=t&&r+e>=t}function KP(t,e,r){let n,i,s;for(n=0,i=t.length;n<i;n++)s=t[n][r],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function cn(t){return t*(it/180)}function qP(t){return t*(180/it)}function cy(t){if(!It(t))return;let e=1,r=0;for(;Math.round(t*e)/e!==t;)e*=10,r++;return r}function q1(t,e){const r=e.x-t.x,n=e.y-t.y,i=Math.sqrt(r*r+n*n);let s=Math.atan2(n,r);return s<-.5*it&&(s+=Qe),{angle:s,distance:i}}function ap(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function GP(t,e){return(t-e+$P)%Qe-it}function zr(t){return(t%Qe+Qe)%Qe}function Uo(t,e,r,n){const i=zr(t),s=zr(e),a=zr(r),o=zr(s-i),l=zr(a-i),c=zr(i-s),u=zr(i-a);return i===s||i===a||n&&s===a||o>l&&c<u}function Ct(t,e,r){return Math.max(e,Math.min(r,t))}function YP(t){return Ct(t,-32768,32767)}function un(t,e,r,n=1e-6){return t>=Math.min(e,r)-n&&t<=Math.max(e,r)+n}function zm(t,e,r){r=r||(a=>t[a]<e);let n=t.length-1,i=0,s;for(;n-i>1;)s=i+n>>1,r(s)?i=s:n=s;return{lo:i,hi:n}}const Ci=(t,e,r,n)=>zm(t,r,n?i=>{const s=t[i][e];return s<r||s===r&&t[i+1][e]===r}:i=>t[i][e]<r),XP=(t,e,r)=>zm(t,r,n=>t[n][e]>=r);function QP(t,e,r){let n=0,i=t.length;for(;n<i&&t[n]<e;)n++;for(;i>n&&t[i-1]>r;)i--;return n>0||i<t.length?t.slice(n,i):t}const G1=["push","pop","shift","splice","unshift"];function JP(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),G1.forEach(r=>{const n="_onData"+Bm(r),i=t[r];Object.defineProperty(t,r,{configurable:!0,enumerable:!1,value(...s){const a=i.apply(this,s);return t._chartjs.listeners.forEach(o=>{typeof o[n]=="function"&&o[n](...s)}),a}})})}function uy(t,e){const r=t._chartjs;if(!r)return;const n=r.listeners,i=n.indexOf(e);i!==-1&&n.splice(i,1),!(n.length>0)&&(G1.forEach(s=>{delete t[s]}),delete t._chartjs)}function ZP(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const Y1=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function X1(t,e){let r=[],n=!1;return function(...i){r=i,n||(n=!0,Y1.call(window,()=>{n=!1,t.apply(e,r)}))}}function e5(t,e){let r;return function(...n){return e?(clearTimeout(r),r=setTimeout(t,e,n)):t.apply(this,n),e}}const Um=t=>t==="start"?"left":t==="end"?"right":"center",At=(t,e,r)=>t==="start"?e:t==="end"?r:(e+r)/2,t5=(t,e,r,n)=>t===(n?"left":"right")?r:t==="center"?(e+r)/2:e;function r5(t,e,r){const n=e.length;let i=0,s=n;if(t._sorted){const{iScale:a,_parsed:o}=t,l=a.axis,{min:c,max:u,minDefined:h,maxDefined:f}=a.getUserBounds();h&&(i=Ct(Math.min(Ci(o,l,c).lo,r?n:Ci(e,l,a.getPixelForValue(c)).lo),0,n-1)),f?s=Ct(Math.max(Ci(o,a.axis,u,!0).hi+1,r?0:Ci(e,l,a.getPixelForValue(u),!0).hi+1),i,n)-i:s=n-i}return{start:i,count:s}}function n5(t){const{xScale:e,yScale:r,_scaleRanges:n}=t,i={xmin:e.min,xmax:e.max,ymin:r.min,ymax:r.max};if(!n)return t._scaleRanges=i,!0;const s=n.xmin!==e.min||n.xmax!==e.max||n.ymin!==r.min||n.ymax!==r.max;return Object.assign(n,i),s}const Ml=t=>t===0||t===1,dy=(t,e,r)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Qe/r)),hy=(t,e,r)=>Math.pow(2,-10*t)*Math.sin((t-e)*Qe/r)+1,mo={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*mt)+1,easeOutSine:t=>Math.sin(t*mt),easeInOutSine:t=>-.5*(Math.cos(it*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Ml(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Ml(t)?t:dy(t,.075,.3),easeOutElastic:t=>Ml(t)?t:hy(t,.075,.3),easeInOutElastic(t){return Ml(t)?t:t<.5?.5*dy(t*2,.1125,.45):.5+.5*hy(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-mo.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?mo.easeInBounce(t*2)*.5:mo.easeOutBounce(t*2-1)*.5+.5};function $m(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function fy(t){return $m(t)?t:new H1(t)}function Kd(t){return $m(t)?t:new H1(t).saturate(.5).darken(.1).hexString()}const i5=["x","y","borderWidth","radius","tension"],s5=["color","borderColor","backgroundColor"];function a5(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:s5},numbers:{type:"number",properties:i5}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function o5(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const py=new Map;function l5(t,e){e=e||{};const r=t+JSON.stringify(e);let n=py.get(r);return n||(n=new Intl.NumberFormat(t,e),py.set(r,n)),n}function Wm(t,e,r){return l5(e,r).format(t)}const Q1={values(t){return ft(t)?t:""+t},numeric(t,e,r){if(t===0)return"0";const n=this.chart.options.locale;let i,s=t;if(r.length>1){const c=Math.max(Math.abs(r[0].value),Math.abs(r[r.length-1].value));(c<1e-4||c>1e15)&&(i="scientific"),s=c5(t,r)}const a=sp(Math.abs(s)),o=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),l={notation:i,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(l,this.options.ticks.format),Wm(t,n,l)},logarithmic(t,e,r){if(t===0)return"0";const n=r[e].significand||t/Math.pow(10,Math.floor(sp(t)));return[1,2,3,5,10,15].includes(n)||e>.8*r.length?Q1.numeric.call(this,t,e,r):""}};function c5(t,e){let r=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(r)>=1&&t!==Math.floor(t)&&(r=t-Math.floor(t)),r}var J1={formatters:Q1};function u5(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,r)=>r.lineWidth,tickColor:(e,r)=>r.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:J1.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Vi=Object.create(null),op=Object.create(null);function go(t,e){if(!e)return t;const r=e.split(".");for(let n=0,i=r.length;n<i;++n){const s=r[n];t=t[s]||(t[s]=Object.create(null))}return t}function qd(t,e,r){return typeof e=="string"?Fo(go(t,e),r):Fo(go(t,""),e)}class d5{constructor(e,r){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,i)=>Kd(i.backgroundColor),this.hoverBorderColor=(n,i)=>Kd(i.borderColor),this.hoverColor=(n,i)=>Kd(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(r)}set(e,r){return qd(this,e,r)}get(e){return go(this,e)}describe(e,r){return qd(op,e,r)}override(e,r){return qd(Vi,e,r)}route(e,r,n,i){const s=go(this,e),a=go(this,n),o="_"+r;Object.defineProperties(s,{[o]:{value:s[r],writable:!0},[r]:{enumerable:!0,get(){const l=this[o],c=a[i];return Pe(l)?Object.assign({},c,l):je(l,c)},set(l){this[o]=l}}})}apply(e){e.forEach(r=>r(this))}}var ct=new d5({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[a5,o5,u5]);function h5(t){return!t||nt(t.size)||nt(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function my(t,e,r,n,i){let s=e[i];return s||(s=e[i]=t.measureText(i).width,r.push(i)),s>n&&(n=s),n}function mi(t,e,r){const n=t.currentDevicePixelRatio,i=r!==0?Math.max(r/2,.5):0;return Math.round((e-i)*n)/n+i}function gy(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function lp(t,e,r,n){Z1(t,e,r,n,null)}function Z1(t,e,r,n,i){let s,a,o,l,c,u,h,f;const p=e.pointStyle,w=e.rotation,g=e.radius;let b=(w||0)*WP;if(p&&typeof p=="object"&&(s=p.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){t.save(),t.translate(r,n),t.rotate(b),t.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),t.restore();return}if(!(isNaN(g)||g<=0)){switch(t.beginPath(),p){default:i?t.ellipse(r,n,i/2,g,0,0,Qe):t.arc(r,n,g,0,Qe),t.closePath();break;case"triangle":u=i?i/2:g,t.moveTo(r+Math.sin(b)*u,n-Math.cos(b)*g),b+=oy,t.lineTo(r+Math.sin(b)*u,n-Math.cos(b)*g),b+=oy,t.lineTo(r+Math.sin(b)*u,n-Math.cos(b)*g),t.closePath();break;case"rectRounded":c=g*.516,l=g-c,a=Math.cos(b+pi)*l,h=Math.cos(b+pi)*(i?i/2-c:l),o=Math.sin(b+pi)*l,f=Math.sin(b+pi)*(i?i/2-c:l),t.arc(r-h,n-o,c,b-it,b-mt),t.arc(r+f,n-a,c,b-mt,b),t.arc(r+h,n+o,c,b,b+mt),t.arc(r-f,n+a,c,b+mt,b+it),t.closePath();break;case"rect":if(!w){l=Math.SQRT1_2*g,u=i?i/2:l,t.rect(r-u,n-l,2*u,2*l);break}b+=pi;case"rectRot":h=Math.cos(b)*(i?i/2:g),a=Math.cos(b)*g,o=Math.sin(b)*g,f=Math.sin(b)*(i?i/2:g),t.moveTo(r-h,n-o),t.lineTo(r+f,n-a),t.lineTo(r+h,n+o),t.lineTo(r-f,n+a),t.closePath();break;case"crossRot":b+=pi;case"cross":h=Math.cos(b)*(i?i/2:g),a=Math.cos(b)*g,o=Math.sin(b)*g,f=Math.sin(b)*(i?i/2:g),t.moveTo(r-h,n-o),t.lineTo(r+h,n+o),t.moveTo(r+f,n-a),t.lineTo(r-f,n+a);break;case"star":h=Math.cos(b)*(i?i/2:g),a=Math.cos(b)*g,o=Math.sin(b)*g,f=Math.sin(b)*(i?i/2:g),t.moveTo(r-h,n-o),t.lineTo(r+h,n+o),t.moveTo(r+f,n-a),t.lineTo(r-f,n+a),b+=pi,h=Math.cos(b)*(i?i/2:g),a=Math.cos(b)*g,o=Math.sin(b)*g,f=Math.sin(b)*(i?i/2:g),t.moveTo(r-h,n-o),t.lineTo(r+h,n+o),t.moveTo(r+f,n-a),t.lineTo(r-f,n+a);break;case"line":a=i?i/2:Math.cos(b)*g,o=Math.sin(b)*g,t.moveTo(r-a,n-o),t.lineTo(r+a,n+o);break;case"dash":t.moveTo(r,n),t.lineTo(r+Math.cos(b)*(i?i/2:g),n+Math.sin(b)*g);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function $o(t,e,r){return r=r||.5,!e||t&&t.x>e.left-r&&t.x<e.right+r&&t.y>e.top-r&&t.y<e.bottom+r}function qu(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function Gu(t){t.restore()}function f5(t,e,r,n,i){if(!e)return t.lineTo(r.x,r.y);if(i==="middle"){const s=(e.x+r.x)/2;t.lineTo(s,e.y),t.lineTo(s,r.y)}else i==="after"!=!!n?t.lineTo(e.x,r.y):t.lineTo(r.x,e.y);t.lineTo(r.x,r.y)}function p5(t,e,r,n){if(!e)return t.lineTo(r.x,r.y);t.bezierCurveTo(n?e.cp1x:e.cp2x,n?e.cp1y:e.cp2y,n?r.cp2x:r.cp1x,n?r.cp2y:r.cp1y,r.x,r.y)}function m5(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),nt(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function g5(t,e,r,n,i){if(i.strikethrough||i.underline){const s=t.measureText(n),a=e-s.actualBoundingBoxLeft,o=e+s.actualBoundingBoxRight,l=r-s.actualBoundingBoxAscent,c=r+s.actualBoundingBoxDescent,u=i.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(a,u),t.lineTo(o,u),t.stroke()}}function y5(t,e){const r=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=r}function Wo(t,e,r,n,i,s={}){const a=ft(e)?e:[e],o=s.strokeWidth>0&&s.strokeColor!=="";let l,c;for(t.save(),t.font=i.string,m5(t,s),l=0;l<a.length;++l)c=a[l],s.backdrop&&y5(t,s.backdrop),o&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),nt(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(c,r,n,s.maxWidth)),t.fillText(c,r,n,s.maxWidth),g5(t,r,n,c,s),n+=Number(i.lineHeight);t.restore()}function lu(t,e){const{x:r,y:n,w:i,h:s,radius:a}=e;t.arc(r+a.topLeft,n+a.topLeft,a.topLeft,1.5*it,it,!0),t.lineTo(r,n+s-a.bottomLeft),t.arc(r+a.bottomLeft,n+s-a.bottomLeft,a.bottomLeft,it,mt,!0),t.lineTo(r+i-a.bottomRight,n+s),t.arc(r+i-a.bottomRight,n+s-a.bottomRight,a.bottomRight,mt,0,!0),t.lineTo(r+i,n+a.topRight),t.arc(r+i-a.topRight,n+a.topRight,a.topRight,0,-mt,!0),t.lineTo(r+a.topLeft,n)}const w5=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,v5=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function x5(t,e){const r=(""+t).match(w5);if(!r||r[1]==="normal")return e*1.2;switch(t=+r[2],r[3]){case"px":return t;case"%":t/=100;break}return e*t}const b5=t=>+t||0;function Hm(t,e){const r={},n=Pe(e),i=n?Object.keys(e):e,s=Pe(t)?n?a=>je(t[a],t[e[a]]):a=>t[a]:()=>t;for(const a of i)r[a]=b5(s(a));return r}function e_(t){return Hm(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Ls(t){return Hm(t,["topLeft","topRight","bottomLeft","bottomRight"])}function vr(t){const e=e_(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Pt(t,e){t=t||{},e=e||ct.font;let r=je(t.size,e.size);typeof r=="string"&&(r=parseInt(r,10));let n=je(t.style,e.style);n&&!(""+n).match(v5)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const i={family:je(t.family,e.family),lineHeight:x5(je(t.lineHeight,e.lineHeight),r),size:r,style:n,weight:je(t.weight,e.weight),string:""};return i.string=h5(i),i}function Ll(t,e,r,n){let i,s,a;for(i=0,s=t.length;i<s;++i)if(a=t[i],a!==void 0&&a!==void 0)return a}function _5(t,e,r){const{min:n,max:i}=t,s=V1(e,(i-n)/2),a=(o,l)=>r&&o===0?0:o+l;return{min:a(n,-Math.abs(s)),max:a(i,s)}}function ts(t,e){return Object.assign(Object.create(t),e)}function Vm(t,e=[""],r,n,i=()=>t[0]){const s=r||t;typeof n>"u"&&(n=i_("_fallback",t));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:s,_fallback:n,_getTarget:i,override:o=>Vm([o,...t],e,s,n)};return new Proxy(a,{deleteProperty(o,l){return delete o[l],delete o._keys,delete t[0][l],!0},get(o,l){return r_(o,l,()=>C5(l,e,t,o))},getOwnPropertyDescriptor(o,l){return Reflect.getOwnPropertyDescriptor(o._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(o,l){return wy(o).includes(l)},ownKeys(o){return wy(o)},set(o,l,c){const u=o._storage||(o._storage=i());return o[l]=u[l]=c,delete o._keys,!0}})}function na(t,e,r,n){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:r,_stack:new Set,_descriptors:t_(t,n),setContext:s=>na(t,s,r,n),override:s=>na(t.override(s),e,r,n)};return new Proxy(i,{deleteProperty(s,a){return delete s[a],delete t[a],!0},get(s,a,o){return r_(s,a,()=>S5(s,a,o))},getOwnPropertyDescriptor(s,a){return s._descriptors.allKeys?Reflect.has(t,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,a)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(s,a){return Reflect.has(t,a)},ownKeys(){return Reflect.ownKeys(t)},set(s,a,o){return t[a]=o,delete s[a],!0}})}function t_(t,e={scriptable:!0,indexable:!0}){const{_scriptable:r=e.scriptable,_indexable:n=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:r,indexable:n,isScriptable:si(r)?r:()=>r,isIndexable:si(n)?n:()=>n}}const k5=(t,e)=>t?t+Bm(e):e,Km=(t,e)=>Pe(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function r_(t,e,r){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const n=r();return t[e]=n,n}function S5(t,e,r){const{_proxy:n,_context:i,_subProxy:s,_descriptors:a}=t;let o=n[e];return si(o)&&a.isScriptable(e)&&(o=E5(e,o,t,r)),ft(o)&&o.length&&(o=T5(e,o,t,a.isIndexable)),Km(e,o)&&(o=na(o,i,s&&s[e],a)),o}function E5(t,e,r,n){const{_proxy:i,_context:s,_subProxy:a,_stack:o}=r;if(o.has(t))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+t);o.add(t);let l=e(s,a||n);return o.delete(t),Km(t,l)&&(l=qm(i._scopes,i,t,l)),l}function T5(t,e,r,n){const{_proxy:i,_context:s,_subProxy:a,_descriptors:o}=r;if(typeof s.index<"u"&&n(t))return e[s.index%e.length];if(Pe(e[0])){const l=e,c=i._scopes.filter(u=>u!==l);e=[];for(const u of l){const h=qm(c,i,t,u);e.push(na(h,s,a&&a[t],o))}}return e}function n_(t,e,r){return si(t)?t(e,r):t}const N5=(t,e)=>t===!0?e:typeof t=="string"?Bo(e,t):void 0;function A5(t,e,r,n,i){for(const s of e){const a=N5(r,s);if(a){t.add(a);const o=n_(a._fallback,r,i);if(typeof o<"u"&&o!==r&&o!==n)return o}else if(a===!1&&typeof n<"u"&&r!==n)return null}return!1}function qm(t,e,r,n){const i=e._rootScopes,s=n_(e._fallback,r,n),a=[...t,...i],o=new Set;o.add(n);let l=yy(o,a,r,s||r,n);return l===null||typeof s<"u"&&s!==r&&(l=yy(o,a,s,l,n),l===null)?!1:Vm(Array.from(o),[""],i,s,()=>j5(e,r,n))}function yy(t,e,r,n,i){for(;r;)r=A5(t,e,r,n,i);return r}function j5(t,e,r){const n=t._getTarget();e in n||(n[e]={});const i=n[e];return ft(i)&&Pe(r)?r:i||{}}function C5(t,e,r,n){let i;for(const s of e)if(i=i_(k5(s,t),r),typeof i<"u")return Km(t,i)?qm(r,n,t,i):i}function i_(t,e){for(const r of e){if(!r)continue;const n=r[t];if(typeof n<"u")return n}}function wy(t){let e=t._keys;return e||(e=t._keys=P5(t._scopes)),e}function P5(t){const e=new Set;for(const r of t)for(const n of Object.keys(r).filter(i=>!i.startsWith("_")))e.add(n);return Array.from(e)}const O5=Number.EPSILON||1e-14,ia=(t,e)=>e<t.length&&!t[e].skip&&t[e],s_=t=>t==="x"?"y":"x";function R5(t,e,r,n){const i=t.skip?e:t,s=e,a=r.skip?e:r,o=ap(s,i),l=ap(a,s);let c=o/(o+l),u=l/(o+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const h=n*c,f=n*u;return{previous:{x:s.x-h*(a.x-i.x),y:s.y-h*(a.y-i.y)},next:{x:s.x+f*(a.x-i.x),y:s.y+f*(a.y-i.y)}}}function D5(t,e,r){const n=t.length;let i,s,a,o,l,c=ia(t,0);for(let u=0;u<n-1;++u)if(l=c,c=ia(t,u+1),!(!l||!c)){if(po(e[u],0,O5)){r[u]=r[u+1]=0;continue}i=r[u]/e[u],s=r[u+1]/e[u],o=Math.pow(i,2)+Math.pow(s,2),!(o<=9)&&(a=3/Math.sqrt(o),r[u]=i*a*e[u],r[u+1]=s*a*e[u])}}function I5(t,e,r="x"){const n=s_(r),i=t.length;let s,a,o,l=ia(t,0);for(let c=0;c<i;++c){if(a=o,o=l,l=ia(t,c+1),!o)continue;const u=o[r],h=o[n];a&&(s=(u-a[r])/3,o[`cp1${r}`]=u-s,o[`cp1${n}`]=h-s*e[c]),l&&(s=(l[r]-u)/3,o[`cp2${r}`]=u+s,o[`cp2${n}`]=h+s*e[c])}}function M5(t,e="x"){const r=s_(e),n=t.length,i=Array(n).fill(0),s=Array(n);let a,o,l,c=ia(t,0);for(a=0;a<n;++a)if(o=l,l=c,c=ia(t,a+1),!!l){if(c){const u=c[e]-l[e];i[a]=u!==0?(c[r]-l[r])/u:0}s[a]=o?c?ra(i[a-1])!==ra(i[a])?0:(i[a-1]+i[a])/2:i[a-1]:i[a]}D5(t,i,s),I5(t,s,e)}function Fl(t,e,r){return Math.max(Math.min(t,r),e)}function L5(t,e){let r,n,i,s,a,o=$o(t[0],e);for(r=0,n=t.length;r<n;++r)a=s,s=o,o=r<n-1&&$o(t[r+1],e),s&&(i=t[r],a&&(i.cp1x=Fl(i.cp1x,e.left,e.right),i.cp1y=Fl(i.cp1y,e.top,e.bottom)),o&&(i.cp2x=Fl(i.cp2x,e.left,e.right),i.cp2y=Fl(i.cp2y,e.top,e.bottom)))}function F5(t,e,r,n,i){let s,a,o,l;if(e.spanGaps&&(t=t.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")M5(t,i);else{let c=n?t[t.length-1]:t[0];for(s=0,a=t.length;s<a;++s)o=t[s],l=R5(c,o,t[Math.min(s+1,a-(n?0:1))%a],e.tension),o.cp1x=l.previous.x,o.cp1y=l.previous.y,o.cp2x=l.next.x,o.cp2y=l.next.y,c=o}e.capBezierPoints&&L5(t,r)}function Gm(){return typeof window<"u"&&typeof document<"u"}function Ym(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function cu(t,e,r){let n;return typeof t=="string"?(n=parseInt(t,10),t.indexOf("%")!==-1&&(n=n/100*e.parentNode[r])):n=t,n}const Yu=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function B5(t,e){return Yu(t).getPropertyValue(e)}const z5=["top","right","bottom","left"];function Mi(t,e,r){const n={};r=r?"-"+r:"";for(let i=0;i<4;i++){const s=z5[i];n[s]=parseFloat(t[e+"-"+s+r])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const U5=(t,e,r)=>(t>0||e>0)&&(!r||!r.shadowRoot);function $5(t,e){const r=t.touches,n=r&&r.length?r[0]:t,{offsetX:i,offsetY:s}=n;let a=!1,o,l;if(U5(i,s,t.target))o=i,l=s;else{const c=e.getBoundingClientRect();o=n.clientX-c.left,l=n.clientY-c.top,a=!0}return{x:o,y:l,box:a}}function ki(t,e){if("native"in t)return t;const{canvas:r,currentDevicePixelRatio:n}=e,i=Yu(r),s=i.boxSizing==="border-box",a=Mi(i,"padding"),o=Mi(i,"border","width"),{x:l,y:c,box:u}=$5(t,r),h=a.left+(u&&o.left),f=a.top+(u&&o.top);let{width:p,height:w}=e;return s&&(p-=a.width+o.width,w-=a.height+o.height),{x:Math.round((l-h)/p*r.width/n),y:Math.round((c-f)/w*r.height/n)}}function W5(t,e,r){let n,i;if(e===void 0||r===void 0){const s=t&&Ym(t);if(!s)e=t.clientWidth,r=t.clientHeight;else{const a=s.getBoundingClientRect(),o=Yu(s),l=Mi(o,"border","width"),c=Mi(o,"padding");e=a.width-c.width-l.width,r=a.height-c.height-l.height,n=cu(o.maxWidth,s,"clientWidth"),i=cu(o.maxHeight,s,"clientHeight")}}return{width:e,height:r,maxWidth:n||ou,maxHeight:i||ou}}const Bl=t=>Math.round(t*10)/10;function H5(t,e,r,n){const i=Yu(t),s=Mi(i,"margin"),a=cu(i.maxWidth,t,"clientWidth")||ou,o=cu(i.maxHeight,t,"clientHeight")||ou,l=W5(t,e,r);let{width:c,height:u}=l;if(i.boxSizing==="content-box"){const f=Mi(i,"border","width"),p=Mi(i,"padding");c-=p.width+f.width,u-=p.height+f.height}return c=Math.max(0,c-s.width),u=Math.max(0,n?c/n:u-s.height),c=Bl(Math.min(c,a,l.maxWidth)),u=Bl(Math.min(u,o,l.maxHeight)),c&&!u&&(u=Bl(c/2)),(e!==void 0||r!==void 0)&&n&&l.height&&u>l.height&&(u=l.height,c=Bl(Math.floor(u*n))),{width:c,height:u}}function vy(t,e,r){const n=e||1,i=Math.floor(t.height*n),s=Math.floor(t.width*n);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const a=t.canvas;return a.style&&(r||!a.style.height&&!a.style.width)&&(a.style.height=`${t.height}px`,a.style.width=`${t.width}px`),t.currentDevicePixelRatio!==n||a.height!==i||a.width!==s?(t.currentDevicePixelRatio=n,a.height=i,a.width=s,t.ctx.setTransform(n,0,0,n,0,0),!0):!1}const V5=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};Gm()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function xy(t,e){const r=B5(t,e),n=r&&r.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function Si(t,e,r,n){return{x:t.x+r*(e.x-t.x),y:t.y+r*(e.y-t.y)}}function K5(t,e,r,n){return{x:t.x+r*(e.x-t.x),y:n==="middle"?r<.5?t.y:e.y:n==="after"?r<1?t.y:e.y:r>0?e.y:t.y}}function q5(t,e,r,n){const i={x:t.cp2x,y:t.cp2y},s={x:e.cp1x,y:e.cp1y},a=Si(t,i,r),o=Si(i,s,r),l=Si(s,e,r),c=Si(a,o,r),u=Si(o,l,r);return Si(c,u,r)}const G5=function(t,e){return{x(r){return t+t+e-r},setWidth(r){e=r},textAlign(r){return r==="center"?r:r==="right"?"left":"right"},xPlus(r,n){return r-n},leftForLtr(r,n){return r-n}}},Y5=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Fs(t,e,r){return t?G5(e,r):Y5()}function a_(t,e){let r,n;(e==="ltr"||e==="rtl")&&(r=t.canvas.style,n=[r.getPropertyValue("direction"),r.getPropertyPriority("direction")],r.setProperty("direction",e,"important"),t.prevTextDirection=n)}function o_(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function l_(t){return t==="angle"?{between:Uo,compare:GP,normalize:zr}:{between:un,compare:(e,r)=>e-r,normalize:e=>e}}function by({start:t,end:e,count:r,loop:n,style:i}){return{start:t%r,end:e%r,loop:n&&(e-t+1)%r===0,style:i}}function X5(t,e,r){const{property:n,start:i,end:s}=r,{between:a,normalize:o}=l_(n),l=e.length;let{start:c,end:u,loop:h}=t,f,p;if(h){for(c+=l,u+=l,f=0,p=l;f<p&&a(o(e[c%l][n]),i,s);++f)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:h,style:t.style}}function c_(t,e,r){if(!r)return[t];const{property:n,start:i,end:s}=r,a=e.length,{compare:o,between:l,normalize:c}=l_(n),{start:u,end:h,loop:f,style:p}=X5(t,e,r),w=[];let g=!1,b=null,m,y,_;const k=()=>l(i,_,m)&&o(i,_)!==0,T=()=>o(s,m)===0||l(s,_,m),I=()=>g||k(),O=()=>!g||T();for(let L=u,N=u;L<=h;++L)y=e[L%a],!y.skip&&(m=c(y[n]),m!==_&&(g=l(m,i,s),b===null&&I()&&(b=o(m,i)===0?L:N),b!==null&&O()&&(w.push(by({start:b,end:L,loop:f,count:a,style:p})),b=null),N=L,_=m));return b!==null&&w.push(by({start:b,end:h,loop:f,count:a,style:p})),w}function u_(t,e){const r=[],n=t.segments;for(let i=0;i<n.length;i++){const s=c_(n[i],t.points,e);s.length&&r.push(...s)}return r}function Q5(t,e,r,n){let i=0,s=e-1;if(r&&!n)for(;i<e&&!t[i].skip;)i++;for(;i<e&&t[i].skip;)i++;for(i%=e,r&&(s+=i);s>i&&t[s%e].skip;)s--;return s%=e,{start:i,end:s}}function J5(t,e,r,n){const i=t.length,s=[];let a=e,o=t[e],l;for(l=e+1;l<=r;++l){const c=t[l%i];c.skip||c.stop?o.skip||(n=!1,s.push({start:e%i,end:(l-1)%i,loop:n}),e=a=c.stop?l:null):(a=l,o.skip&&(e=l)),o=c}return a!==null&&s.push({start:e%i,end:a%i,loop:n}),s}function Z5(t,e){const r=t.points,n=t.options.spanGaps,i=r.length;if(!i)return[];const s=!!t._loop,{start:a,end:o}=Q5(r,i,s,n);if(n===!0)return _y(t,[{start:a,end:o,loop:s}],r,e);const l=o<a?o+i:o,c=!!t._fullLoop&&a===0&&o===i-1;return _y(t,J5(r,a,l,c),r,e)}function _y(t,e,r,n){return!n||!n.setContext||!r?e:eO(t,e,r,n)}function eO(t,e,r,n){const i=t._chart.getContext(),s=ky(t.options),{_datasetIndex:a,options:{spanGaps:o}}=t,l=r.length,c=[];let u=s,h=e[0].start,f=h;function p(w,g,b,m){const y=o?-1:1;if(w!==g){for(w+=l;r[w%l].skip;)w-=y;for(;r[g%l].skip;)g+=y;w%l!==g%l&&(c.push({start:w%l,end:g%l,loop:b,style:m}),u=m,h=g%l)}}for(const w of e){h=o?h:w.start;let g=r[h%l],b;for(f=h+1;f<=w.end;f++){const m=r[f%l];b=ky(n.setContext(ts(i,{type:"segment",p0:g,p1:m,p0DataIndex:(f-1)%l,p1DataIndex:f%l,datasetIndex:a}))),tO(b,u)&&p(h,f-1,w.loop,u),g=m,u=b}h<f-1&&p(h,f-1,w.loop,u)}return c}function ky(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function tO(t,e){if(!e)return!1;const r=[],n=function(i,s){return $m(s)?(r.includes(s)||r.push(s),r.indexOf(s)):s};return JSON.stringify(t,n)!==JSON.stringify(e,n)}/*!
 * Chart.js v4.4.7
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */class rO{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,r,n,i){const s=r.listeners[i],a=r.duration;s.forEach(o=>o({chart:e,initial:r.initial,numSteps:a,currentStep:Math.min(n-r.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=Y1.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let r=0;this._charts.forEach((n,i)=>{if(!n.running||!n.items.length)return;const s=n.items;let a=s.length-1,o=!1,l;for(;a>=0;--a)l=s[a],l._active?(l._total>n.duration&&(n.duration=l._total),l.tick(e),o=!0):(s[a]=s[s.length-1],s.pop());o&&(i.draw(),this._notify(i,n,e,"progress")),s.length||(n.running=!1,this._notify(i,n,e,"complete"),n.initial=!1),r+=s.length}),this._lastDate=e,r===0&&(this._running=!1)}_getAnims(e){const r=this._charts;let n=r.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},r.set(e,n)),n}listen(e,r,n){this._getAnims(e).listeners[r].push(n)}add(e,r){!r||!r.length||this._getAnims(e).items.push(...r)}has(e){return this._getAnims(e).items.length>0}start(e){const r=this._charts.get(e);r&&(r.running=!0,r.start=Date.now(),r.duration=r.items.reduce((n,i)=>Math.max(n,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const r=this._charts.get(e);return!(!r||!r.running||!r.items.length)}stop(e){const r=this._charts.get(e);if(!r||!r.items.length)return;const n=r.items;let i=n.length-1;for(;i>=0;--i)n[i].cancel();r.items=[],this._notify(e,r,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var en=new rO;const Sy="transparent",nO={boolean(t,e,r){return r>.5?e:t},color(t,e,r){const n=fy(t||Sy),i=n.valid&&fy(e||Sy);return i&&i.valid?i.mix(n,r).hexString():e},number(t,e,r){return t+(e-t)*r}};class iO{constructor(e,r,n,i){const s=r[n];i=Ll([e.to,i,s,e.from]);const a=Ll([e.from,s,i]);this._active=!0,this._fn=e.fn||nO[e.type||typeof a],this._easing=mo[e.easing]||mo.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=r,this._prop=n,this._from=a,this._to=i,this._promises=void 0}active(){return this._active}update(e,r,n){if(this._active){this._notify(!1);const i=this._target[this._prop],s=n-this._start,a=this._duration-s;this._start=n,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=Ll([e.to,r,i,e.from]),this._from=Ll([e.from,i,r])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const r=e-this._start,n=this._duration,i=this._prop,s=this._from,a=this._loop,o=this._to;let l;if(this._active=s!==o&&(a||r<n),!this._active){this._target[i]=o,this._notify(!0);return}if(r<0){this._target[i]=s;return}l=r/n%2,l=a&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(s,o,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((r,n)=>{e.push({res:r,rej:n})})}_notify(e){const r=e?"res":"rej",n=this._promises||[];for(let i=0;i<n.length;i++)n[i][r]()}}class d_{constructor(e,r){this._chart=e,this._properties=new Map,this.configure(r)}configure(e){if(!Pe(e))return;const r=Object.keys(ct.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const s=e[i];if(!Pe(s))return;const a={};for(const o of r)a[o]=s[o];(ft(s.properties)&&s.properties||[i]).forEach(o=>{(o===i||!n.has(o))&&n.set(o,a)})})}_animateOptions(e,r){const n=r.options,i=aO(e,n);if(!i)return[];const s=this._createAnimations(i,n);return n.$shared&&sO(e.options.$animations,n).then(()=>{e.options=n},()=>{}),s}_createAnimations(e,r){const n=this._properties,i=[],s=e.$animations||(e.$animations={}),a=Object.keys(r),o=Date.now();let l;for(l=a.length-1;l>=0;--l){const c=a[l];if(c.charAt(0)==="$")continue;if(c==="options"){i.push(...this._animateOptions(e,r));continue}const u=r[c];let h=s[c];const f=n.get(c);if(h)if(f&&h.active()){h.update(f,u,o);continue}else h.cancel();if(!f||!f.duration){e[c]=u;continue}s[c]=h=new iO(f,e,c,u),i.push(h)}return i}update(e,r){if(this._properties.size===0){Object.assign(e,r);return}const n=this._createAnimations(e,r);if(n.length)return en.add(this._chart,n),!0}}function sO(t,e){const r=[],n=Object.keys(e);for(let i=0;i<n.length;i++){const s=t[n[i]];s&&s.active()&&r.push(s.wait())}return Promise.all(r)}function aO(t,e){if(!e)return;let r=t.options;if(!r){t.options=e;return}return r.$shared&&(t.options=r=Object.assign({},r,{$shared:!1,$animations:{}})),r}function Ey(t,e){const r=t&&t.options||{},n=r.reverse,i=r.min===void 0?e:0,s=r.max===void 0?e:0;return{start:n?s:i,end:n?i:s}}function oO(t,e,r){if(r===!1)return!1;const n=Ey(t,r),i=Ey(e,r);return{top:i.end,right:n.end,bottom:i.start,left:n.start}}function lO(t){let e,r,n,i;return Pe(t)?(e=t.top,r=t.right,n=t.bottom,i=t.left):e=r=n=i=t,{top:e,right:r,bottom:n,left:i,disabled:t===!1}}function h_(t,e){const r=[],n=t._getSortedDatasetMetas(e);let i,s;for(i=0,s=n.length;i<s;++i)r.push(n[i].index);return r}function Ty(t,e,r,n={}){const i=t.keys,s=n.mode==="single";let a,o,l,c;if(e===null)return;let u=!1;for(a=0,o=i.length;a<o;++a){if(l=+i[a],l===r){if(u=!0,n.all)continue;break}c=t.values[l],It(c)&&(s||e===0||ra(e)===ra(c))&&(e+=c)}return!u&&!n.all?0:e}function cO(t,e){const{iScale:r,vScale:n}=e,i=r.axis==="x"?"x":"y",s=n.axis==="x"?"x":"y",a=Object.keys(t),o=new Array(a.length);let l,c,u;for(l=0,c=a.length;l<c;++l)u=a[l],o[l]={[i]:u,[s]:t[u]};return o}function Gd(t,e){const r=t&&t.options.stacked;return r||r===void 0&&e.stack!==void 0}function uO(t,e,r){return`${t.id}.${e.id}.${r.stack||r.type}`}function dO(t){const{min:e,max:r,minDefined:n,maxDefined:i}=t.getUserBounds();return{min:n?e:Number.NEGATIVE_INFINITY,max:i?r:Number.POSITIVE_INFINITY}}function hO(t,e,r){const n=t[e]||(t[e]={});return n[r]||(n[r]={})}function Ny(t,e,r,n){for(const i of e.getMatchingVisibleMetas(n).reverse()){const s=t[i.index];if(r&&s>0||!r&&s<0)return i.index}return null}function Ay(t,e){const{chart:r,_cachedMeta:n}=t,i=r._stacks||(r._stacks={}),{iScale:s,vScale:a,index:o}=n,l=s.axis,c=a.axis,u=uO(s,a,n),h=e.length;let f;for(let p=0;p<h;++p){const w=e[p],{[l]:g,[c]:b}=w,m=w._stacks||(w._stacks={});f=m[c]=hO(i,u,g),f[o]=b,f._top=Ny(f,a,!0,n.type),f._bottom=Ny(f,a,!1,n.type);const y=f._visualValues||(f._visualValues={});y[o]=b}}function Yd(t,e){const r=t.scales;return Object.keys(r).filter(n=>r[n].axis===e).shift()}function fO(t,e){return ts(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function pO(t,e,r){return ts(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:r,index:e,mode:"default",type:"data"})}function Da(t,e){const r=t.controller.index,n=t.vScale&&t.vScale.axis;if(n){e=e||t._parsed;for(const i of e){const s=i._stacks;if(!s||s[n]===void 0||s[n][r]===void 0)return;delete s[n][r],s[n]._visualValues!==void 0&&s[n]._visualValues[r]!==void 0&&delete s[n]._visualValues[r]}}}const Xd=t=>t==="reset"||t==="none",jy=(t,e)=>e?t:Object.assign({},t),mO=(t,e,r)=>t&&!e.hidden&&e._stacked&&{keys:h_(r,!0),values:null};class Bs{constructor(e,r){this.chart=e,this._ctx=e.ctx,this.index=r,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Gd(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Da(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,r=this._cachedMeta,n=this.getDataset(),i=(h,f,p,w)=>h==="x"?f:h==="r"?w:p,s=r.xAxisID=je(n.xAxisID,Yd(e,"x")),a=r.yAxisID=je(n.yAxisID,Yd(e,"y")),o=r.rAxisID=je(n.rAxisID,Yd(e,"r")),l=r.indexAxis,c=r.iAxisID=i(l,s,a,o),u=r.vAxisID=i(l,a,s,o);r.xScale=this.getScaleForId(s),r.yScale=this.getScaleForId(a),r.rScale=this.getScaleForId(o),r.iScale=this.getScaleForId(c),r.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const r=this._cachedMeta;return e===r.iScale?r.vScale:r.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&uy(this._data,this),e._stacked&&Da(e)}_dataCheck(){const e=this.getDataset(),r=e.data||(e.data=[]),n=this._data;if(Pe(r)){const i=this._cachedMeta;this._data=cO(r,i)}else if(n!==r){if(n){uy(n,this);const i=this._cachedMeta;Da(i),i._parsed=[]}r&&Object.isExtensible(r)&&JP(r,this),this._syncList=[],this._data=r}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const r=this._cachedMeta,n=this.getDataset();let i=!1;this._dataCheck();const s=r._stacked;r._stacked=Gd(r.vScale,r),r.stack!==n.stack&&(i=!0,Da(r),r.stack=n.stack),this._resyncElements(e),(i||s!==r._stacked)&&(Ay(this,r._parsed),r._stacked=Gd(r.vScale,r))}configure(){const e=this.chart.config,r=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),r,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,r){const{_cachedMeta:n,_data:i}=this,{iScale:s,_stacked:a}=n,o=s.axis;let l=e===0&&r===i.length?!0:n._sorted,c=e>0&&n._parsed[e-1],u,h,f;if(this._parsing===!1)n._parsed=i,n._sorted=!0,f=i;else{ft(i[e])?f=this.parseArrayData(n,i,e,r):Pe(i[e])?f=this.parseObjectData(n,i,e,r):f=this.parsePrimitiveData(n,i,e,r);const p=()=>h[o]===null||c&&h[o]<c[o];for(u=0;u<r;++u)n._parsed[u+e]=h=f[u],l&&(p()&&(l=!1),c=h);n._sorted=l}a&&Ay(this,f)}parsePrimitiveData(e,r,n,i){const{iScale:s,vScale:a}=e,o=s.axis,l=a.axis,c=s.getLabels(),u=s===a,h=new Array(i);let f,p,w;for(f=0,p=i;f<p;++f)w=f+n,h[f]={[o]:u||s.parse(c[w],w),[l]:a.parse(r[w],w)};return h}parseArrayData(e,r,n,i){const{xScale:s,yScale:a}=e,o=new Array(i);let l,c,u,h;for(l=0,c=i;l<c;++l)u=l+n,h=r[u],o[l]={x:s.parse(h[0],u),y:a.parse(h[1],u)};return o}parseObjectData(e,r,n,i){const{xScale:s,yScale:a}=e,{xAxisKey:o="x",yAxisKey:l="y"}=this._parsing,c=new Array(i);let u,h,f,p;for(u=0,h=i;u<h;++u)f=u+n,p=r[f],c[u]={x:s.parse(Bo(p,o),f),y:a.parse(Bo(p,l),f)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,r,n){const i=this.chart,s=this._cachedMeta,a=r[e.axis],o={keys:h_(i,!0),values:r._stacks[e.axis]._visualValues};return Ty(o,a,s.index,{mode:n})}updateRangeFromParsed(e,r,n,i){const s=n[r.axis];let a=s===null?NaN:s;const o=i&&n._stacks[r.axis];i&&o&&(i.values=o,a=Ty(i,s,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,r){const n=this._cachedMeta,i=n._parsed,s=n._sorted&&e===n.iScale,a=i.length,o=this._getOtherScale(e),l=mO(r,n,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:h}=dO(o);let f,p;function w(){p=i[f];const g=p[o.axis];return!It(p[e.axis])||u>g||h<g}for(f=0;f<a&&!(!w()&&(this.updateRangeFromParsed(c,e,p,l),s));++f);if(s){for(f=a-1;f>=0;--f)if(!w()){this.updateRangeFromParsed(c,e,p,l);break}}return c}getAllParsedValues(e){const r=this._cachedMeta._parsed,n=[];let i,s,a;for(i=0,s=r.length;i<s;++i)a=r[i][e.axis],It(a)&&n.push(a);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const r=this._cachedMeta,n=r.iScale,i=r.vScale,s=this.getParsed(e);return{label:n?""+n.getLabelForValue(s[n.axis]):"",value:i?""+i.getLabelForValue(s[i.axis]):""}}_update(e){const r=this._cachedMeta;this.update(e||"default"),r._clip=lO(je(this.options.clip,oO(r.xScale,r.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,r=this.chart,n=this._cachedMeta,i=n.data||[],s=r.chartArea,a=[],o=this._drawStart||0,l=this._drawCount||i.length-o,c=this.options.drawActiveElementsOnTop;let u;for(n.dataset&&n.dataset.draw(e,s,o,l),u=o;u<o+l;++u){const h=i[u];h.hidden||(h.active&&c?a.push(h):h.draw(e,s))}for(u=0;u<a.length;++u)a[u].draw(e,s)}getStyle(e,r){const n=r?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,r,n){const i=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const a=this._cachedMeta.data[e];s=a.$context||(a.$context=pO(this.getContext(),e,a)),s.parsed=this.getParsed(e),s.raw=i.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=fO(this.chart.getContext(),this.index)),s.dataset=i,s.index=s.datasetIndex=this.index;return s.active=!!r,s.mode=n,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,r){return this._resolveElementOptions(this.dataElementType.id,r,e)}_resolveElementOptions(e,r="default",n){const i=r==="active",s=this._cachedDataOpts,a=e+"-"+r,o=s[a],l=this.enableOptionSharing&&au(n);if(o)return jy(o,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,e),h=i?[`${e}Hover`,"hover",e,""]:[e,""],f=c.getOptionScopes(this.getDataset(),u),p=Object.keys(ct.elements[e]),w=()=>this.getContext(n,i,r),g=c.resolveNamedOptions(f,p,w,h);return g.$shared&&(g.$shared=l,s[a]=Object.freeze(jy(g,l))),g}_resolveAnimations(e,r,n){const i=this.chart,s=this._cachedDataOpts,a=`animation-${r}`,o=s[a];if(o)return o;let l;if(i.options.animation!==!1){const u=this.chart.config,h=u.datasetAnimationScopeKeys(this._type,r),f=u.getOptionScopes(this.getDataset(),h);l=u.createResolver(f,this.getContext(e,n,r))}const c=new d_(i,l&&l.animations);return l&&l._cacheable&&(s[a]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,r){return!r||Xd(e)||this.chart._animationsDisabled}_getSharedOptions(e,r){const n=this.resolveDataElementOptions(e,r),i=this._sharedOptions,s=this.getSharedOptions(n),a=this.includeOptions(r,s)||s!==i;return this.updateSharedOptions(s,r,n),{sharedOptions:s,includeOptions:a}}updateElement(e,r,n,i){Xd(i)?Object.assign(e,n):this._resolveAnimations(r,i).update(e,n)}updateSharedOptions(e,r,n){e&&!Xd(r)&&this._resolveAnimations(void 0,r).update(e,n)}_setStyle(e,r,n,i){e.active=i;const s=this.getStyle(r,i);this._resolveAnimations(r,n,i).update(e,{options:!i&&this.getSharedOptions(s)||s})}removeHoverStyle(e,r,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,r,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const r=this._data,n=this._cachedMeta.data;for(const[o,l,c]of this._syncList)this[o](l,c);this._syncList=[];const i=n.length,s=r.length,a=Math.min(s,i);a&&this.parse(0,a),s>i?this._insertElements(i,s-i,e):s<i&&this._removeElements(s,i-s)}_insertElements(e,r,n=!0){const i=this._cachedMeta,s=i.data,a=e+r;let o;const l=c=>{for(c.length+=r,o=c.length-1;o>=a;o--)c[o]=c[o-r]};for(l(s),o=e;o<a;++o)s[o]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(e,r),n&&this.updateElements(s,e,r,"reset")}updateElements(e,r,n,i){}_removeElements(e,r){const n=this._cachedMeta;if(this._parsing){const i=n._parsed.splice(e,r);n._stacked&&Da(n,i)}n.data.splice(e,r)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[r,n,i]=e;this[r](n,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,r){r&&this._sync(["_removeElements",e,r]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}ve(Bs,"defaults",{}),ve(Bs,"datasetElementType",null),ve(Bs,"dataElementType",null);function gO(t,e,r){let n=1,i=1,s=0,a=0;if(e<Qe){const o=t,l=o+e,c=Math.cos(o),u=Math.sin(o),h=Math.cos(l),f=Math.sin(l),p=(_,k,T)=>Uo(_,o,l,!0)?1:Math.max(k,k*r,T,T*r),w=(_,k,T)=>Uo(_,o,l,!0)?-1:Math.min(k,k*r,T,T*r),g=p(0,c,h),b=p(mt,u,f),m=w(it,c,h),y=w(it+mt,u,f);n=(g-m)/2,i=(b-y)/2,s=-(g+m)/2,a=-(b+y)/2}return{ratioX:n,ratioY:i,offsetX:s,offsetY:a}}class Xa extends Bs{constructor(e,r){super(e,r),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,r){const n=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=n;else{let s=l=>+n[l];if(Pe(n[e])){const{key:l="value"}=this._parsing;s=c=>+Bo(n[c],l)}let a,o;for(a=e,o=e+r;a<o;++a)i._parsed[a]=s(a)}}_getRotation(){return cn(this.options.rotation-90)}_getCircumference(){return cn(this.options.circumference)}_getRotationExtents(){let e=Qe,r=-Qe;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const i=this.chart.getDatasetMeta(n).controller,s=i._getRotation(),a=i._getCircumference();e=Math.min(e,s),r=Math.max(r,s+a)}return{rotation:e,circumference:r-e}}update(e){const r=this.chart,{chartArea:n}=r,i=this._cachedMeta,s=i.data,a=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,o=Math.max((Math.min(n.width,n.height)-a)/2,0),l=Math.min(MP(this.options.cutout,o),1),c=this._getRingWeight(this.index),{circumference:u,rotation:h}=this._getRotationExtents(),{ratioX:f,ratioY:p,offsetX:w,offsetY:g}=gO(h,u,l),b=(n.width-a)/f,m=(n.height-a)/p,y=Math.max(Math.min(b,m)/2,0),_=V1(this.options.radius,y),k=Math.max(_*l,0),T=(_-k)/this._getVisibleDatasetWeightTotal();this.offsetX=w*_,this.offsetY=g*_,i.total=this.calculateTotal(),this.outerRadius=_-T*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-T*c,0),this.updateElements(s,0,s.length,e)}_circumference(e,r){const n=this.options,i=this._cachedMeta,s=this._getCircumference();return r&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||i._parsed[e]===null||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*s/Qe)}updateElements(e,r,n,i){const s=i==="reset",a=this.chart,o=a.chartArea,c=a.options.animation,u=(o.left+o.right)/2,h=(o.top+o.bottom)/2,f=s&&c.animateScale,p=f?0:this.innerRadius,w=f?0:this.outerRadius,{sharedOptions:g,includeOptions:b}=this._getSharedOptions(r,i);let m=this._getRotation(),y;for(y=0;y<r;++y)m+=this._circumference(y,s);for(y=r;y<r+n;++y){const _=this._circumference(y,s),k=e[y],T={x:u+this.offsetX,y:h+this.offsetY,startAngle:m,endAngle:m+_,circumference:_,outerRadius:w,innerRadius:p};b&&(T.options=g||this.resolveDataElementOptions(y,k.active?"active":i)),m+=_,this.updateElement(k,y,T,i)}}calculateTotal(){const e=this._cachedMeta,r=e.data;let n=0,i;for(i=0;i<r.length;i++){const s=e._parsed[i];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(i)&&!r[i].hidden&&(n+=Math.abs(s))}return n}calculateCircumference(e){const r=this._cachedMeta.total;return r>0&&!isNaN(e)?Qe*(Math.abs(e)/r):0}getLabelAndValue(e){const r=this._cachedMeta,n=this.chart,i=n.data.labels||[],s=Wm(r._parsed[e],n.options.locale);return{label:i[e]||"",value:s}}getMaxBorderWidth(e){let r=0;const n=this.chart;let i,s,a,o,l;if(!e){for(i=0,s=n.data.datasets.length;i<s;++i)if(n.isDatasetVisible(i)){a=n.getDatasetMeta(i),e=a.data,o=a.controller;break}}if(!e)return 0;for(i=0,s=e.length;i<s;++i)l=o.resolveDataElementOptions(i),l.borderAlign!=="inner"&&(r=Math.max(r,l.borderWidth||0,l.hoverBorderWidth||0));return r}getMaxOffset(e){let r=0;for(let n=0,i=e.length;n<i;++n){const s=this.resolveDataElementOptions(n);r=Math.max(r,s.offset||0,s.hoverOffset||0)}return r}_getRingWeightOffset(e){let r=0;for(let n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(r+=this._getRingWeight(n));return r}_getRingWeight(e){return Math.max(je(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}ve(Xa,"id","doughnut"),ve(Xa,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),ve(Xa,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),ve(Xa,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const r=e.data;if(r.labels.length&&r.datasets.length){const{labels:{pointStyle:n,color:i}}=e.legend.options;return r.labels.map((s,a)=>{const l=e.getDatasetMeta(0).controller.getStyle(a);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,r,n){n.chart.toggleDataVisibility(r.index),n.chart.update()}}}});class xc extends Bs{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const r=this._cachedMeta,{dataset:n,data:i=[],_dataset:s}=r,a=this.chart._animationsDisabled;let{start:o,count:l}=r5(r,i,a);this._drawStart=o,this._drawCount=l,n5(r)&&(o=0,l=i.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!s._decimated,n.points=i;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(n,void 0,{animated:!a,options:c},e),this.updateElements(i,o,l,e)}updateElements(e,r,n,i){const s=i==="reset",{iScale:a,vScale:o,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:h}=this._getSharedOptions(r,i),f=a.axis,p=o.axis,{spanGaps:w,segment:g}=this.options,b=zo(w)?w:Number.POSITIVE_INFINITY,m=this.chart._animationsDisabled||s||i==="none",y=r+n,_=e.length;let k=r>0&&this.getParsed(r-1);for(let T=0;T<_;++T){const I=e[T],O=m?I:{};if(T<r||T>=y){O.skip=!0;continue}const L=this.getParsed(T),N=nt(L[p]),H=O[f]=a.getPixelForValue(L[f],T),ee=O[p]=s||N?o.getBasePixel():o.getPixelForValue(l?this.applyStack(o,L,l):L[p],T);O.skip=isNaN(H)||isNaN(ee)||N,O.stop=T>0&&Math.abs(L[f]-k[f])>b,g&&(O.parsed=L,O.raw=c.data[T]),h&&(O.options=u||this.resolveDataElementOptions(T,I.active?"active":i)),m||this.updateElement(I,T,O,i),k=L}}getMaxOverflow(){const e=this._cachedMeta,r=e.dataset,n=r.options&&r.options.borderWidth||0,i=e.data||[];if(!i.length)return n;const s=i[0].size(this.resolveDataElementOptions(0)),a=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(n,s,a)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}ve(xc,"id","line"),ve(xc,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),ve(xc,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function gi(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Xm{constructor(e){ve(this,"options");this.options=e||{}}static override(e){Object.assign(Xm.prototype,e)}init(){}formats(){return gi()}parse(){return gi()}format(){return gi()}add(){return gi()}diff(){return gi()}startOf(){return gi()}endOf(){return gi()}}var yO={_date:Xm};function wO(t,e,r,n){const{controller:i,data:s,_sorted:a}=t,o=i._cachedMeta.iScale;if(o&&e===o.axis&&e!=="r"&&a&&s.length){const l=o._reversePixels?XP:Ci;if(n){if(i._sharedOptions){const c=s[0],u=typeof c.getRange=="function"&&c.getRange(e);if(u){const h=l(s,e,r-u),f=l(s,e,r+u);return{lo:h.lo,hi:f.hi}}}}else return l(s,e,r)}return{lo:0,hi:s.length-1}}function nl(t,e,r,n,i){const s=t.getSortedVisibleDatasetMetas(),a=r[e];for(let o=0,l=s.length;o<l;++o){const{index:c,data:u}=s[o],{lo:h,hi:f}=wO(s[o],e,a,i);for(let p=h;p<=f;++p){const w=u[p];w.skip||n(w,c,p)}}}function vO(t){const e=t.indexOf("x")!==-1,r=t.indexOf("y")!==-1;return function(n,i){const s=e?Math.abs(n.x-i.x):0,a=r?Math.abs(n.y-i.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(a,2))}}function Qd(t,e,r,n,i){const s=[];return!i&&!t.isPointInArea(e)||nl(t,r,e,function(o,l,c){!i&&!$o(o,t.chartArea,0)||o.inRange(e.x,e.y,n)&&s.push({element:o,datasetIndex:l,index:c})},!0),s}function xO(t,e,r,n){let i=[];function s(a,o,l){const{startAngle:c,endAngle:u}=a.getProps(["startAngle","endAngle"],n),{angle:h}=q1(a,{x:e.x,y:e.y});Uo(h,c,u)&&i.push({element:a,datasetIndex:o,index:l})}return nl(t,r,e,s),i}function bO(t,e,r,n,i,s){let a=[];const o=vO(r);let l=Number.POSITIVE_INFINITY;function c(u,h,f){const p=u.inRange(e.x,e.y,i);if(n&&!p)return;const w=u.getCenterPoint(i);if(!(!!s||t.isPointInArea(w))&&!p)return;const b=o(e,w);b<l?(a=[{element:u,datasetIndex:h,index:f}],l=b):b===l&&a.push({element:u,datasetIndex:h,index:f})}return nl(t,r,e,c),a}function Jd(t,e,r,n,i,s){return!s&&!t.isPointInArea(e)?[]:r==="r"&&!n?xO(t,e,r,i):bO(t,e,r,n,i,s)}function Cy(t,e,r,n,i){const s=[],a=r==="x"?"inXRange":"inYRange";let o=!1;return nl(t,r,e,(l,c,u)=>{l[a]&&l[a](e[r],i)&&(s.push({element:l,datasetIndex:c,index:u}),o=o||l.inRange(e.x,e.y,i))}),n&&!o?[]:s}var _O={evaluateInteractionItems:nl,modes:{index(t,e,r,n){const i=ki(e,t),s=r.axis||"x",a=r.includeInvisible||!1,o=r.intersect?Qd(t,i,s,n,a):Jd(t,i,s,!1,n,a),l=[];return o.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const u=o[0].index,h=c.data[u];h&&!h.skip&&l.push({element:h,datasetIndex:c.index,index:u})}),l):[]},dataset(t,e,r,n){const i=ki(e,t),s=r.axis||"xy",a=r.includeInvisible||!1;let o=r.intersect?Qd(t,i,s,n,a):Jd(t,i,s,!1,n,a);if(o.length>0){const l=o[0].datasetIndex,c=t.getDatasetMeta(l).data;o=[];for(let u=0;u<c.length;++u)o.push({element:c[u],datasetIndex:l,index:u})}return o},point(t,e,r,n){const i=ki(e,t),s=r.axis||"xy",a=r.includeInvisible||!1;return Qd(t,i,s,n,a)},nearest(t,e,r,n){const i=ki(e,t),s=r.axis||"xy",a=r.includeInvisible||!1;return Jd(t,i,s,r.intersect,n,a)},x(t,e,r,n){const i=ki(e,t);return Cy(t,i,"x",r.intersect,n)},y(t,e,r,n){const i=ki(e,t);return Cy(t,i,"y",r.intersect,n)}}};const f_=["left","top","right","bottom"];function Ia(t,e){return t.filter(r=>r.pos===e)}function Py(t,e){return t.filter(r=>f_.indexOf(r.pos)===-1&&r.box.axis===e)}function Ma(t,e){return t.sort((r,n)=>{const i=e?n:r,s=e?r:n;return i.weight===s.weight?i.index-s.index:i.weight-s.weight})}function kO(t){const e=[];let r,n,i,s,a,o;for(r=0,n=(t||[]).length;r<n;++r)i=t[r],{position:s,options:{stack:a,stackWeight:o=1}}=i,e.push({index:r,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:a&&s+a,stackWeight:o});return e}function SO(t){const e={};for(const r of t){const{stack:n,pos:i,stackWeight:s}=r;if(!n||!f_.includes(i))continue;const a=e[n]||(e[n]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=s}return e}function EO(t,e){const r=SO(t),{vBoxMaxWidth:n,hBoxMaxHeight:i}=e;let s,a,o;for(s=0,a=t.length;s<a;++s){o=t[s];const{fullSize:l}=o.box,c=r[o.stack],u=c&&o.stackWeight/c.weight;o.horizontal?(o.width=u?u*n:l&&e.availableWidth,o.height=i):(o.width=n,o.height=u?u*i:l&&e.availableHeight)}return r}function TO(t){const e=kO(t),r=Ma(e.filter(c=>c.box.fullSize),!0),n=Ma(Ia(e,"left"),!0),i=Ma(Ia(e,"right")),s=Ma(Ia(e,"top"),!0),a=Ma(Ia(e,"bottom")),o=Py(e,"x"),l=Py(e,"y");return{fullSize:r,leftAndTop:n.concat(s),rightAndBottom:i.concat(l).concat(a).concat(o),chartArea:Ia(e,"chartArea"),vertical:n.concat(i).concat(l),horizontal:s.concat(a).concat(o)}}function Oy(t,e,r,n){return Math.max(t[r],e[r])+Math.max(t[n],e[n])}function p_(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function NO(t,e,r,n){const{pos:i,box:s}=r,a=t.maxPadding;if(!Pe(i)){r.size&&(t[i]-=r.size);const h=n[r.stack]||{size:0,count:1};h.size=Math.max(h.size,r.horizontal?s.height:s.width),r.size=h.size/h.count,t[i]+=r.size}s.getPadding&&p_(a,s.getPadding());const o=Math.max(0,e.outerWidth-Oy(a,t,"left","right")),l=Math.max(0,e.outerHeight-Oy(a,t,"top","bottom")),c=o!==t.w,u=l!==t.h;return t.w=o,t.h=l,r.horizontal?{same:c,other:u}:{same:u,other:c}}function AO(t){const e=t.maxPadding;function r(n){const i=Math.max(e[n]-t[n],0);return t[n]+=i,i}t.y+=r("top"),t.x+=r("left"),r("right"),r("bottom")}function jO(t,e){const r=e.maxPadding;function n(i){const s={left:0,top:0,right:0,bottom:0};return i.forEach(a=>{s[a]=Math.max(e[a],r[a])}),s}return n(t?["left","right"]:["top","bottom"])}function Qa(t,e,r,n){const i=[];let s,a,o,l,c,u;for(s=0,a=t.length,c=0;s<a;++s){o=t[s],l=o.box,l.update(o.width||e.w,o.height||e.h,jO(o.horizontal,e));const{same:h,other:f}=NO(e,r,o,n);c|=h&&i.length,u=u||f,l.fullSize||i.push(o)}return c&&Qa(i,e,r,n)||u}function zl(t,e,r,n,i){t.top=r,t.left=e,t.right=e+n,t.bottom=r+i,t.width=n,t.height=i}function Ry(t,e,r,n){const i=r.padding;let{x:s,y:a}=e;for(const o of t){const l=o.box,c=n[o.stack]||{count:1,placed:0,weight:1},u=o.stackWeight/c.weight||1;if(o.horizontal){const h=e.w*u,f=c.size||l.height;au(c.start)&&(a=c.start),l.fullSize?zl(l,i.left,a,r.outerWidth-i.right-i.left,f):zl(l,e.left+c.placed,a,h,f),c.start=a,c.placed+=h,a=l.bottom}else{const h=e.h*u,f=c.size||l.width;au(c.start)&&(s=c.start),l.fullSize?zl(l,s,i.top,f,r.outerHeight-i.bottom-i.top):zl(l,s,e.top+c.placed,f,h),c.start=s,c.placed+=h,s=l.right}}e.x=s,e.y=a}var pr={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(r){e.draw(r)}}]},t.boxes.push(e)},removeBox(t,e){const r=t.boxes?t.boxes.indexOf(e):-1;r!==-1&&t.boxes.splice(r,1)},configure(t,e,r){e.fullSize=r.fullSize,e.position=r.position,e.weight=r.weight},update(t,e,r,n){if(!t)return;const i=vr(t.options.layout.padding),s=Math.max(e-i.width,0),a=Math.max(r-i.height,0),o=TO(t.boxes),l=o.vertical,c=o.horizontal;Le(t.boxes,g=>{typeof g.beforeLayout=="function"&&g.beforeLayout()});const u=l.reduce((g,b)=>b.box.options&&b.box.options.display===!1?g:g+1,0)||1,h=Object.freeze({outerWidth:e,outerHeight:r,padding:i,availableWidth:s,availableHeight:a,vBoxMaxWidth:s/2/u,hBoxMaxHeight:a/2}),f=Object.assign({},i);p_(f,vr(n));const p=Object.assign({maxPadding:f,w:s,h:a,x:i.left,y:i.top},i),w=EO(l.concat(c),h);Qa(o.fullSize,p,h,w),Qa(l,p,h,w),Qa(c,p,h,w)&&Qa(l,p,h,w),AO(p),Ry(o.leftAndTop,p,h,w),p.x+=p.w,p.y+=p.h,Ry(o.rightAndBottom,p,h,w),t.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},Le(o.chartArea,g=>{const b=g.box;Object.assign(b,t.chartArea),b.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}};class m_{acquireContext(e,r){}releaseContext(e){return!1}addEventListener(e,r,n){}removeEventListener(e,r,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,r,n,i){return r=Math.max(0,r||e.width),n=n||e.height,{width:r,height:Math.max(0,i?Math.floor(r/i):n)}}isAttached(e){return!0}updateConfig(e){}}class CO extends m_{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const bc="$chartjs",PO={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Dy=t=>t===null||t==="";function OO(t,e){const r=t.style,n=t.getAttribute("height"),i=t.getAttribute("width");if(t[bc]={initial:{height:n,width:i,style:{display:r.display,height:r.height,width:r.width}}},r.display=r.display||"block",r.boxSizing=r.boxSizing||"border-box",Dy(i)){const s=xy(t,"width");s!==void 0&&(t.width=s)}if(Dy(n))if(t.style.height==="")t.height=t.width/(e||2);else{const s=xy(t,"height");s!==void 0&&(t.height=s)}return t}const g_=V5?{passive:!0}:!1;function RO(t,e,r){t&&t.addEventListener(e,r,g_)}function DO(t,e,r){t&&t.canvas&&t.canvas.removeEventListener(e,r,g_)}function IO(t,e){const r=PO[t.type]||t.type,{x:n,y:i}=ki(t,e);return{type:r,chart:e,native:t,x:n!==void 0?n:null,y:i!==void 0?i:null}}function uu(t,e){for(const r of t)if(r===e||r.contains(e))return!0}function MO(t,e,r){const n=t.canvas,i=new MutationObserver(s=>{let a=!1;for(const o of s)a=a||uu(o.addedNodes,n),a=a&&!uu(o.removedNodes,n);a&&r()});return i.observe(document,{childList:!0,subtree:!0}),i}function LO(t,e,r){const n=t.canvas,i=new MutationObserver(s=>{let a=!1;for(const o of s)a=a||uu(o.removedNodes,n),a=a&&!uu(o.addedNodes,n);a&&r()});return i.observe(document,{childList:!0,subtree:!0}),i}const Ho=new Map;let Iy=0;function y_(){const t=window.devicePixelRatio;t!==Iy&&(Iy=t,Ho.forEach((e,r)=>{r.currentDevicePixelRatio!==t&&e()}))}function FO(t,e){Ho.size||window.addEventListener("resize",y_),Ho.set(t,e)}function BO(t){Ho.delete(t),Ho.size||window.removeEventListener("resize",y_)}function zO(t,e,r){const n=t.canvas,i=n&&Ym(n);if(!i)return;const s=X1((o,l)=>{const c=i.clientWidth;r(o,l),c<i.clientWidth&&r()},window),a=new ResizeObserver(o=>{const l=o[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||s(c,u)});return a.observe(i),FO(t,s),a}function Zd(t,e,r){r&&r.disconnect(),e==="resize"&&BO(t)}function UO(t,e,r){const n=t.canvas,i=X1(s=>{t.ctx!==null&&r(IO(s,t))},t);return RO(n,e,i),i}class $O extends m_{acquireContext(e,r){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(OO(e,r),n):null}releaseContext(e){const r=e.canvas;if(!r[bc])return!1;const n=r[bc].initial;["height","width"].forEach(s=>{const a=n[s];nt(a)?r.removeAttribute(s):r.setAttribute(s,a)});const i=n.style||{};return Object.keys(i).forEach(s=>{r.style[s]=i[s]}),r.width=r.width,delete r[bc],!0}addEventListener(e,r,n){this.removeEventListener(e,r);const i=e.$proxies||(e.$proxies={}),a={attach:MO,detach:LO,resize:zO}[r]||UO;i[r]=a(e,r,n)}removeEventListener(e,r){const n=e.$proxies||(e.$proxies={}),i=n[r];if(!i)return;({attach:Zd,detach:Zd,resize:Zd}[r]||DO)(e,r,i),n[r]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,r,n,i){return H5(e,r,n,i)}isAttached(e){const r=e&&Ym(e);return!!(r&&r.isConnected)}}function WO(t){return!Gm()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?CO:$O}class Or{constructor(){ve(this,"x");ve(this,"y");ve(this,"active",!1);ve(this,"options");ve(this,"$animations")}tooltipPosition(e){const{x:r,y:n}=this.getProps(["x","y"],e);return{x:r,y:n}}hasValue(){return zo(this.x)&&zo(this.y)}getProps(e,r){const n=this.$animations;if(!r||!n)return this;const i={};return e.forEach(s=>{i[s]=n[s]&&n[s].active()?n[s]._to:this[s]}),i}}ve(Or,"defaults",{}),ve(Or,"defaultRoutes");function HO(t,e){const r=t.options.ticks,n=VO(t),i=Math.min(r.maxTicksLimit||n,n),s=r.major.enabled?qO(e):[],a=s.length,o=s[0],l=s[a-1],c=[];if(a>i)return GO(e,c,s,a/i),c;const u=KO(s,e,i);if(a>0){let h,f;const p=a>1?Math.round((l-o)/(a-1)):null;for(Ul(e,c,u,nt(p)?0:o-p,o),h=0,f=a-1;h<f;h++)Ul(e,c,u,s[h],s[h+1]);return Ul(e,c,u,l,nt(p)?e.length:l+p),c}return Ul(e,c,u),c}function VO(t){const e=t.options.offset,r=t._tickSize(),n=t._length/r+(e?0:1),i=t._maxLength/r;return Math.floor(Math.min(n,i))}function KO(t,e,r){const n=YO(t),i=e.length/r;if(!n)return Math.max(i,1);const s=HP(n);for(let a=0,o=s.length-1;a<o;a++){const l=s[a];if(l>i)return l}return Math.max(i,1)}function qO(t){const e=[];let r,n;for(r=0,n=t.length;r<n;r++)t[r].major&&e.push(r);return e}function GO(t,e,r,n){let i=0,s=r[0],a;for(n=Math.ceil(n),a=0;a<t.length;a++)a===s&&(e.push(t[a]),i++,s=r[i*n])}function Ul(t,e,r,n,i){const s=je(n,0),a=Math.min(je(i,t.length),t.length);let o=0,l,c,u;for(r=Math.ceil(r),i&&(l=i-n,r=l/Math.floor(l/r)),u=s;u<0;)o++,u=Math.round(s+o*r);for(c=Math.max(s,0);c<a;c++)c===u&&(e.push(t[c]),o++,u=Math.round(s+o*r))}function YO(t){const e=t.length;let r,n;if(e<2)return!1;for(n=t[0],r=1;r<e;++r)if(t[r]-t[r-1]!==n)return!1;return n}const XO=t=>t==="left"?"right":t==="right"?"left":t,My=(t,e,r)=>e==="top"||e==="left"?t[e]+r:t[e]-r,Ly=(t,e)=>Math.min(e||t,t);function Fy(t,e){const r=[],n=t.length/e,i=t.length;let s=0;for(;s<i;s+=n)r.push(t[Math.floor(s)]);return r}function QO(t,e,r){const n=t.ticks.length,i=Math.min(e,n-1),s=t._startPixel,a=t._endPixel,o=1e-6;let l=t.getPixelForTick(i),c;if(!(r&&(n===1?c=Math.max(l-s,a-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(i-1))/2,l+=i<e?c:-c,l<s-o||l>a+o)))return l}function JO(t,e){Le(t,r=>{const n=r.gc,i=n.length/2;let s;if(i>e){for(s=0;s<i;++s)delete r.data[n[s]];n.splice(0,i)}})}function La(t){return t.drawTicks?t.tickLength:0}function By(t,e){if(!t.display)return 0;const r=Pt(t.font,e),n=vr(t.padding);return(ft(t.text)?t.text.length:1)*r.lineHeight+n.height}function ZO(t,e){return ts(t,{scale:e,type:"scale"})}function eR(t,e,r){return ts(t,{tick:r,index:e,type:"tick"})}function tR(t,e,r){let n=Um(t);return(r&&e!=="right"||!r&&e==="right")&&(n=XO(n)),n}function rR(t,e,r,n){const{top:i,left:s,bottom:a,right:o,chart:l}=t,{chartArea:c,scales:u}=l;let h=0,f,p,w;const g=a-i,b=o-s;if(t.isHorizontal()){if(p=At(n,s,o),Pe(r)){const m=Object.keys(r)[0],y=r[m];w=u[m].getPixelForValue(y)+g-e}else r==="center"?w=(c.bottom+c.top)/2+g-e:w=My(t,r,e);f=o-s}else{if(Pe(r)){const m=Object.keys(r)[0],y=r[m];p=u[m].getPixelForValue(y)-b+e}else r==="center"?p=(c.left+c.right)/2-b+e:p=My(t,r,e);w=At(n,a,i),h=r==="left"?-mt:mt}return{titleX:p,titleY:w,maxWidth:f,rotation:h}}class wa extends Or{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,r){return e}getUserBounds(){let{_userMin:e,_userMax:r,_suggestedMin:n,_suggestedMax:i}=this;return e=Ir(e,Number.POSITIVE_INFINITY),r=Ir(r,Number.NEGATIVE_INFINITY),n=Ir(n,Number.POSITIVE_INFINITY),i=Ir(i,Number.NEGATIVE_INFINITY),{min:Ir(e,n),max:Ir(r,i),minDefined:It(e),maxDefined:It(r)}}getMinMax(e){let{min:r,max:n,minDefined:i,maxDefined:s}=this.getUserBounds(),a;if(i&&s)return{min:r,max:n};const o=this.getMatchingVisibleMetas();for(let l=0,c=o.length;l<c;++l)a=o[l].controller.getMinMax(this,e),i||(r=Math.min(r,a.min)),s||(n=Math.max(n,a.max));return r=s&&r>n?n:r,n=i&&r>n?r:n,{min:Ir(r,Ir(n,r)),max:Ir(n,Ir(r,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Ke(this.options.beforeUpdate,[this])}update(e,r,n){const{beginAtZero:i,grace:s,ticks:a}=this.options,o=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=r,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=_5(this,s,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=o<this.ticks.length;this._convertTicksToLabels(l?Fy(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=HO(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,r,n;this.isHorizontal()?(r=this.left,n=this.right):(r=this.top,n=this.bottom,e=!e),this._startPixel=r,this._endPixel=n,this._reversePixels=e,this._length=n-r,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Ke(this.options.afterUpdate,[this])}beforeSetDimensions(){Ke(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Ke(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Ke(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Ke(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const r=this.options.ticks;let n,i,s;for(n=0,i=e.length;n<i;n++)s=e[n],s.label=Ke(r.callback,[s.value,n,e],this)}afterTickToLabelConversion(){Ke(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Ke(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,r=e.ticks,n=Ly(this.ticks.length,e.ticks.maxTicksLimit),i=r.minRotation||0,s=r.maxRotation;let a=i,o,l,c;if(!this._isVisible()||!r.display||i>=s||n<=1||!this.isHorizontal()){this.labelRotation=i;return}const u=this._getLabelSizes(),h=u.widest.width,f=u.highest.height,p=Ct(this.chart.width-h,0,this.maxWidth);o=e.offset?this.maxWidth/n:p/(n-1),h+6>o&&(o=p/(n-(e.offset?.5:1)),l=this.maxHeight-La(e.grid)-r.padding-By(e.title,this.chart.options.font),c=Math.sqrt(h*h+f*f),a=qP(Math.min(Math.asin(Ct((u.highest.height+6)/o,-1,1)),Math.asin(Ct(l/c,-1,1))-Math.asin(Ct(f/c,-1,1)))),a=Math.max(i,Math.min(s,a))),this.labelRotation=a}afterCalculateLabelRotation(){Ke(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Ke(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:r,options:{ticks:n,title:i,grid:s}}=this,a=this._isVisible(),o=this.isHorizontal();if(a){const l=By(i,r.options.font);if(o?(e.width=this.maxWidth,e.height=La(s)+l):(e.height=this.maxHeight,e.width=La(s)+l),n.display&&this.ticks.length){const{first:c,last:u,widest:h,highest:f}=this._getLabelSizes(),p=n.padding*2,w=cn(this.labelRotation),g=Math.cos(w),b=Math.sin(w);if(o){const m=n.mirror?0:b*h.width+g*f.height;e.height=Math.min(this.maxHeight,e.height+m+p)}else{const m=n.mirror?0:g*h.width+b*f.height;e.width=Math.min(this.maxWidth,e.width+m+p)}this._calculatePadding(c,u,b,g)}}this._handleMargins(),o?(this.width=this._length=r.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=r.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,r,n,i){const{ticks:{align:s,padding:a},position:o}=this.options,l=this.labelRotation!==0,c=o!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,p=0;l?c?(f=i*e.width,p=n*r.height):(f=n*e.height,p=i*r.width):s==="start"?p=r.width:s==="end"?f=e.width:s!=="inner"&&(f=e.width/2,p=r.width/2),this.paddingLeft=Math.max((f-u+a)*this.width/(this.width-u),0),this.paddingRight=Math.max((p-h+a)*this.width/(this.width-h),0)}else{let u=r.height/2,h=e.height/2;s==="start"?(u=0,h=e.height):s==="end"&&(u=r.height,h=0),this.paddingTop=u+a,this.paddingBottom=h+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Ke(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:r}=this.options;return r==="top"||r==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let r,n;for(r=0,n=e.length;r<n;r++)nt(e[r].label)&&(e.splice(r,1),n--,r--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const r=this.options.ticks.sampleSize;let n=this.ticks;r<n.length&&(n=Fy(n,r)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,r,n){const{ctx:i,_longestTextCache:s}=this,a=[],o=[],l=Math.floor(r/Ly(r,n));let c=0,u=0,h,f,p,w,g,b,m,y,_,k,T;for(h=0;h<r;h+=l){if(w=e[h].label,g=this._resolveTickFontOptions(h),i.font=b=g.string,m=s[b]=s[b]||{data:{},gc:[]},y=g.lineHeight,_=k=0,!nt(w)&&!ft(w))_=my(i,m.data,m.gc,_,w),k=y;else if(ft(w))for(f=0,p=w.length;f<p;++f)T=w[f],!nt(T)&&!ft(T)&&(_=my(i,m.data,m.gc,_,T),k+=y);a.push(_),o.push(k),c=Math.max(_,c),u=Math.max(k,u)}JO(s,r);const I=a.indexOf(c),O=o.indexOf(u),L=N=>({width:a[N]||0,height:o[N]||0});return{first:L(0),last:L(r-1),widest:L(I),highest:L(O),widths:a,heights:o}}getLabelForValue(e){return e}getPixelForValue(e,r){return NaN}getValueForPixel(e){}getPixelForTick(e){const r=this.ticks;return e<0||e>r.length-1?null:this.getPixelForValue(r[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const r=this._startPixel+e*this._length;return YP(this._alignToPixels?mi(this.chart,r,0):r)}getDecimalForPixel(e){const r=(e-this._startPixel)/this._length;return this._reversePixels?1-r:r}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:r}=this;return e<0&&r<0?r:e>0&&r>0?e:0}getContext(e){const r=this.ticks||[];if(e>=0&&e<r.length){const n=r[e];return n.$context||(n.$context=eR(this.getContext(),e,n))}return this.$context||(this.$context=ZO(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,r=cn(this.labelRotation),n=Math.abs(Math.cos(r)),i=Math.abs(Math.sin(r)),s=this._getLabelSizes(),a=e.autoSkipPadding||0,o=s?s.widest.width+a:0,l=s?s.highest.height+a:0;return this.isHorizontal()?l*n>o*i?o/n:l/i:l*i<o*n?l/n:o/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const r=this.axis,n=this.chart,i=this.options,{grid:s,position:a,border:o}=i,l=s.offset,c=this.isHorizontal(),h=this.ticks.length+(l?1:0),f=La(s),p=[],w=o.setContext(this.getContext()),g=w.display?w.width:0,b=g/2,m=function(ne){return mi(n,ne,g)};let y,_,k,T,I,O,L,N,H,ee,R,W;if(a==="top")y=m(this.bottom),O=this.bottom-f,N=y-b,ee=m(e.top)+b,W=e.bottom;else if(a==="bottom")y=m(this.top),ee=e.top,W=m(e.bottom)-b,O=y+b,N=this.top+f;else if(a==="left")y=m(this.right),I=this.right-f,L=y-b,H=m(e.left)+b,R=e.right;else if(a==="right")y=m(this.left),H=e.left,R=m(e.right)-b,I=y+b,L=this.left+f;else if(r==="x"){if(a==="center")y=m((e.top+e.bottom)/2+.5);else if(Pe(a)){const ne=Object.keys(a)[0],X=a[ne];y=m(this.chart.scales[ne].getPixelForValue(X))}ee=e.top,W=e.bottom,O=y+b,N=O+f}else if(r==="y"){if(a==="center")y=m((e.left+e.right)/2);else if(Pe(a)){const ne=Object.keys(a)[0],X=a[ne];y=m(this.chart.scales[ne].getPixelForValue(X))}I=y-b,L=I-f,H=e.left,R=e.right}const P=je(i.ticks.maxTicksLimit,h),B=Math.max(1,Math.ceil(h/P));for(_=0;_<h;_+=B){const ne=this.getContext(_),X=s.setContext(ne),re=o.setContext(ne),Z=X.lineWidth,le=X.color,G=re.dash||[],D=re.dashOffset,J=X.tickWidth,Q=X.tickColor,ie=X.tickBorderDash||[],q=X.tickBorderDashOffset;k=QO(this,_,l),k!==void 0&&(T=mi(n,k,Z),c?I=L=H=R=T:O=N=ee=W=T,p.push({tx1:I,ty1:O,tx2:L,ty2:N,x1:H,y1:ee,x2:R,y2:W,width:Z,color:le,borderDash:G,borderDashOffset:D,tickWidth:J,tickColor:Q,tickBorderDash:ie,tickBorderDashOffset:q}))}return this._ticksLength=h,this._borderValue=y,p}_computeLabelItems(e){const r=this.axis,n=this.options,{position:i,ticks:s}=n,a=this.isHorizontal(),o=this.ticks,{align:l,crossAlign:c,padding:u,mirror:h}=s,f=La(n.grid),p=f+u,w=h?-u:p,g=-cn(this.labelRotation),b=[];let m,y,_,k,T,I,O,L,N,H,ee,R,W="middle";if(i==="top")I=this.bottom-w,O=this._getXAxisLabelAlignment();else if(i==="bottom")I=this.top+w,O=this._getXAxisLabelAlignment();else if(i==="left"){const B=this._getYAxisLabelAlignment(f);O=B.textAlign,T=B.x}else if(i==="right"){const B=this._getYAxisLabelAlignment(f);O=B.textAlign,T=B.x}else if(r==="x"){if(i==="center")I=(e.top+e.bottom)/2+p;else if(Pe(i)){const B=Object.keys(i)[0],ne=i[B];I=this.chart.scales[B].getPixelForValue(ne)+p}O=this._getXAxisLabelAlignment()}else if(r==="y"){if(i==="center")T=(e.left+e.right)/2-p;else if(Pe(i)){const B=Object.keys(i)[0],ne=i[B];T=this.chart.scales[B].getPixelForValue(ne)}O=this._getYAxisLabelAlignment(f).textAlign}r==="y"&&(l==="start"?W="top":l==="end"&&(W="bottom"));const P=this._getLabelSizes();for(m=0,y=o.length;m<y;++m){_=o[m],k=_.label;const B=s.setContext(this.getContext(m));L=this.getPixelForTick(m)+s.labelOffset,N=this._resolveTickFontOptions(m),H=N.lineHeight,ee=ft(k)?k.length:1;const ne=ee/2,X=B.color,re=B.textStrokeColor,Z=B.textStrokeWidth;let le=O;a?(T=L,O==="inner"&&(m===y-1?le=this.options.reverse?"left":"right":m===0?le=this.options.reverse?"right":"left":le="center"),i==="top"?c==="near"||g!==0?R=-ee*H+H/2:c==="center"?R=-P.highest.height/2-ne*H+H:R=-P.highest.height+H/2:c==="near"||g!==0?R=H/2:c==="center"?R=P.highest.height/2-ne*H:R=P.highest.height-ee*H,h&&(R*=-1),g!==0&&!B.showLabelBackdrop&&(T+=H/2*Math.sin(g))):(I=L,R=(1-ee)*H/2);let G;if(B.showLabelBackdrop){const D=vr(B.backdropPadding),J=P.heights[m],Q=P.widths[m];let ie=R-D.top,q=0-D.left;switch(W){case"middle":ie-=J/2;break;case"bottom":ie-=J;break}switch(O){case"center":q-=Q/2;break;case"right":q-=Q;break;case"inner":m===y-1?q-=Q:m>0&&(q-=Q/2);break}G={left:q,top:ie,width:Q+D.width,height:J+D.height,color:B.backdropColor}}b.push({label:k,font:N,textOffset:R,options:{rotation:g,color:X,strokeColor:re,strokeWidth:Z,textAlign:le,textBaseline:W,translation:[T,I],backdrop:G}})}return b}_getXAxisLabelAlignment(){const{position:e,ticks:r}=this.options;if(-cn(this.labelRotation))return e==="top"?"left":"right";let i="center";return r.align==="start"?i="left":r.align==="end"?i="right":r.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:r,ticks:{crossAlign:n,mirror:i,padding:s}}=this.options,a=this._getLabelSizes(),o=e+s,l=a.widest.width;let c,u;return r==="left"?i?(u=this.right+s,n==="near"?c="left":n==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-o,n==="near"?c="right":n==="center"?(c="center",u-=l/2):(c="left",u=this.left)):r==="right"?i?(u=this.left+s,n==="near"?c="right":n==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+o,n==="near"?c="left":n==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,r=this.options.position;if(r==="left"||r==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(r==="top"||r==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:r},left:n,top:i,width:s,height:a}=this;r&&(e.save(),e.fillStyle=r,e.fillRect(n,i,s,a),e.restore())}getLineWidthForValue(e){const r=this.options.grid;if(!this._isVisible()||!r.display)return 0;const i=this.ticks.findIndex(s=>s.value===e);return i>=0?r.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const r=this.options.grid,n=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,a;const o=(l,c,u)=>{!u.width||!u.color||(n.save(),n.lineWidth=u.width,n.strokeStyle=u.color,n.setLineDash(u.borderDash||[]),n.lineDashOffset=u.borderDashOffset,n.beginPath(),n.moveTo(l.x,l.y),n.lineTo(c.x,c.y),n.stroke(),n.restore())};if(r.display)for(s=0,a=i.length;s<a;++s){const l=i[s];r.drawOnChartArea&&o({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),r.drawTicks&&o({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:r,options:{border:n,grid:i}}=this,s=n.setContext(this.getContext()),a=n.display?s.width:0;if(!a)return;const o=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,h,f;this.isHorizontal()?(c=mi(e,this.left,a)-a/2,u=mi(e,this.right,o)+o/2,h=f=l):(h=mi(e,this.top,a)-a/2,f=mi(e,this.bottom,o)+o/2,c=u=l),r.save(),r.lineWidth=s.width,r.strokeStyle=s.color,r.beginPath(),r.moveTo(c,h),r.lineTo(u,f),r.stroke(),r.restore()}drawLabels(e){if(!this.options.ticks.display)return;const n=this.ctx,i=this._computeLabelArea();i&&qu(n,i);const s=this.getLabelItems(e);for(const a of s){const o=a.options,l=a.font,c=a.label,u=a.textOffset;Wo(n,c,0,u,l,o)}i&&Gu(n)}drawTitle(){const{ctx:e,options:{position:r,title:n,reverse:i}}=this;if(!n.display)return;const s=Pt(n.font),a=vr(n.padding),o=n.align;let l=s.lineHeight/2;r==="bottom"||r==="center"||Pe(r)?(l+=a.bottom,ft(n.text)&&(l+=s.lineHeight*(n.text.length-1))):l+=a.top;const{titleX:c,titleY:u,maxWidth:h,rotation:f}=rR(this,l,r,o);Wo(e,n.text,0,0,s,{color:n.color,maxWidth:h,rotation:f,textAlign:tR(o,r,i),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,r=e.ticks&&e.ticks.z||0,n=je(e.grid&&e.grid.z,-1),i=je(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==wa.prototype.draw?[{z:r,draw:s=>{this.draw(s)}}]:[{z:n,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:r,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const r=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",i=[];let s,a;for(s=0,a=r.length;s<a;++s){const o=r[s];o[n]===this.id&&(!e||o.type===e)&&i.push(o)}return i}_resolveTickFontOptions(e){const r=this.options.ticks.setContext(this.getContext(e));return Pt(r.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class $l{constructor(e,r,n){this.type=e,this.scope=r,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const r=Object.getPrototypeOf(e);let n;sR(r)&&(n=this.register(r));const i=this.items,s=e.id,a=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in i||(i[s]=e,nR(e,a,n),this.override&&ct.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const r=this.items,n=e.id,i=this.scope;n in r&&delete r[n],i&&n in ct[i]&&(delete ct[i][n],this.override&&delete Vi[n])}}function nR(t,e,r){const n=Fo(Object.create(null),[r?ct.get(r):{},ct.get(e),t.defaults]);ct.set(e,n),t.defaultRoutes&&iR(e,t.defaultRoutes),t.descriptors&&ct.describe(e,t.descriptors)}function iR(t,e){Object.keys(e).forEach(r=>{const n=r.split("."),i=n.pop(),s=[t].concat(n).join("."),a=e[r].split("."),o=a.pop(),l=a.join(".");ct.route(s,i,l,o)})}function sR(t){return"id"in t&&"defaults"in t}class aR{constructor(){this.controllers=new $l(Bs,"datasets",!0),this.elements=new $l(Or,"elements"),this.plugins=new $l(Object,"plugins"),this.scales=new $l(wa,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,r,n){[...r].forEach(i=>{const s=n||this._getRegistryForType(i);n||s.isForType(i)||s===this.plugins&&i.id?this._exec(e,s,i):Le(i,a=>{const o=n||this._getRegistryForType(a);this._exec(e,o,a)})})}_exec(e,r,n){const i=Bm(e);Ke(n["before"+i],[],n),r[e](n),Ke(n["after"+i],[],n)}_getRegistryForType(e){for(let r=0;r<this._typedRegistries.length;r++){const n=this._typedRegistries[r];if(n.isForType(e))return n}return this.plugins}_get(e,r,n){const i=r.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+n+".");return i}}var Br=new aR;class oR{constructor(){this._init=[]}notify(e,r,n,i){r==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=i?this._descriptors(e).filter(i):this._descriptors(e),a=this._notify(s,e,r,n);return r==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),a}_notify(e,r,n,i){i=i||{};for(const s of e){const a=s.plugin,o=a[n],l=[r,i,s.options];if(Ke(o,l,a)===!1&&i.cancelable)return!1}return!0}invalidate(){nt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const r=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),r}_createDescriptors(e,r){const n=e&&e.config,i=je(n.options&&n.options.plugins,{}),s=lR(n);return i===!1&&!r?[]:uR(e,s,i,r)}_notifyStateChanges(e){const r=this._oldCache||[],n=this._cache,i=(s,a)=>s.filter(o=>!a.some(l=>o.plugin.id===l.plugin.id));this._notify(i(r,n),e,"stop"),this._notify(i(n,r),e,"start")}}function lR(t){const e={},r=[],n=Object.keys(Br.plugins.items);for(let s=0;s<n.length;s++)r.push(Br.getPlugin(n[s]));const i=t.plugins||[];for(let s=0;s<i.length;s++){const a=i[s];r.indexOf(a)===-1&&(r.push(a),e[a.id]=!0)}return{plugins:r,localIds:e}}function cR(t,e){return!e&&t===!1?null:t===!0?{}:t}function uR(t,{plugins:e,localIds:r},n,i){const s=[],a=t.getContext();for(const o of e){const l=o.id,c=cR(n[l],i);c!==null&&s.push({plugin:o,options:dR(t.config,{plugin:o,local:r[l]},c,a)})}return s}function dR(t,{plugin:e,local:r},n,i){const s=t.pluginScopeKeys(e),a=t.getOptionScopes(n,s);return r&&e.defaults&&a.push(e.defaults),t.createResolver(a,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function cp(t,e){const r=ct.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||r.indexAxis||"x"}function hR(t,e){let r=t;return t==="_index_"?r=e:t==="_value_"&&(r=e==="x"?"y":"x"),r}function fR(t,e){return t===e?"_index_":"_value_"}function zy(t){if(t==="x"||t==="y"||t==="r")return t}function pR(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function up(t,...e){if(zy(t))return t;for(const r of e){const n=r.axis||pR(r.position)||t.length>1&&zy(t[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function Uy(t,e,r){if(r[e+"AxisID"]===t)return{axis:e}}function mR(t,e){if(e.data&&e.data.datasets){const r=e.data.datasets.filter(n=>n.xAxisID===t||n.yAxisID===t);if(r.length)return Uy(t,"x",r[0])||Uy(t,"y",r[0])}return{}}function gR(t,e){const r=Vi[t.type]||{scales:{}},n=e.scales||{},i=cp(t.type,e),s=Object.create(null);return Object.keys(n).forEach(a=>{const o=n[a];if(!Pe(o))return console.error(`Invalid scale configuration for scale: ${a}`);if(o._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const l=up(a,o,mR(a,t),ct.scales[o.type]),c=fR(l,i),u=r.scales||{};s[a]=fo(Object.create(null),[{axis:l},o,u[l],u[c]])}),t.data.datasets.forEach(a=>{const o=a.type||t.type,l=a.indexAxis||cp(o,e),u=(Vi[o]||{}).scales||{};Object.keys(u).forEach(h=>{const f=hR(h,l),p=a[f+"AxisID"]||f;s[p]=s[p]||Object.create(null),fo(s[p],[{axis:f},n[p],u[h]])})}),Object.keys(s).forEach(a=>{const o=s[a];fo(o,[ct.scales[o.type],ct.scale])}),s}function w_(t){const e=t.options||(t.options={});e.plugins=je(e.plugins,{}),e.scales=gR(t,e)}function v_(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function yR(t){return t=t||{},t.data=v_(t.data),w_(t),t}const $y=new Map,x_=new Set;function Wl(t,e){let r=$y.get(t);return r||(r=e(),$y.set(t,r),x_.add(r)),r}const Fa=(t,e,r)=>{const n=Bo(e,r);n!==void 0&&t.add(n)};class wR{constructor(e){this._config=yR(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=v_(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),w_(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Wl(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,r){return Wl(`${e}.transition.${r}`,()=>[[`datasets.${e}.transitions.${r}`,`transitions.${r}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,r){return Wl(`${e}-${r}`,()=>[[`datasets.${e}.elements.${r}`,`datasets.${e}`,`elements.${r}`,""]])}pluginScopeKeys(e){const r=e.id,n=this.type;return Wl(`${n}-plugin-${r}`,()=>[[`plugins.${r}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,r){const n=this._scopeCache;let i=n.get(e);return(!i||r)&&(i=new Map,n.set(e,i)),i}getOptionScopes(e,r,n){const{options:i,type:s}=this,a=this._cachedScopes(e,n),o=a.get(r);if(o)return o;const l=new Set;r.forEach(u=>{e&&(l.add(e),u.forEach(h=>Fa(l,e,h))),u.forEach(h=>Fa(l,i,h)),u.forEach(h=>Fa(l,Vi[s]||{},h)),u.forEach(h=>Fa(l,ct,h)),u.forEach(h=>Fa(l,op,h))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),x_.has(r)&&a.set(r,c),c}chartOptionScopes(){const{options:e,type:r}=this;return[e,Vi[r]||{},ct.datasets[r]||{},{type:r},ct,op]}resolveNamedOptions(e,r,n,i=[""]){const s={$shared:!0},{resolver:a,subPrefixes:o}=Wy(this._resolverCache,e,i);let l=a;if(xR(a,r)){s.$shared=!1,n=si(n)?n():n;const c=this.createResolver(e,n,o);l=na(a,n,c)}for(const c of r)s[c]=l[c];return s}createResolver(e,r,n=[""],i){const{resolver:s}=Wy(this._resolverCache,e,n);return Pe(r)?na(s,r,void 0,i):s}}function Wy(t,e,r){let n=t.get(e);n||(n=new Map,t.set(e,n));const i=r.join();let s=n.get(i);return s||(s={resolver:Vm(e,r),subPrefixes:r.filter(o=>!o.toLowerCase().includes("hover"))},n.set(i,s)),s}const vR=t=>Pe(t)&&Object.getOwnPropertyNames(t).some(e=>si(t[e]));function xR(t,e){const{isScriptable:r,isIndexable:n}=t_(t);for(const i of e){const s=r(i),a=n(i),o=(a||s)&&t[i];if(s&&(si(o)||vR(o))||a&&ft(o))return!0}return!1}var bR="4.4.7";const _R=["top","bottom","left","right","chartArea"];function Hy(t,e){return t==="top"||t==="bottom"||_R.indexOf(t)===-1&&e==="x"}function Vy(t,e){return function(r,n){return r[t]===n[t]?r[e]-n[e]:r[t]-n[t]}}function Ky(t){const e=t.chart,r=e.options.animation;e.notifyPlugins("afterRender"),Ke(r&&r.onComplete,[t],e)}function kR(t){const e=t.chart,r=e.options.animation;Ke(r&&r.onProgress,[t],e)}function b_(t){return Gm()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const _c={},qy=t=>{const e=b_(t);return Object.values(_c).filter(r=>r.canvas===e).pop()};function SR(t,e,r){const n=Object.keys(t);for(const i of n){const s=+i;if(s>=e){const a=t[i];delete t[i],(r>0||s>e)&&(t[s+r]=a)}}}function ER(t,e,r,n){return!r||t.type==="mouseout"?null:n?e:t}function Hl(t,e,r){return t.options.clip?t[r]:e[r]}function TR(t,e){const{xScale:r,yScale:n}=t;return r&&n?{left:Hl(r,e,"left"),right:Hl(r,e,"right"),top:Hl(n,e,"top"),bottom:Hl(n,e,"bottom")}:e}var jn;let Xu=(jn=class{static register(...e){Br.add(...e),Gy()}static unregister(...e){Br.remove(...e),Gy()}constructor(e,r){const n=this.config=new wR(r),i=b_(e),s=qy(i);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const a=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||WO(i)),this.platform.updateConfig(n);const o=this.platform.acquireContext(i,a.aspectRatio),l=o&&o.canvas,c=l&&l.height,u=l&&l.width;if(this.id=IP(),this.ctx=o,this.canvas=l,this.width=u,this.height=c,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new oR,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=e5(h=>this.update(h),a.resizeDelay||0),this._dataChanges=[],_c[this.id]=this,!o||!l){console.error("Failed to create chart: can't acquire context from the given item");return}en.listen(this,"complete",Ky),en.listen(this,"progress",kR),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:r},width:n,height:i,_aspectRatio:s}=this;return nt(e)?r&&s?s:i?n/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Br}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():vy(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return gy(this.canvas,this.ctx),this}stop(){return en.stop(this),this}resize(e,r){en.running(this)?this._resizeBeforeDraw={width:e,height:r}:this._resize(e,r)}_resize(e,r){const n=this.options,i=this.canvas,s=n.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(i,e,r,s),o=n.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,vy(this,o,!0)&&(this.notifyPlugins("resize",{size:a}),Ke(n.onResize,[this,a],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const r=this.options.scales||{};Le(r,(n,i)=>{n.id=i})}buildOrUpdateScales(){const e=this.options,r=e.scales,n=this.scales,i=Object.keys(n).reduce((a,o)=>(a[o]=!1,a),{});let s=[];r&&(s=s.concat(Object.keys(r).map(a=>{const o=r[a],l=up(a,o),c=l==="r",u=l==="x";return{options:o,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),Le(s,a=>{const o=a.options,l=o.id,c=up(l,o),u=je(o.type,a.dtype);(o.position===void 0||Hy(o.position,c)!==Hy(a.dposition))&&(o.position=a.dposition),i[l]=!0;let h=null;if(l in n&&n[l].type===u)h=n[l];else{const f=Br.getScale(u);h=new f({id:l,type:u,ctx:this.ctx,chart:this}),n[h.id]=h}h.init(o,e)}),Le(i,(a,o)=>{a||delete n[o]}),Le(n,a=>{pr.configure(this,a,a.options),pr.addBox(this,a)})}_updateMetasets(){const e=this._metasets,r=this.data.datasets.length,n=e.length;if(e.sort((i,s)=>i.index-s.index),n>r){for(let i=r;i<n;++i)this._destroyDatasetMeta(i);e.splice(r,n-r)}this._sortedMetasets=e.slice(0).sort(Vy("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:r}}=this;e.length>r.length&&delete this._stacks,e.forEach((n,i)=>{r.filter(s=>s===n._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],r=this.data.datasets;let n,i;for(this._removeUnreferencedMetasets(),n=0,i=r.length;n<i;n++){const s=r[n];let a=this.getDatasetMeta(n);const o=s.type||this.config.type;if(a.type&&a.type!==o&&(this._destroyDatasetMeta(n),a=this.getDatasetMeta(n)),a.type=o,a.indexAxis=s.indexAxis||cp(o,this.options),a.order=s.order||0,a.index=n,a.label=""+s.label,a.visible=this.isDatasetVisible(n),a.controller)a.controller.updateIndex(n),a.controller.linkScales();else{const l=Br.getController(o),{datasetElementType:c,dataElementType:u}=ct.datasets[o];Object.assign(l,{dataElementType:Br.getElement(u),datasetElementType:c&&Br.getElement(c)}),a.controller=new l(this,n),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){Le(this.data.datasets,(e,r)=>{this.getDatasetMeta(r).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const r=this.config;r.update();const n=this._options=r.createResolver(r.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:h}=this.getDatasetMeta(c),f=!i&&s.indexOf(h)===-1;h.buildOrUpdateElements(f),a=Math.max(+h.getMaxOverflow(),a)}a=this._minPadding=n.layout.autoPadding?a:0,this._updateLayout(a),i||Le(s,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Vy("z","_idx"));const{_active:o,_lastEvent:l}=this;l?this._eventHandler(l,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){Le(this.scales,e=>{pr.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,r=new Set(Object.keys(this._listeners)),n=new Set(e.events);(!ay(r,n)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,r=this._getUniformDataChanges()||[];for(const{method:n,start:i,count:s}of r){const a=n==="_removeElements"?-s:s;SR(e,i,a)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const r=this.data.datasets.length,n=s=>new Set(e.filter(a=>a[0]===s).map((a,o)=>o+","+a.splice(1).join(","))),i=n(0);for(let s=1;s<r;s++)if(!ay(i,n(s)))return;return Array.from(i).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;pr.update(this,this.width,this.height,e);const r=this.chartArea,n=r.width<=0||r.height<=0;this._layers=[],Le(this.boxes,i=>{n&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,s)=>{i._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let r=0,n=this.data.datasets.length;r<n;++r)this.getDatasetMeta(r).controller.configure();for(let r=0,n=this.data.datasets.length;r<n;++r)this._updateDataset(r,si(e)?e({datasetIndex:r}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,r){const n=this.getDatasetMeta(e),i={meta:n,index:e,mode:r,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(n.controller._update(r),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(en.has(this)?this.attached&&!en.running(this)&&en.start(this):(this.draw(),Ky({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:n,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const r=this._layers;for(e=0;e<r.length&&r[e].z<=0;++e)r[e].draw(this.chartArea);for(this._drawDatasets();e<r.length;++e)r[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const r=this._sortedMetasets,n=[];let i,s;for(i=0,s=r.length;i<s;++i){const a=r[i];(!e||a.visible)&&n.push(a)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let r=e.length-1;r>=0;--r)this._drawDataset(e[r]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const r=this.ctx,n=e._clip,i=!n.disabled,s=TR(e,this.chartArea),a={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",a)!==!1&&(i&&qu(r,{left:n.left===!1?0:s.left-n.left,right:n.right===!1?this.width:s.right+n.right,top:n.top===!1?0:s.top-n.top,bottom:n.bottom===!1?this.height:s.bottom+n.bottom}),e.controller.draw(),i&&Gu(r),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}isPointInArea(e){return $o(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,r,n,i){const s=_O.modes[r];return typeof s=="function"?s(this,e,n,i):[]}getDatasetMeta(e){const r=this.data.datasets[e],n=this._metasets;let i=n.filter(s=>s&&s._dataset===r).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:r&&r.order||0,index:e,_dataset:r,_parsed:[],_sorted:!1},n.push(i)),i}getContext(){return this.$context||(this.$context=ts(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const r=this.data.datasets[e];if(!r)return!1;const n=this.getDatasetMeta(e);return typeof n.hidden=="boolean"?!n.hidden:!r.hidden}setDatasetVisibility(e,r){const n=this.getDatasetMeta(e);n.hidden=!r}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,r,n){const i=n?"show":"hide",s=this.getDatasetMeta(e),a=s.controller._resolveAnimations(void 0,i);au(r)?(s.data[r].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),a.update(s,{visible:n}),this.update(o=>o.datasetIndex===e?i:void 0))}hide(e,r){this._updateVisibility(e,r,!1)}show(e,r){this._updateVisibility(e,r,!0)}_destroyDatasetMeta(e){const r=this._metasets[e];r&&r.controller&&r.controller._destroy(),delete this._metasets[e]}_stop(){let e,r;for(this.stop(),en.remove(this),e=0,r=this.data.datasets.length;e<r;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:r}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),gy(e,r),this.platform.releaseContext(r),this.canvas=null,this.ctx=null),delete _c[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,r=this.platform,n=(s,a)=>{r.addEventListener(this,s,a),e[s]=a},i=(s,a,o)=>{s.offsetX=a,s.offsetY=o,this._eventHandler(s)};Le(this.options.events,s=>n(s,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,r=this.platform,n=(l,c)=>{r.addEventListener(this,l,c),e[l]=c},i=(l,c)=>{e[l]&&(r.removeEventListener(this,l,c),delete e[l])},s=(l,c)=>{this.canvas&&this.resize(l,c)};let a;const o=()=>{i("attach",o),this.attached=!0,this.resize(),n("resize",s),n("detach",a)};a=()=>{this.attached=!1,i("resize",s),this._stop(),this._resize(0,0),n("attach",o)},r.isAttached(this.canvas)?o():a()}unbindEvents(){Le(this._listeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._listeners={},Le(this._responsiveListeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,r,n){const i=n?"set":"remove";let s,a,o,l;for(r==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+i+"DatasetHoverStyle"]()),o=0,l=e.length;o<l;++o){a=e[o];const c=a&&this.getDatasetMeta(a.datasetIndex).controller;c&&c[i+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const r=this._active||[],n=e.map(({datasetIndex:s,index:a})=>{const o=this.getDatasetMeta(s);if(!o)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:o.data[a],index:a}});!iu(n,r)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,r))}notifyPlugins(e,r,n){return this._plugins.notify(this,e,r,n)}isPluginEnabled(e){return this._plugins._cache.filter(r=>r.plugin.id===e).length===1}_updateHoverStyles(e,r,n){const i=this.options.hover,s=(l,c)=>l.filter(u=>!c.some(h=>u.datasetIndex===h.datasetIndex&&u.index===h.index)),a=s(r,e),o=n?e:s(e,r);a.length&&this.updateHoverStyle(a,i.mode,!1),o.length&&i.mode&&this.updateHoverStyle(o,i.mode,!0)}_eventHandler(e,r){const n={event:e,replay:r,cancelable:!0,inChartArea:this.isPointInArea(e)},i=a=>(a.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",n,i)===!1)return;const s=this._handleEvent(e,r,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,i),(s||n.changed)&&this.render(),this}_handleEvent(e,r,n){const{_active:i=[],options:s}=this,a=r,o=this._getActiveElements(e,i,n,a),l=UP(e),c=ER(e,this._lastEvent,n,l);n&&(this._lastEvent=null,Ke(s.onHover,[e,o,this],this),l&&Ke(s.onClick,[e,o,this],this));const u=!iu(o,i);return(u||r)&&(this._active=o,this._updateHoverStyles(o,i,r)),this._lastEvent=c,u}_getActiveElements(e,r,n,i){if(e.type==="mouseout")return[];if(!n)return r;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,i)}},ve(jn,"defaults",ct),ve(jn,"instances",_c),ve(jn,"overrides",Vi),ve(jn,"registry",Br),ve(jn,"version",bR),ve(jn,"getChart",qy),jn);function Gy(){return Le(Xu.instances,t=>t._plugins.invalidate())}function NR(t,e,r){const{startAngle:n,pixelMargin:i,x:s,y:a,outerRadius:o,innerRadius:l}=e;let c=i/o;t.beginPath(),t.arc(s,a,o,n-c,r+c),l>i?(c=i/l,t.arc(s,a,l,r+c,n-c,!0)):t.arc(s,a,i,r+mt,n-mt),t.closePath(),t.clip()}function AR(t){return Hm(t,["outerStart","outerEnd","innerStart","innerEnd"])}function jR(t,e,r,n){const i=AR(t.options.borderRadius),s=(r-e)/2,a=Math.min(s,n*e/2),o=l=>{const c=(r-Math.min(s,l))*n/2;return Ct(l,0,Math.min(s,c))};return{outerStart:o(i.outerStart),outerEnd:o(i.outerEnd),innerStart:Ct(i.innerStart,0,a),innerEnd:Ct(i.innerEnd,0,a)}}function us(t,e,r,n){return{x:r+t*Math.cos(e),y:n+t*Math.sin(e)}}function du(t,e,r,n,i,s){const{x:a,y:o,startAngle:l,pixelMargin:c,innerRadius:u}=e,h=Math.max(e.outerRadius+n+r-c,0),f=u>0?u+n+r+c:0;let p=0;const w=i-l;if(n){const B=u>0?u-n:0,ne=h>0?h-n:0,X=(B+ne)/2,re=X!==0?w*X/(X+n):w;p=(w-re)/2}const g=Math.max(.001,w*h-r/it)/h,b=(w-g)/2,m=l+b+p,y=i-b-p,{outerStart:_,outerEnd:k,innerStart:T,innerEnd:I}=jR(e,f,h,y-m),O=h-_,L=h-k,N=m+_/O,H=y-k/L,ee=f+T,R=f+I,W=m+T/ee,P=y-I/R;if(t.beginPath(),s){const B=(N+H)/2;if(t.arc(a,o,h,N,B),t.arc(a,o,h,B,H),k>0){const Z=us(L,H,a,o);t.arc(Z.x,Z.y,k,H,y+mt)}const ne=us(R,y,a,o);if(t.lineTo(ne.x,ne.y),I>0){const Z=us(R,P,a,o);t.arc(Z.x,Z.y,I,y+mt,P+Math.PI)}const X=(y-I/f+(m+T/f))/2;if(t.arc(a,o,f,y-I/f,X,!0),t.arc(a,o,f,X,m+T/f,!0),T>0){const Z=us(ee,W,a,o);t.arc(Z.x,Z.y,T,W+Math.PI,m-mt)}const re=us(O,m,a,o);if(t.lineTo(re.x,re.y),_>0){const Z=us(O,N,a,o);t.arc(Z.x,Z.y,_,m-mt,N)}}else{t.moveTo(a,o);const B=Math.cos(N)*h+a,ne=Math.sin(N)*h+o;t.lineTo(B,ne);const X=Math.cos(H)*h+a,re=Math.sin(H)*h+o;t.lineTo(X,re)}t.closePath()}function CR(t,e,r,n,i){const{fullCircles:s,startAngle:a,circumference:o}=e;let l=e.endAngle;if(s){du(t,e,r,n,l,i);for(let c=0;c<s;++c)t.fill();isNaN(o)||(l=a+(o%Qe||Qe))}return du(t,e,r,n,l,i),t.fill(),l}function PR(t,e,r,n,i){const{fullCircles:s,startAngle:a,circumference:o,options:l}=e,{borderWidth:c,borderJoinStyle:u,borderDash:h,borderDashOffset:f}=l,p=l.borderAlign==="inner";if(!c)return;t.setLineDash(h||[]),t.lineDashOffset=f,p?(t.lineWidth=c*2,t.lineJoin=u||"round"):(t.lineWidth=c,t.lineJoin=u||"bevel");let w=e.endAngle;if(s){du(t,e,r,n,w,i);for(let g=0;g<s;++g)t.stroke();isNaN(o)||(w=a+(o%Qe||Qe))}p&&NR(t,e,w),s||(du(t,e,r,n,w,i),t.stroke())}class Ja extends Or{constructor(r){super();ve(this,"circumference");ve(this,"endAngle");ve(this,"fullCircles");ve(this,"innerRadius");ve(this,"outerRadius");ve(this,"pixelMargin");ve(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,r&&Object.assign(this,r)}inRange(r,n,i){const s=this.getProps(["x","y"],i),{angle:a,distance:o}=q1(s,{x:r,y:n}),{startAngle:l,endAngle:c,innerRadius:u,outerRadius:h,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),p=(this.options.spacing+this.options.borderWidth)/2,w=je(f,c-l),g=Uo(a,l,c)&&l!==c,b=w>=Qe||g,m=un(o,u+p,h+p);return b&&m}getCenterPoint(r){const{x:n,y:i,startAngle:s,endAngle:a,innerRadius:o,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],r),{offset:c,spacing:u}=this.options,h=(s+a)/2,f=(o+l+u+c)/2;return{x:n+Math.cos(h)*f,y:i+Math.sin(h)*f}}tooltipPosition(r){return this.getCenterPoint(r)}draw(r){const{options:n,circumference:i}=this,s=(n.offset||0)/4,a=(n.spacing||0)/2,o=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=i>Qe?Math.floor(i/Qe):0,i===0||this.innerRadius<0||this.outerRadius<0)return;r.save();const l=(this.startAngle+this.endAngle)/2;r.translate(Math.cos(l)*s,Math.sin(l)*s);const c=1-Math.sin(Math.min(it,i||0)),u=s*c;r.fillStyle=n.backgroundColor,r.strokeStyle=n.borderColor,CR(r,this,u,a,o),PR(r,this,u,a,o),r.restore()}}ve(Ja,"id","arc"),ve(Ja,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),ve(Ja,"defaultRoutes",{backgroundColor:"backgroundColor"}),ve(Ja,"descriptors",{_scriptable:!0,_indexable:r=>r!=="borderDash"});function __(t,e,r=e){t.lineCap=je(r.borderCapStyle,e.borderCapStyle),t.setLineDash(je(r.borderDash,e.borderDash)),t.lineDashOffset=je(r.borderDashOffset,e.borderDashOffset),t.lineJoin=je(r.borderJoinStyle,e.borderJoinStyle),t.lineWidth=je(r.borderWidth,e.borderWidth),t.strokeStyle=je(r.borderColor,e.borderColor)}function OR(t,e,r){t.lineTo(r.x,r.y)}function RR(t){return t.stepped?f5:t.tension||t.cubicInterpolationMode==="monotone"?p5:OR}function k_(t,e,r={}){const n=t.length,{start:i=0,end:s=n-1}=r,{start:a,end:o}=e,l=Math.max(i,a),c=Math.min(s,o),u=i<a&&s<a||i>o&&s>o;return{count:n,start:l,loop:e.loop,ilen:c<l&&!u?n+c-l:c-l}}function DR(t,e,r,n){const{points:i,options:s}=e,{count:a,start:o,loop:l,ilen:c}=k_(i,r,n),u=RR(s);let{move:h=!0,reverse:f}=n||{},p,w,g;for(p=0;p<=c;++p)w=i[(o+(f?c-p:p))%a],!w.skip&&(h?(t.moveTo(w.x,w.y),h=!1):u(t,g,w,f,s.stepped),g=w);return l&&(w=i[(o+(f?c:0))%a],u(t,g,w,f,s.stepped)),!!l}function IR(t,e,r,n){const i=e.points,{count:s,start:a,ilen:o}=k_(i,r,n),{move:l=!0,reverse:c}=n||{};let u=0,h=0,f,p,w,g,b,m;const y=k=>(a+(c?o-k:k))%s,_=()=>{g!==b&&(t.lineTo(u,b),t.lineTo(u,g),t.lineTo(u,m))};for(l&&(p=i[y(0)],t.moveTo(p.x,p.y)),f=0;f<=o;++f){if(p=i[y(f)],p.skip)continue;const k=p.x,T=p.y,I=k|0;I===w?(T<g?g=T:T>b&&(b=T),u=(h*u+k)/++h):(_(),t.lineTo(k,T),w=I,h=0,g=b=T),m=T}_()}function dp(t){const e=t.options,r=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!r?IR:DR}function MR(t){return t.stepped?K5:t.tension||t.cubicInterpolationMode==="monotone"?q5:Si}function LR(t,e,r,n){let i=e._path;i||(i=e._path=new Path2D,e.path(i,r,n)&&i.closePath()),__(t,e.options),t.stroke(i)}function FR(t,e,r,n){const{segments:i,options:s}=e,a=dp(e);for(const o of i)__(t,s,o.style),t.beginPath(),a(t,e,o,{start:r,end:r+n-1})&&t.closePath(),t.stroke()}const BR=typeof Path2D=="function";function zR(t,e,r,n){BR&&!e.options.segment?LR(t,e,r,n):FR(t,e,r,n)}class Wn extends Or{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,r){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const i=n.spanGaps?this._loop:this._fullLoop;F5(this._points,n,e,i,r),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Z5(this,this.options.segment))}first(){const e=this.segments,r=this.points;return e.length&&r[e[0].start]}last(){const e=this.segments,r=this.points,n=e.length;return n&&r[e[n-1].end]}interpolate(e,r){const n=this.options,i=e[r],s=this.points,a=u_(this,{property:r,start:i,end:i});if(!a.length)return;const o=[],l=MR(n);let c,u;for(c=0,u=a.length;c<u;++c){const{start:h,end:f}=a[c],p=s[h],w=s[f];if(p===w){o.push(p);continue}const g=Math.abs((i-p[r])/(w[r]-p[r])),b=l(p,w,g,n.stepped);b[r]=e[r],o.push(b)}return o.length===1?o[0]:o}pathSegment(e,r,n){return dp(this)(e,this,r,n)}path(e,r,n){const i=this.segments,s=dp(this);let a=this._loop;r=r||0,n=n||this.points.length-r;for(const o of i)a&=s(e,this,o,{start:r,end:r+n-1});return!!a}draw(e,r,n,i){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),zR(e,this,n,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}ve(Wn,"id","line"),ve(Wn,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),ve(Wn,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),ve(Wn,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function Yy(t,e,r,n){const i=t.options,{[r]:s}=t.getProps([r],n);return Math.abs(e-s)<i.radius+i.hitRadius}class kc extends Or{constructor(r){super();ve(this,"parsed");ve(this,"skip");ve(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,r&&Object.assign(this,r)}inRange(r,n,i){const s=this.options,{x:a,y:o}=this.getProps(["x","y"],i);return Math.pow(r-a,2)+Math.pow(n-o,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(r,n){return Yy(this,r,"x",n)}inYRange(r,n){return Yy(this,r,"y",n)}getCenterPoint(r){const{x:n,y:i}=this.getProps(["x","y"],r);return{x:n,y:i}}size(r){r=r||this.options||{};let n=r.radius||0;n=Math.max(n,n&&r.hoverRadius||0);const i=n&&r.borderWidth||0;return(n+i)*2}draw(r,n){const i=this.options;this.skip||i.radius<.1||!$o(this,n,this.size(i)/2)||(r.strokeStyle=i.borderColor,r.lineWidth=i.borderWidth,r.fillStyle=i.backgroundColor,lp(r,i,this.x,this.y))}getRange(){const r=this.options||{};return r.radius+r.hitRadius}}ve(kc,"id","point"),ve(kc,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),ve(kc,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function S_(t,e){const{x:r,y:n,base:i,width:s,height:a}=t.getProps(["x","y","base","width","height"],e);let o,l,c,u,h;return t.horizontal?(h=a/2,o=Math.min(r,i),l=Math.max(r,i),c=n-h,u=n+h):(h=s/2,o=r-h,l=r+h,c=Math.min(n,i),u=Math.max(n,i)),{left:o,top:c,right:l,bottom:u}}function Hn(t,e,r,n){return t?0:Ct(e,r,n)}function UR(t,e,r){const n=t.options.borderWidth,i=t.borderSkipped,s=e_(n);return{t:Hn(i.top,s.top,0,r),r:Hn(i.right,s.right,0,e),b:Hn(i.bottom,s.bottom,0,r),l:Hn(i.left,s.left,0,e)}}function $R(t,e,r){const{enableBorderRadius:n}=t.getProps(["enableBorderRadius"]),i=t.options.borderRadius,s=Ls(i),a=Math.min(e,r),o=t.borderSkipped,l=n||Pe(i);return{topLeft:Hn(!l||o.top||o.left,s.topLeft,0,a),topRight:Hn(!l||o.top||o.right,s.topRight,0,a),bottomLeft:Hn(!l||o.bottom||o.left,s.bottomLeft,0,a),bottomRight:Hn(!l||o.bottom||o.right,s.bottomRight,0,a)}}function WR(t){const e=S_(t),r=e.right-e.left,n=e.bottom-e.top,i=UR(t,r/2,n/2),s=$R(t,r/2,n/2);return{outer:{x:e.left,y:e.top,w:r,h:n,radius:s},inner:{x:e.left+i.l,y:e.top+i.t,w:r-i.l-i.r,h:n-i.t-i.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,s.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(i.b,i.r))}}}}function eh(t,e,r,n){const i=e===null,s=r===null,o=t&&!(i&&s)&&S_(t,n);return o&&(i||un(e,o.left,o.right))&&(s||un(r,o.top,o.bottom))}function HR(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function VR(t,e){t.rect(e.x,e.y,e.w,e.h)}function th(t,e,r={}){const n=t.x!==r.x?-e:0,i=t.y!==r.y?-e:0,s=(t.x+t.w!==r.x+r.w?e:0)-n,a=(t.y+t.h!==r.y+r.h?e:0)-i;return{x:t.x+n,y:t.y+i,w:t.w+s,h:t.h+a,radius:t.radius}}class Sc extends Or{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:r,options:{borderColor:n,backgroundColor:i}}=this,{inner:s,outer:a}=WR(this),o=HR(a.radius)?lu:VR;e.save(),(a.w!==s.w||a.h!==s.h)&&(e.beginPath(),o(e,th(a,r,s)),e.clip(),o(e,th(s,-r,a)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),o(e,th(s,r)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,r,n){return eh(this,e,r,n)}inXRange(e,r){return eh(this,e,null,r)}inYRange(e,r){return eh(this,null,e,r)}getCenterPoint(e){const{x:r,y:n,base:i,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(r+i)/2:r,y:s?n:(n+i)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}ve(Sc,"id","bar"),ve(Sc,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),ve(Sc,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function KR(t,e,r){const n=t.segments,i=t.points,s=e.points,a=[];for(const o of n){let{start:l,end:c}=o;c=Qm(l,c,i);const u=hp(r,i[l],i[c],o.loop);if(!e.segments){a.push({source:o,target:u,start:i[l],end:i[c]});continue}const h=u_(e,u);for(const f of h){const p=hp(r,s[f.start],s[f.end],f.loop),w=c_(o,i,p);for(const g of w)a.push({source:g,target:f,start:{[r]:Xy(u,p,"start",Math.max)},end:{[r]:Xy(u,p,"end",Math.min)}})}}return a}function hp(t,e,r,n){if(n)return;let i=e[t],s=r[t];return t==="angle"&&(i=zr(i),s=zr(s)),{property:t,start:i,end:s}}function qR(t,e){const{x:r=null,y:n=null}=t||{},i=e.points,s=[];return e.segments.forEach(({start:a,end:o})=>{o=Qm(a,o,i);const l=i[a],c=i[o];n!==null?(s.push({x:l.x,y:n}),s.push({x:c.x,y:n})):r!==null&&(s.push({x:r,y:l.y}),s.push({x:r,y:c.y}))}),s}function Qm(t,e,r){for(;e>t;e--){const n=r[e];if(!isNaN(n.x)&&!isNaN(n.y))break}return e}function Xy(t,e,r,n){return t&&e?n(t[r],e[r]):t?t[r]:e?e[r]:0}function E_(t,e){let r=[],n=!1;return ft(t)?(n=!0,r=t):r=qR(t,e),r.length?new Wn({points:r,options:{tension:0},_loop:n,_fullLoop:n}):null}function Qy(t){return t&&t.fill!==!1}function GR(t,e,r){let i=t[e].fill;const s=[e];let a;if(!r)return i;for(;i!==!1&&s.indexOf(i)===-1;){if(!It(i))return i;if(a=t[i],!a)return!1;if(a.visible)return i;s.push(i),i=a.fill}return!1}function YR(t,e,r){const n=ZR(t);if(Pe(n))return isNaN(n.value)?!1:n;let i=parseFloat(n);return It(i)&&Math.floor(i)===i?XR(n[0],e,i,r):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function XR(t,e,r,n){return(t==="-"||t==="+")&&(r=e+r),r===e||r<0||r>=n?!1:r}function QR(t,e){let r=null;return t==="start"?r=e.bottom:t==="end"?r=e.top:Pe(t)?r=e.getPixelForValue(t.value):e.getBasePixel&&(r=e.getBasePixel()),r}function JR(t,e,r){let n;return t==="start"?n=r:t==="end"?n=e.options.reverse?e.min:e.max:Pe(t)?n=t.value:n=e.getBaseValue(),n}function ZR(t){const e=t.options,r=e.fill;let n=je(r&&r.target,r);return n===void 0&&(n=!!e.backgroundColor),n===!1||n===null?!1:n===!0?"origin":n}function eD(t){const{scale:e,index:r,line:n}=t,i=[],s=n.segments,a=n.points,o=tD(e,r);o.push(E_({x:null,y:e.bottom},n));for(let l=0;l<s.length;l++){const c=s[l];for(let u=c.start;u<=c.end;u++)rD(i,a[u],o)}return new Wn({points:i,options:{}})}function tD(t,e){const r=[],n=t.getMatchingVisibleMetas("line");for(let i=0;i<n.length;i++){const s=n[i];if(s.index===e)break;s.hidden||r.unshift(s.dataset)}return r}function rD(t,e,r){const n=[];for(let i=0;i<r.length;i++){const s=r[i],{first:a,last:o,point:l}=nD(s,e,"x");if(!(!l||a&&o)){if(a)n.unshift(l);else if(t.push(l),!o)break}}t.push(...n)}function nD(t,e,r){const n=t.interpolate(e,r);if(!n)return{};const i=n[r],s=t.segments,a=t.points;let o=!1,l=!1;for(let c=0;c<s.length;c++){const u=s[c],h=a[u.start][r],f=a[u.end][r];if(un(i,h,f)){o=i===h,l=i===f;break}}return{first:o,last:l,point:n}}class T_{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,r,n){const{x:i,y:s,radius:a}=this;return r=r||{start:0,end:Qe},e.arc(i,s,a,r.end,r.start,!0),!n.bounds}interpolate(e){const{x:r,y:n,radius:i}=this,s=e.angle;return{x:r+Math.cos(s)*i,y:n+Math.sin(s)*i,angle:s}}}function iD(t){const{chart:e,fill:r,line:n}=t;if(It(r))return sD(e,r);if(r==="stack")return eD(t);if(r==="shape")return!0;const i=aD(t);return i instanceof T_?i:E_(i,n)}function sD(t,e){const r=t.getDatasetMeta(e);return r&&t.isDatasetVisible(e)?r.dataset:null}function aD(t){return(t.scale||{}).getPointPositionForValue?lD(t):oD(t)}function oD(t){const{scale:e={},fill:r}=t,n=QR(r,e);if(It(n)){const i=e.isHorizontal();return{x:i?n:null,y:i?null:n}}return null}function lD(t){const{scale:e,fill:r}=t,n=e.options,i=e.getLabels().length,s=n.reverse?e.max:e.min,a=JR(r,e,s),o=[];if(n.grid.circular){const l=e.getPointPositionForValue(0,s);return new T_({x:l.x,y:l.y,radius:e.getDistanceFromCenterForValue(a)})}for(let l=0;l<i;++l)o.push(e.getPointPositionForValue(l,a));return o}function rh(t,e,r){const n=iD(e),{line:i,scale:s,axis:a}=e,o=i.options,l=o.fill,c=o.backgroundColor,{above:u=c,below:h=c}=l||{};n&&i.points.length&&(qu(t,r),cD(t,{line:i,target:n,above:u,below:h,area:r,scale:s,axis:a}),Gu(t))}function cD(t,e){const{line:r,target:n,above:i,below:s,area:a,scale:o}=e,l=r._loop?"angle":e.axis;t.save(),l==="x"&&s!==i&&(Jy(t,n,a.top),Zy(t,{line:r,target:n,color:i,scale:o,property:l}),t.restore(),t.save(),Jy(t,n,a.bottom)),Zy(t,{line:r,target:n,color:s,scale:o,property:l}),t.restore()}function Jy(t,e,r){const{segments:n,points:i}=e;let s=!0,a=!1;t.beginPath();for(const o of n){const{start:l,end:c}=o,u=i[l],h=i[Qm(l,c,i)];s?(t.moveTo(u.x,u.y),s=!1):(t.lineTo(u.x,r),t.lineTo(u.x,u.y)),a=!!e.pathSegment(t,o,{move:a}),a?t.closePath():t.lineTo(h.x,r)}t.lineTo(e.first().x,r),t.closePath(),t.clip()}function Zy(t,e){const{line:r,target:n,property:i,color:s,scale:a}=e,o=KR(r,n,i);for(const{source:l,target:c,start:u,end:h}of o){const{style:{backgroundColor:f=s}={}}=l,p=n!==!0;t.save(),t.fillStyle=f,uD(t,a,p&&hp(i,u,h)),t.beginPath();const w=!!r.pathSegment(t,l);let g;if(p){w?t.closePath():ew(t,n,h,i);const b=!!n.pathSegment(t,c,{move:w,reverse:!0});g=w&&b,g||ew(t,n,u,i)}t.closePath(),t.fill(g?"evenodd":"nonzero"),t.restore()}}function uD(t,e,r){const{top:n,bottom:i}=e.chart.chartArea,{property:s,start:a,end:o}=r||{};s==="x"&&(t.beginPath(),t.rect(a,n,o-a,i-n),t.clip())}function ew(t,e,r,n){const i=e.interpolate(r,n);i&&t.lineTo(i.x,i.y)}var dD={id:"filler",afterDatasetsUpdate(t,e,r){const n=(t.data.datasets||[]).length,i=[];let s,a,o,l;for(a=0;a<n;++a)s=t.getDatasetMeta(a),o=s.dataset,l=null,o&&o.options&&o instanceof Wn&&(l={visible:t.isDatasetVisible(a),index:a,fill:YR(o,a,n),chart:t,axis:s.controller.options.indexAxis,scale:s.vScale,line:o}),s.$filler=l,i.push(l);for(a=0;a<n;++a)l=i[a],!(!l||l.fill===!1)&&(l.fill=GR(i,a,r.propagate))},beforeDraw(t,e,r){const n=r.drawTime==="beforeDraw",i=t.getSortedVisibleDatasetMetas(),s=t.chartArea;for(let a=i.length-1;a>=0;--a){const o=i[a].$filler;o&&(o.line.updateControlPoints(s,o.axis),n&&o.fill&&rh(t.ctx,o,s))}},beforeDatasetsDraw(t,e,r){if(r.drawTime!=="beforeDatasetsDraw")return;const n=t.getSortedVisibleDatasetMetas();for(let i=n.length-1;i>=0;--i){const s=n[i].$filler;Qy(s)&&rh(t.ctx,s,t.chartArea)}},beforeDatasetDraw(t,e,r){const n=e.meta.$filler;!Qy(n)||r.drawTime!=="beforeDatasetDraw"||rh(t.ctx,n,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const tw=(t,e)=>{let{boxHeight:r=e,boxWidth:n=e}=t;return t.usePointStyle&&(r=Math.min(r,e),n=t.pointStyleWidth||Math.min(n,e)),{boxWidth:n,boxHeight:r,itemHeight:Math.max(e,r)}},hD=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class rw extends Or{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,r,n){this.maxWidth=e,this.maxHeight=r,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let r=Ke(e.generateLabels,[this.chart],this)||[];e.filter&&(r=r.filter(n=>e.filter(n,this.chart.data))),e.sort&&(r=r.sort((n,i)=>e.sort(n,i,this.chart.data))),this.options.reverse&&r.reverse(),this.legendItems=r}fit(){const{options:e,ctx:r}=this;if(!e.display){this.width=this.height=0;return}const n=e.labels,i=Pt(n.font),s=i.size,a=this._computeTitleHeight(),{boxWidth:o,itemHeight:l}=tw(n,s);let c,u;r.font=i.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(a,s,o,l)+10):(u=this.maxHeight,c=this._fitCols(a,i,o,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,r,n,i){const{ctx:s,maxWidth:a,options:{labels:{padding:o}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=i+o;let h=e;s.textAlign="left",s.textBaseline="middle";let f=-1,p=-u;return this.legendItems.forEach((w,g)=>{const b=n+r/2+s.measureText(w.text).width;(g===0||c[c.length-1]+b+2*o>a)&&(h+=u,c[c.length-(g>0?0:1)]=0,p+=u,f++),l[g]={left:0,top:p,row:f,width:b,height:i},c[c.length-1]+=b+o}),h}_fitCols(e,r,n,i){const{ctx:s,maxHeight:a,options:{labels:{padding:o}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=a-e;let h=o,f=0,p=0,w=0,g=0;return this.legendItems.forEach((b,m)=>{const{itemWidth:y,itemHeight:_}=fD(n,r,s,b,i);m>0&&p+_+2*o>u&&(h+=f+o,c.push({width:f,height:p}),w+=f+o,g++,f=p=0),l[m]={left:w,top:p,col:g,width:y,height:_},f=Math.max(f,y),p+=_+o}),h+=f,c.push({width:f,height:p}),h}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:r,options:{align:n,labels:{padding:i},rtl:s}}=this,a=Fs(s,this.left,this.width);if(this.isHorizontal()){let o=0,l=At(n,this.left+i,this.right-this.lineWidths[o]);for(const c of r)o!==c.row&&(o=c.row,l=At(n,this.left+i,this.right-this.lineWidths[o])),c.top+=this.top+e+i,c.left=a.leftForLtr(a.x(l),c.width),l+=c.width+i}else{let o=0,l=At(n,this.top+e+i,this.bottom-this.columnSizes[o].height);for(const c of r)c.col!==o&&(o=c.col,l=At(n,this.top+e+i,this.bottom-this.columnSizes[o].height)),c.top=l,c.left+=this.left+i,c.left=a.leftForLtr(a.x(c.left),c.width),l+=c.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;qu(e,this),this._draw(),Gu(e)}}_draw(){const{options:e,columnSizes:r,lineWidths:n,ctx:i}=this,{align:s,labels:a}=e,o=ct.color,l=Fs(e.rtl,this.left,this.width),c=Pt(a.font),{padding:u}=a,h=c.size,f=h/2;let p;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=c.string;const{boxWidth:w,boxHeight:g,itemHeight:b}=tw(a,h),m=function(I,O,L){if(isNaN(w)||w<=0||isNaN(g)||g<0)return;i.save();const N=je(L.lineWidth,1);if(i.fillStyle=je(L.fillStyle,o),i.lineCap=je(L.lineCap,"butt"),i.lineDashOffset=je(L.lineDashOffset,0),i.lineJoin=je(L.lineJoin,"miter"),i.lineWidth=N,i.strokeStyle=je(L.strokeStyle,o),i.setLineDash(je(L.lineDash,[])),a.usePointStyle){const H={radius:g*Math.SQRT2/2,pointStyle:L.pointStyle,rotation:L.rotation,borderWidth:N},ee=l.xPlus(I,w/2),R=O+f;Z1(i,H,ee,R,a.pointStyleWidth&&w)}else{const H=O+Math.max((h-g)/2,0),ee=l.leftForLtr(I,w),R=Ls(L.borderRadius);i.beginPath(),Object.values(R).some(W=>W!==0)?lu(i,{x:ee,y:H,w,h:g,radius:R}):i.rect(ee,H,w,g),i.fill(),N!==0&&i.stroke()}i.restore()},y=function(I,O,L){Wo(i,L.text,I,O+b/2,c,{strikethrough:L.hidden,textAlign:l.textAlign(L.textAlign)})},_=this.isHorizontal(),k=this._computeTitleHeight();_?p={x:At(s,this.left+u,this.right-n[0]),y:this.top+u+k,line:0}:p={x:this.left+u,y:At(s,this.top+k+u,this.bottom-r[0].height),line:0},a_(this.ctx,e.textDirection);const T=b+u;this.legendItems.forEach((I,O)=>{i.strokeStyle=I.fontColor,i.fillStyle=I.fontColor;const L=i.measureText(I.text).width,N=l.textAlign(I.textAlign||(I.textAlign=a.textAlign)),H=w+f+L;let ee=p.x,R=p.y;l.setWidth(this.width),_?O>0&&ee+H+u>this.right&&(R=p.y+=T,p.line++,ee=p.x=At(s,this.left+u,this.right-n[p.line])):O>0&&R+T>this.bottom&&(ee=p.x=ee+r[p.line].width+u,p.line++,R=p.y=At(s,this.top+k+u,this.bottom-r[p.line].height));const W=l.x(ee);if(m(W,R,I),ee=t5(N,ee+w+f,_?ee+H:this.right,e.rtl),y(l.x(ee),R,I),_)p.x+=H+u;else if(typeof I.text!="string"){const P=c.lineHeight;p.y+=N_(I,P)+u}else p.y+=T}),o_(this.ctx,e.textDirection)}drawTitle(){const e=this.options,r=e.title,n=Pt(r.font),i=vr(r.padding);if(!r.display)return;const s=Fs(e.rtl,this.left,this.width),a=this.ctx,o=r.position,l=n.size/2,c=i.top+l;let u,h=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),u=this.top+c,h=At(e.align,h,this.right-f);else{const w=this.columnSizes.reduce((g,b)=>Math.max(g,b.height),0);u=c+At(e.align,this.top,this.bottom-w-e.labels.padding-this._computeTitleHeight())}const p=At(o,h,h+f);a.textAlign=s.textAlign(Um(o)),a.textBaseline="middle",a.strokeStyle=r.color,a.fillStyle=r.color,a.font=n.string,Wo(a,r.text,p,u,n)}_computeTitleHeight(){const e=this.options.title,r=Pt(e.font),n=vr(e.padding);return e.display?r.lineHeight+n.height:0}_getLegendItemAt(e,r){let n,i,s;if(un(e,this.left,this.right)&&un(r,this.top,this.bottom)){for(s=this.legendHitBoxes,n=0;n<s.length;++n)if(i=s[n],un(e,i.left,i.left+i.width)&&un(r,i.top,i.top+i.height))return this.legendItems[n]}return null}handleEvent(e){const r=this.options;if(!gD(e.type,r))return;const n=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,s=hD(i,n);i&&!s&&Ke(r.onLeave,[e,i,this],this),this._hoveredItem=n,n&&!s&&Ke(r.onHover,[e,n,this],this)}else n&&Ke(r.onClick,[e,n,this],this)}}function fD(t,e,r,n,i){const s=pD(n,t,e,r),a=mD(i,n,e.lineHeight);return{itemWidth:s,itemHeight:a}}function pD(t,e,r,n){let i=t.text;return i&&typeof i!="string"&&(i=i.reduce((s,a)=>s.length>a.length?s:a)),e+r.size/2+n.measureText(i).width}function mD(t,e,r){let n=t;return typeof e.text!="string"&&(n=N_(e,r)),n}function N_(t,e){const r=t.text?t.text.length:0;return e*r}function gD(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var yD={id:"legend",_element:rw,start(t,e,r){const n=t.legend=new rw({ctx:t.ctx,options:r,chart:t});pr.configure(t,n,r),pr.addBox(t,n)},stop(t){pr.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,r){const n=t.legend;pr.configure(t,n,r),n.options=r},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,r){const n=e.datasetIndex,i=r.chart;i.isDatasetVisible(n)?(i.hide(n),e.hidden=!0):(i.show(n),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:r,pointStyle:n,textAlign:i,color:s,useBorderRadius:a,borderRadius:o}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(r?0:void 0),u=vr(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:s,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:n||c.pointStyle,rotation:c.rotation,textAlign:i||c.textAlign,borderRadius:a&&(o||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class A_ extends Or{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,r){const n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=r;const i=ft(n.text)?n.text.length:1;this._padding=vr(n.padding);const s=i*Pt(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:r,left:n,bottom:i,right:s,options:a}=this,o=a.align;let l=0,c,u,h;return this.isHorizontal()?(u=At(o,n,s),h=r+e,c=s-n):(a.position==="left"?(u=n+e,h=At(o,i,r),l=it*-.5):(u=s-e,h=At(o,r,i),l=it*.5),c=i-r),{titleX:u,titleY:h,maxWidth:c,rotation:l}}draw(){const e=this.ctx,r=this.options;if(!r.display)return;const n=Pt(r.font),s=n.lineHeight/2+this._padding.top,{titleX:a,titleY:o,maxWidth:l,rotation:c}=this._drawArgs(s);Wo(e,r.text,0,0,n,{color:r.color,maxWidth:l,rotation:c,textAlign:Um(r.align),textBaseline:"middle",translation:[a,o]})}}function wD(t,e){const r=new A_({ctx:t.ctx,options:e,chart:t});pr.configure(t,r,e),pr.addBox(t,r),t.titleBlock=r}var vD={id:"title",_element:A_,start(t,e,r){wD(t,r)},stop(t){const e=t.titleBlock;pr.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,r){const n=t.titleBlock;pr.configure(t,n,r),n.options=r},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Za={average(t){if(!t.length)return!1;let e,r,n=new Set,i=0,s=0;for(e=0,r=t.length;e<r;++e){const o=t[e].element;if(o&&o.hasValue()){const l=o.tooltipPosition();n.add(l.x),i+=l.y,++s}}return s===0||n.size===0?!1:{x:[...n].reduce((o,l)=>o+l)/n.size,y:i/s}},nearest(t,e){if(!t.length)return!1;let r=e.x,n=e.y,i=Number.POSITIVE_INFINITY,s,a,o;for(s=0,a=t.length;s<a;++s){const l=t[s].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=ap(e,c);u<i&&(i=u,o=l)}}if(o){const l=o.tooltipPosition();r=l.x,n=l.y}return{x:r,y:n}}};function Lr(t,e){return e&&(ft(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function tn(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function xD(t,e){const{element:r,datasetIndex:n,index:i}=e,s=t.getDatasetMeta(n).controller,{label:a,value:o}=s.getLabelAndValue(i);return{chart:t,label:a,parsed:s.getParsed(i),raw:t.data.datasets[n].data[i],formattedValue:o,dataset:s.getDataset(),dataIndex:i,datasetIndex:n,element:r}}function nw(t,e){const r=t.chart.ctx,{body:n,footer:i,title:s}=t,{boxWidth:a,boxHeight:o}=e,l=Pt(e.bodyFont),c=Pt(e.titleFont),u=Pt(e.footerFont),h=s.length,f=i.length,p=n.length,w=vr(e.padding);let g=w.height,b=0,m=n.reduce((k,T)=>k+T.before.length+T.lines.length+T.after.length,0);if(m+=t.beforeBody.length+t.afterBody.length,h&&(g+=h*c.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),m){const k=e.displayColors?Math.max(o,l.lineHeight):l.lineHeight;g+=p*k+(m-p)*l.lineHeight+(m-1)*e.bodySpacing}f&&(g+=e.footerMarginTop+f*u.lineHeight+(f-1)*e.footerSpacing);let y=0;const _=function(k){b=Math.max(b,r.measureText(k).width+y)};return r.save(),r.font=c.string,Le(t.title,_),r.font=l.string,Le(t.beforeBody.concat(t.afterBody),_),y=e.displayColors?a+2+e.boxPadding:0,Le(n,k=>{Le(k.before,_),Le(k.lines,_),Le(k.after,_)}),y=0,r.font=u.string,Le(t.footer,_),r.restore(),b+=w.width,{width:b,height:g}}function bD(t,e){const{y:r,height:n}=e;return r<n/2?"top":r>t.height-n/2?"bottom":"center"}function _D(t,e,r,n){const{x:i,width:s}=n,a=r.caretSize+r.caretPadding;if(t==="left"&&i+s+a>e.width||t==="right"&&i-s-a<0)return!0}function kD(t,e,r,n){const{x:i,width:s}=r,{width:a,chartArea:{left:o,right:l}}=t;let c="center";return n==="center"?c=i<=(o+l)/2?"left":"right":i<=s/2?c="left":i>=a-s/2&&(c="right"),_D(c,t,e,r)&&(c="center"),c}function iw(t,e,r){const n=r.yAlign||e.yAlign||bD(t,r);return{xAlign:r.xAlign||e.xAlign||kD(t,e,r,n),yAlign:n}}function SD(t,e){let{x:r,width:n}=t;return e==="right"?r-=n:e==="center"&&(r-=n/2),r}function ED(t,e,r){let{y:n,height:i}=t;return e==="top"?n+=r:e==="bottom"?n-=i+r:n-=i/2,n}function sw(t,e,r,n){const{caretSize:i,caretPadding:s,cornerRadius:a}=t,{xAlign:o,yAlign:l}=r,c=i+s,{topLeft:u,topRight:h,bottomLeft:f,bottomRight:p}=Ls(a);let w=SD(e,o);const g=ED(e,l,c);return l==="center"?o==="left"?w+=c:o==="right"&&(w-=c):o==="left"?w-=Math.max(u,f)+i:o==="right"&&(w+=Math.max(h,p)+i),{x:Ct(w,0,n.width-e.width),y:Ct(g,0,n.height-e.height)}}function Vl(t,e,r){const n=vr(r.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-n.right:t.x+n.left}function aw(t){return Lr([],tn(t))}function TD(t,e,r){return ts(t,{tooltip:e,tooltipItems:r,type:"tooltip"})}function ow(t,e){const r=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return r?t.override(r):t}const j_={beforeTitle:Jr,title(t){if(t.length>0){const e=t[0],r=e.chart.data.labels,n=r?r.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(n>0&&e.dataIndex<n)return r[e.dataIndex]}return""},afterTitle:Jr,beforeBody:Jr,beforeLabel:Jr,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const r=t.formattedValue;return nt(r)||(e+=r),e},labelColor(t){const r=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:r.borderColor,backgroundColor:r.backgroundColor,borderWidth:r.borderWidth,borderDash:r.borderDash,borderDashOffset:r.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const r=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:r.pointStyle,rotation:r.rotation}},afterLabel:Jr,afterBody:Jr,beforeFooter:Jr,footer:Jr,afterFooter:Jr};function Vt(t,e,r,n){const i=t[e].call(r,n);return typeof i>"u"?j_[e].call(r,n):i}class fp extends Or{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const r=this.chart,n=this.options.setContext(this.getContext()),i=n.enabled&&r.options.animation&&n.animations,s=new d_(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=TD(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,r){const{callbacks:n}=r,i=Vt(n,"beforeTitle",this,e),s=Vt(n,"title",this,e),a=Vt(n,"afterTitle",this,e);let o=[];return o=Lr(o,tn(i)),o=Lr(o,tn(s)),o=Lr(o,tn(a)),o}getBeforeBody(e,r){return aw(Vt(r.callbacks,"beforeBody",this,e))}getBody(e,r){const{callbacks:n}=r,i=[];return Le(e,s=>{const a={before:[],lines:[],after:[]},o=ow(n,s);Lr(a.before,tn(Vt(o,"beforeLabel",this,s))),Lr(a.lines,Vt(o,"label",this,s)),Lr(a.after,tn(Vt(o,"afterLabel",this,s))),i.push(a)}),i}getAfterBody(e,r){return aw(Vt(r.callbacks,"afterBody",this,e))}getFooter(e,r){const{callbacks:n}=r,i=Vt(n,"beforeFooter",this,e),s=Vt(n,"footer",this,e),a=Vt(n,"afterFooter",this,e);let o=[];return o=Lr(o,tn(i)),o=Lr(o,tn(s)),o=Lr(o,tn(a)),o}_createItems(e){const r=this._active,n=this.chart.data,i=[],s=[],a=[];let o=[],l,c;for(l=0,c=r.length;l<c;++l)o.push(xD(this.chart,r[l]));return e.filter&&(o=o.filter((u,h,f)=>e.filter(u,h,f,n))),e.itemSort&&(o=o.sort((u,h)=>e.itemSort(u,h,n))),Le(o,u=>{const h=ow(e.callbacks,u);i.push(Vt(h,"labelColor",this,u)),s.push(Vt(h,"labelPointStyle",this,u)),a.push(Vt(h,"labelTextColor",this,u))}),this.labelColors=i,this.labelPointStyles=s,this.labelTextColors=a,this.dataPoints=o,o}update(e,r){const n=this.options.setContext(this.getContext()),i=this._active;let s,a=[];if(!i.length)this.opacity!==0&&(s={opacity:0});else{const o=Za[n.position].call(this,i,this._eventPosition);a=this._createItems(n),this.title=this.getTitle(a,n),this.beforeBody=this.getBeforeBody(a,n),this.body=this.getBody(a,n),this.afterBody=this.getAfterBody(a,n),this.footer=this.getFooter(a,n);const l=this._size=nw(this,n),c=Object.assign({},o,l),u=iw(this.chart,n,c),h=sw(n,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,s={opacity:1,x:h.x,y:h.y,width:l.width,height:l.height,caretX:o.x,caretY:o.y}}this._tooltipItems=a,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:r})}drawCaret(e,r,n,i){const s=this.getCaretPosition(e,n,i);r.lineTo(s.x1,s.y1),r.lineTo(s.x2,s.y2),r.lineTo(s.x3,s.y3)}getCaretPosition(e,r,n){const{xAlign:i,yAlign:s}=this,{caretSize:a,cornerRadius:o}=n,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:h}=Ls(o),{x:f,y:p}=e,{width:w,height:g}=r;let b,m,y,_,k,T;return s==="center"?(k=p+g/2,i==="left"?(b=f,m=b-a,_=k+a,T=k-a):(b=f+w,m=b+a,_=k-a,T=k+a),y=b):(i==="left"?m=f+Math.max(l,u)+a:i==="right"?m=f+w-Math.max(c,h)-a:m=this.caretX,s==="top"?(_=p,k=_-a,b=m-a,y=m+a):(_=p+g,k=_+a,b=m+a,y=m-a),T=_),{x1:b,x2:m,x3:y,y1:_,y2:k,y3:T}}drawTitle(e,r,n){const i=this.title,s=i.length;let a,o,l;if(s){const c=Fs(n.rtl,this.x,this.width);for(e.x=Vl(this,n.titleAlign,n),r.textAlign=c.textAlign(n.titleAlign),r.textBaseline="middle",a=Pt(n.titleFont),o=n.titleSpacing,r.fillStyle=n.titleColor,r.font=a.string,l=0;l<s;++l)r.fillText(i[l],c.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+o,l+1===s&&(e.y+=n.titleMarginBottom-o)}}_drawColorBox(e,r,n,i,s){const a=this.labelColors[n],o=this.labelPointStyles[n],{boxHeight:l,boxWidth:c}=s,u=Pt(s.bodyFont),h=Vl(this,"left",s),f=i.x(h),p=l<u.lineHeight?(u.lineHeight-l)/2:0,w=r.y+p;if(s.usePointStyle){const g={radius:Math.min(c,l)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},b=i.leftForLtr(f,c)+c/2,m=w+l/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,lp(e,g,b,m),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,lp(e,g,b,m)}else{e.lineWidth=Pe(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const g=i.leftForLtr(f,c),b=i.leftForLtr(i.xPlus(f,1),c-2),m=Ls(a.borderRadius);Object.values(m).some(y=>y!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,lu(e,{x:g,y:w,w:c,h:l,radius:m}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),lu(e,{x:b,y:w+1,w:c-2,h:l-2,radius:m}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(g,w,c,l),e.strokeRect(g,w,c,l),e.fillStyle=a.backgroundColor,e.fillRect(b,w+1,c-2,l-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,r,n){const{body:i}=this,{bodySpacing:s,bodyAlign:a,displayColors:o,boxHeight:l,boxWidth:c,boxPadding:u}=n,h=Pt(n.bodyFont);let f=h.lineHeight,p=0;const w=Fs(n.rtl,this.x,this.width),g=function(L){r.fillText(L,w.x(e.x+p),e.y+f/2),e.y+=f+s},b=w.textAlign(a);let m,y,_,k,T,I,O;for(r.textAlign=a,r.textBaseline="middle",r.font=h.string,e.x=Vl(this,b,n),r.fillStyle=n.bodyColor,Le(this.beforeBody,g),p=o&&b!=="right"?a==="center"?c/2+u:c+2+u:0,k=0,I=i.length;k<I;++k){for(m=i[k],y=this.labelTextColors[k],r.fillStyle=y,Le(m.before,g),_=m.lines,o&&_.length&&(this._drawColorBox(r,e,k,w,n),f=Math.max(h.lineHeight,l)),T=0,O=_.length;T<O;++T)g(_[T]),f=h.lineHeight;Le(m.after,g)}p=0,f=h.lineHeight,Le(this.afterBody,g),e.y-=s}drawFooter(e,r,n){const i=this.footer,s=i.length;let a,o;if(s){const l=Fs(n.rtl,this.x,this.width);for(e.x=Vl(this,n.footerAlign,n),e.y+=n.footerMarginTop,r.textAlign=l.textAlign(n.footerAlign),r.textBaseline="middle",a=Pt(n.footerFont),r.fillStyle=n.footerColor,r.font=a.string,o=0;o<s;++o)r.fillText(i[o],l.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+n.footerSpacing}}drawBackground(e,r,n,i){const{xAlign:s,yAlign:a}=this,{x:o,y:l}=e,{width:c,height:u}=n,{topLeft:h,topRight:f,bottomLeft:p,bottomRight:w}=Ls(i.cornerRadius);r.fillStyle=i.backgroundColor,r.strokeStyle=i.borderColor,r.lineWidth=i.borderWidth,r.beginPath(),r.moveTo(o+h,l),a==="top"&&this.drawCaret(e,r,n,i),r.lineTo(o+c-f,l),r.quadraticCurveTo(o+c,l,o+c,l+f),a==="center"&&s==="right"&&this.drawCaret(e,r,n,i),r.lineTo(o+c,l+u-w),r.quadraticCurveTo(o+c,l+u,o+c-w,l+u),a==="bottom"&&this.drawCaret(e,r,n,i),r.lineTo(o+p,l+u),r.quadraticCurveTo(o,l+u,o,l+u-p),a==="center"&&s==="left"&&this.drawCaret(e,r,n,i),r.lineTo(o,l+h),r.quadraticCurveTo(o,l,o+h,l),r.closePath(),r.fill(),i.borderWidth>0&&r.stroke()}_updateAnimationTarget(e){const r=this.chart,n=this.$animations,i=n&&n.x,s=n&&n.y;if(i||s){const a=Za[e.position].call(this,this._active,this._eventPosition);if(!a)return;const o=this._size=nw(this,e),l=Object.assign({},a,this._size),c=iw(r,e,l),u=sw(e,l,c,r);(i._to!==u.x||s._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=o.width,this.height=o.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const r=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(r);const i={width:this.width,height:this.height},s={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const a=vr(r.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;r.enabled&&o&&(e.save(),e.globalAlpha=n,this.drawBackground(s,e,i,r),a_(e,r.textDirection),s.y+=a.top,this.drawTitle(s,e,r),this.drawBody(s,e,r),this.drawFooter(s,e,r),o_(e,r.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,r){const n=this._active,i=e.map(({datasetIndex:o,index:l})=>{const c=this.chart.getDatasetMeta(o);if(!c)throw new Error("Cannot find a dataset at index "+o);return{datasetIndex:o,element:c.data[l],index:l}}),s=!iu(n,i),a=this._positionChanged(i,r);(s||a)&&(this._active=i,this._eventPosition=r,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,r,n=!0){if(r&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,s=this._active||[],a=this._getActiveElements(e,s,r,n),o=this._positionChanged(a,e),l=r||!iu(a,s)||o;return l&&(this._active=a,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,r))),l}_getActiveElements(e,r,n,i){const s=this.options;if(e.type==="mouseout")return[];if(!i)return r.filter(o=>this.chart.data.datasets[o.datasetIndex]&&this.chart.getDatasetMeta(o.datasetIndex).controller.getParsed(o.index)!==void 0);const a=this.chart.getElementsAtEventForMode(e,s.mode,s,n);return s.reverse&&a.reverse(),a}_positionChanged(e,r){const{caretX:n,caretY:i,options:s}=this,a=Za[s.position].call(this,e,r);return a!==!1&&(n!==a.x||i!==a.y)}}ve(fp,"positioners",Za);var ND={id:"tooltip",_element:fp,positioners:Za,afterInit(t,e,r){r&&(t.tooltip=new fp({chart:t,options:r}))},beforeUpdate(t,e,r){t.tooltip&&t.tooltip.initialize(r)},reset(t,e,r){t.tooltip&&t.tooltip.initialize(r)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const r={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...r,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",r)}},afterEvent(t,e){if(t.tooltip){const r=e.replay;t.tooltip.handleEvent(e.event,r,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:j_},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const AD=(t,e,r,n)=>(typeof e=="string"?(r=t.push(e)-1,n.unshift({index:r,label:e})):isNaN(e)&&(r=null),r);function jD(t,e,r,n){const i=t.indexOf(e);if(i===-1)return AD(t,e,r,n);const s=t.lastIndexOf(e);return i!==s?r:i}const CD=(t,e)=>t===null?null:Ct(Math.round(t),0,e);function lw(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class pp extends wa{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const r=this._addedLabels;if(r.length){const n=this.getLabels();for(const{index:i,label:s}of r)n[i]===s&&n.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,r){if(nt(e))return null;const n=this.getLabels();return r=isFinite(r)&&n[r]===e?r:jD(n,e,je(r,e),this._addedLabels),CD(r,n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:r}=this.getUserBounds();let{min:n,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(n=0),r||(i=this.getLabels().length-1)),this.min=n,this.max=i}buildTicks(){const e=this.min,r=this.max,n=this.options.offset,i=[];let s=this.getLabels();s=e===0&&r===s.length-1?s:s.slice(e,r+1),this._valueRange=Math.max(s.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let a=e;a<=r;a++)i.push({value:a});return i}getLabelForValue(e){return lw.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const r=this.ticks;return e<0||e>r.length-1?null:this.getPixelForValue(r[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}ve(pp,"id","category"),ve(pp,"defaults",{ticks:{callback:lw}});function PD(t,e){const r=[],{bounds:i,step:s,min:a,max:o,precision:l,count:c,maxTicks:u,maxDigits:h,includeBounds:f}=t,p=s||1,w=u-1,{min:g,max:b}=e,m=!nt(a),y=!nt(o),_=!nt(c),k=(b-g)/(h+1);let T=ly((b-g)/w/p)*p,I,O,L,N;if(T<1e-14&&!m&&!y)return[{value:g},{value:b}];N=Math.ceil(b/T)-Math.floor(g/T),N>w&&(T=ly(N*T/w/p)*p),nt(l)||(I=Math.pow(10,l),T=Math.ceil(T*I)/I),i==="ticks"?(O=Math.floor(g/T)*T,L=Math.ceil(b/T)*T):(O=g,L=b),m&&y&&s&&VP((o-a)/s,T/1e3)?(N=Math.round(Math.min((o-a)/T,u)),T=(o-a)/N,O=a,L=o):_?(O=m?a:O,L=y?o:L,N=c-1,T=(L-O)/N):(N=(L-O)/T,po(N,Math.round(N),T/1e3)?N=Math.round(N):N=Math.ceil(N));const H=Math.max(cy(T),cy(O));I=Math.pow(10,nt(l)?H:l),O=Math.round(O*I)/I,L=Math.round(L*I)/I;let ee=0;for(m&&(f&&O!==a?(r.push({value:a}),O<a&&ee++,po(Math.round((O+ee*T)*I)/I,a,cw(a,k,t))&&ee++):O<a&&ee++);ee<N;++ee){const R=Math.round((O+ee*T)*I)/I;if(y&&R>o)break;r.push({value:R})}return y&&f&&L!==o?r.length&&po(r[r.length-1].value,o,cw(o,k,t))?r[r.length-1].value=o:r.push({value:o}):(!y||L===o)&&r.push({value:L}),r}function cw(t,e,{horizontal:r,minRotation:n}){const i=cn(n),s=(r?Math.sin(i):Math.cos(i))||.001,a=.75*e*(""+t).length;return Math.min(e/s,a)}class OD extends wa{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,r){return nt(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:r,maxDefined:n}=this.getUserBounds();let{min:i,max:s}=this;const a=l=>i=r?i:l,o=l=>s=n?s:l;if(e){const l=ra(i),c=ra(s);l<0&&c<0?o(0):l>0&&c>0&&a(0)}if(i===s){let l=s===0?1:Math.abs(s*.05);o(s+l),e||a(i-l)}this.min=i,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:r,stepSize:n}=e,i;return n?(i=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),r=r||11),r&&(i=Math.min(r,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,r=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const i={maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:r.precision,step:r.stepSize,count:r.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:r.minRotation||0,includeBounds:r.includeBounds!==!1},s=this._range||this,a=PD(i,s);return e.bounds==="ticks"&&KP(a,this,"value"),e.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const e=this.ticks;let r=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const i=(n-r)/Math.max(e.length-1,1)/2;r-=i,n+=i}this._startValue=r,this._endValue=n,this._valueRange=n-r}getLabelForValue(e){return Wm(e,this.chart.options.locale,this.options.ticks.format)}}class mp extends OD{determineDataLimits(){const{min:e,max:r}=this.getMinMax(!0);this.min=It(e)?e:0,this.max=It(r)?r:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),r=e?this.width:this.height,n=cn(this.options.ticks.minRotation),i=(e?Math.sin(n):Math.cos(n))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(r/Math.min(40,s.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}ve(mp,"id","linear"),ve(mp,"defaults",{ticks:{callback:J1.formatters.numeric}});const Qu={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Gt=Object.keys(Qu);function uw(t,e){return t-e}function dw(t,e){if(nt(e))return null;const r=t._adapter,{parser:n,round:i,isoWeekday:s}=t._parseOpts;let a=e;return typeof n=="function"&&(a=n(a)),It(a)||(a=typeof n=="string"?r.parse(a,n):r.parse(a)),a===null?null:(i&&(a=i==="week"&&(zo(s)||s===!0)?r.startOf(a,"isoWeek",s):r.startOf(a,i)),+a)}function hw(t,e,r,n){const i=Gt.length;for(let s=Gt.indexOf(t);s<i-1;++s){const a=Qu[Gt[s]],o=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((r-e)/(o*a.size))<=n)return Gt[s]}return Gt[i-1]}function RD(t,e,r,n,i){for(let s=Gt.length-1;s>=Gt.indexOf(r);s--){const a=Gt[s];if(Qu[a].common&&t._adapter.diff(i,n,a)>=e-1)return a}return Gt[r?Gt.indexOf(r):0]}function DD(t){for(let e=Gt.indexOf(t)+1,r=Gt.length;e<r;++e)if(Qu[Gt[e]].common)return Gt[e]}function fw(t,e,r){if(!r)t[e]=!0;else if(r.length){const{lo:n,hi:i}=zm(r,e),s=r[n]>=e?r[n]:r[i];t[s]=!0}}function ID(t,e,r,n){const i=t._adapter,s=+i.startOf(e[0].value,n),a=e[e.length-1].value;let o,l;for(o=s;o<=a;o=+i.add(o,1,n))l=r[o],l>=0&&(e[l].major=!0);return e}function pw(t,e,r){const n=[],i={},s=e.length;let a,o;for(a=0;a<s;++a)o=e[a],i[o]=a,n.push({value:o,major:!1});return s===0||!r?n:ID(t,n,i,r)}class hu extends wa{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,r={}){const n=e.time||(e.time={}),i=this._adapter=new yO._date(e.adapters.date);i.init(r),fo(n.displayFormats,i.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=r.normalized}parse(e,r){return e===void 0?null:dw(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,r=this._adapter,n=e.time.unit||"day";let{min:i,max:s,minDefined:a,maxDefined:o}=this.getUserBounds();function l(c){!a&&!isNaN(c.min)&&(i=Math.min(i,c.min)),!o&&!isNaN(c.max)&&(s=Math.max(s,c.max))}(!a||!o)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=It(i)&&!isNaN(i)?i:+r.startOf(Date.now(),n),s=It(s)&&!isNaN(s)?s:+r.endOf(Date.now(),n)+1,this.min=Math.min(i,s-1),this.max=Math.max(i+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let r=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(r=e[0],n=e[e.length-1]),{min:r,max:n}}buildTicks(){const e=this.options,r=e.time,n=e.ticks,i=n.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const s=this.min,a=this.max,o=QP(i,s,a);return this._unit=r.unit||(n.autoSkip?hw(r.minUnit,this.min,this.max,this._getLabelCapacity(s)):RD(this,o.length,r.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:DD(this._unit),this.initOffsets(i),e.reverse&&o.reverse(),pw(this,o,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let r=0,n=0,i,s;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?r=1-i:r=(this.getDecimalForValue(e[1])-i)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?n=s:n=(s-this.getDecimalForValue(e[e.length-2]))/2);const a=e.length<3?.5:.25;r=Ct(r,0,a),n=Ct(n,0,a),this._offsets={start:r,end:n,factor:1/(r+1+n)}}_generate(){const e=this._adapter,r=this.min,n=this.max,i=this.options,s=i.time,a=s.unit||hw(s.minUnit,r,n,this._getLabelCapacity(r)),o=je(i.ticks.stepSize,1),l=a==="week"?s.isoWeekday:!1,c=zo(l)||l===!0,u={};let h=r,f,p;if(c&&(h=+e.startOf(h,"isoWeek",l)),h=+e.startOf(h,c?"day":a),e.diff(n,r,a)>1e5*o)throw new Error(r+" and "+n+" are too far apart with stepSize of "+o+" "+a);const w=i.ticks.source==="data"&&this.getDataTimestamps();for(f=h,p=0;f<n;f=+e.add(f,o,a),p++)fw(u,f,w);return(f===n||i.bounds==="ticks"||p===1)&&fw(u,f,w),Object.keys(u).sort(uw).map(g=>+g)}getLabelForValue(e){const r=this._adapter,n=this.options.time;return n.tooltipFormat?r.format(e,n.tooltipFormat):r.format(e,n.displayFormats.datetime)}format(e,r){const i=this.options.time.displayFormats,s=this._unit,a=r||i[s];return this._adapter.format(e,a)}_tickFormatFunction(e,r,n,i){const s=this.options,a=s.ticks.callback;if(a)return Ke(a,[e,r,n],this);const o=s.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&o[l],h=c&&o[c],f=n[r],p=c&&h&&f&&f.major;return this._adapter.format(e,i||(p?h:u))}generateTickLabels(e){let r,n,i;for(r=0,n=e.length;r<n;++r)i=e[r],i.label=this._tickFormatFunction(i.value,r,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const r=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((r.start+n)*r.factor)}getValueForPixel(e){const r=this._offsets,n=this.getDecimalForPixel(e)/r.factor-r.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const r=this.options.ticks,n=this.ctx.measureText(e).width,i=cn(this.isHorizontal()?r.maxRotation:r.minRotation),s=Math.cos(i),a=Math.sin(i),o=this._resolveTickFontOptions(0).size;return{w:n*s+o*a,h:n*a+o*s}}_getLabelCapacity(e){const r=this.options.time,n=r.displayFormats,i=n[r.unit]||n.millisecond,s=this._tickFormatFunction(e,0,pw(this,[e],this._majorUnit),i),a=this._getLabelSize(s),o=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return o>0?o:1}getDataTimestamps(){let e=this._cache.data||[],r,n;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(r=0,n=i.length;r<n;++r)e=e.concat(i[r].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let r,n;if(e.length)return e;const i=this.getLabels();for(r=0,n=i.length;r<n;++r)e.push(dw(this,i[r]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return ZP(e.sort(uw))}}ve(hu,"id","time"),ve(hu,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Kl(t,e,r){let n=0,i=t.length-1,s,a,o,l;r?(e>=t[n].pos&&e<=t[i].pos&&({lo:n,hi:i}=Ci(t,"pos",e)),{pos:s,time:o}=t[n],{pos:a,time:l}=t[i]):(e>=t[n].time&&e<=t[i].time&&({lo:n,hi:i}=Ci(t,"time",e)),{time:s,pos:o}=t[n],{time:a,pos:l}=t[i]);const c=a-s;return c?o+(l-o)*(e-s)/c:o}class mw extends hu{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),r=this._table=this.buildLookupTable(e);this._minPos=Kl(r,this.min),this._tableRange=Kl(r,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:r,max:n}=this,i=[],s=[];let a,o,l,c,u;for(a=0,o=e.length;a<o;++a)c=e[a],c>=r&&c<=n&&i.push(c);if(i.length<2)return[{time:r,pos:0},{time:n,pos:1}];for(a=0,o=i.length;a<o;++a)u=i[a+1],l=i[a-1],c=i[a],Math.round((u+l)/2)!==c&&s.push({time:c,pos:a/(o-1)});return s}_generate(){const e=this.min,r=this.max;let n=super.getDataTimestamps();return(!n.includes(e)||!n.length)&&n.splice(0,0,e),(!n.includes(r)||n.length===1)&&n.push(r),n.sort((i,s)=>i-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const r=this.getDataTimestamps(),n=this.getLabelTimestamps();return r.length&&n.length?e=this.normalize(r.concat(n)):e=r.length?r:n,e=this._cache.all=e,e}getDecimalForValue(e){return(Kl(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const r=this._offsets,n=this.getDecimalForPixel(e)/r.factor-r.end;return Kl(this._table,n*this._tableRange+this._minPos,!0)}}ve(mw,"id","timeseries"),ve(mw,"defaults",hu.defaults);const C_="label";function gw(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function MD(t,e){const r=t.options;r&&e&&Object.assign(r,e)}function P_(t,e){t.labels=e}function O_(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:C_;const n=[];t.datasets=e.map(i=>{const s=t.datasets.find(a=>a[r]===i[r]);return!s||!i.data||n.includes(s)?{...i}:(n.push(s),Object.assign(s,i),s)})}function LD(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:C_;const r={labels:[],datasets:[]};return P_(r,t.labels),O_(r,t.datasets,e),r}function FD(t,e){const{height:r=150,width:n=300,redraw:i=!1,datasetIdKey:s,type:a,data:o,options:l,plugins:c=[],fallbackContent:u,updateMode:h,...f}=t,p=K.useRef(null),w=K.useRef(null),g=()=>{p.current&&(w.current=new Xu(p.current,{type:a,data:LD(o,s),options:l&&{...l},plugins:c}),gw(e,w.current))},b=()=>{gw(e,null),w.current&&(w.current.destroy(),w.current=null)};return K.useEffect(()=>{!i&&w.current&&l&&MD(w.current,l)},[i,l]),K.useEffect(()=>{!i&&w.current&&P_(w.current.config.data,o.labels)},[i,o.labels]),K.useEffect(()=>{!i&&w.current&&o.datasets&&O_(w.current.config.data,o.datasets,s)},[i,o.datasets]),K.useEffect(()=>{w.current&&(i?(b(),setTimeout(g)):w.current.update(h))},[i,l,o.labels,o.datasets,h]),K.useEffect(()=>{w.current&&(b(),setTimeout(g))},[a]),K.useEffect(()=>(g(),()=>b()),[]),wt.createElement("canvas",{ref:p,role:"img",height:r,width:n,...f},u)}const BD=K.forwardRef(FD);function R_(t,e){return Xu.register(e),K.forwardRef((r,n)=>wt.createElement(BD,{...r,ref:n,type:t}))}const zD=R_("line",xc),UD=R_("doughnut",Xa);function Ze(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Ki(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const D_=6048e5,$D=864e5,I_=6e4,M_=36e5;let WD={};function Ju(){return WD}function Vo(t,e){var o,l,c,u;const r=Ju(),n=(e==null?void 0:e.weekStartsOn)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??r.weekStartsOn??((u=(c=r.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??0,i=Ze(t),s=i.getDay(),a=(s<n?7:0)+s-n;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function fu(t){return Vo(t,{weekStartsOn:1})}function L_(t){const e=Ze(t),r=e.getFullYear(),n=Ki(t,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const i=fu(n),s=Ki(t,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const a=fu(s);return e.getTime()>=i.getTime()?r+1:e.getTime()>=a.getTime()?r:r-1}function yw(t){const e=Ze(t);return e.setHours(0,0,0,0),e}function ww(t){const e=Ze(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function HD(t,e){const r=yw(t),n=yw(e),i=+r-ww(r),s=+n-ww(n);return Math.round((i-s)/$D)}function VD(t){const e=L_(t),r=Ki(t,0);return r.setFullYear(e,0,4),r.setHours(0,0,0,0),fu(r)}function KD(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function qD(t){if(!KD(t)&&typeof t!="number")return!1;const e=Ze(t);return!isNaN(Number(e))}function vw(t){const e=Ze(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(23,59,59,999),e}function GD(t,e){const r=Ze(t.start),n=Ze(t.end);let i=+r>+n;const s=i?+r:+n,a=i?n:r;a.setHours(0,0,0,0);let o=1;const l=[];for(;+a<=s;)l.push(Ze(a)),a.setDate(a.getDate()+o),a.setHours(0,0,0,0);return i?l.reverse():l}function YD(t,e){const r=Ze(t.start),n=Ze(t.end);let i=+r>+n;const s=i?+r:+n,a=i?n:r;a.setHours(0,0,0,0),a.setDate(1);let o=1;const l=[];for(;+a<=s;)l.push(Ze(a)),a.setMonth(a.getMonth()+o);return i?l.reverse():l}function xw(t){const e=Ze(t);return e.setDate(1),e.setHours(0,0,0,0),e}function nh(t){const e=Ze(t),r=e.getFullYear();return e.setFullYear(r+1,0,0),e.setHours(23,59,59,999),e}function Ec(t){const e=Ze(t),r=Ki(t,0);return r.setFullYear(e.getFullYear(),0,1),r.setHours(0,0,0,0),r}const XD={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},QD=(t,e,r)=>{let n;const i=XD[t];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function zs(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const JD={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},ZD={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},eI={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},tI={date:zs({formats:JD,defaultWidth:"full"}),time:zs({formats:ZD,defaultWidth:"full"}),dateTime:zs({formats:eI,defaultWidth:"full"})},rI={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},nI=(t,e,r,n)=>rI[t];function Vr(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let i;if(n==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,o=r!=null&&r.width?String(r.width):a;i=t.formattingValues[o]||t.formattingValues[a]}else{const a=t.defaultWidth,o=r!=null&&r.width?String(r.width):t.defaultWidth;i=t.values[o]||t.values[a]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const iI={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},sI={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},aI={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},oI={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},lI={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},cI={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},uI=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},dI={ordinalNumber:uI,era:Vr({values:iI,defaultWidth:"wide"}),quarter:Vr({values:sI,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Vr({values:aI,defaultWidth:"wide"}),day:Vr({values:oI,defaultWidth:"wide"}),dayPeriod:Vr({values:lI,defaultWidth:"wide",formattingValues:cI,defaultFormattingWidth:"wide"})};function Kr(t){return(e,r={})=>{const n=r.width,i=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const a=s[0],o=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(o)?fI(o,h=>h.test(a)):hI(o,h=>h.test(a));let c;c=t.valueCallback?t.valueCallback(l):l,c=r.valueCallback?r.valueCallback(c):c;const u=e.slice(a.length);return{value:c,rest:u}}}function hI(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function fI(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function F_(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const i=n[0],s=e.match(t.parsePattern);if(!s)return null;let a=t.valueCallback?t.valueCallback(s[0]):s[0];a=r.valueCallback?r.valueCallback(a):a;const o=e.slice(i.length);return{value:a,rest:o}}}const pI=/^(\d+)(th|st|nd|rd)?/i,mI=/\d+/i,gI={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},yI={any:[/^b/i,/^(a|c)/i]},wI={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},vI={any:[/1/i,/2/i,/3/i,/4/i]},xI={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},bI={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},_I={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},kI={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},SI={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},EI={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},TI={ordinalNumber:F_({matchPattern:pI,parsePattern:mI,valueCallback:t=>parseInt(t,10)}),era:Kr({matchPatterns:gI,defaultMatchWidth:"wide",parsePatterns:yI,defaultParseWidth:"any"}),quarter:Kr({matchPatterns:wI,defaultMatchWidth:"wide",parsePatterns:vI,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Kr({matchPatterns:xI,defaultMatchWidth:"wide",parsePatterns:bI,defaultParseWidth:"any"}),day:Kr({matchPatterns:_I,defaultMatchWidth:"wide",parsePatterns:kI,defaultParseWidth:"any"}),dayPeriod:Kr({matchPatterns:SI,defaultMatchWidth:"any",parsePatterns:EI,defaultParseWidth:"any"})},NI={code:"en-US",formatDistance:QD,formatLong:tI,formatRelative:nI,localize:dI,match:TI,options:{weekStartsOn:0,firstWeekContainsDate:1}};function AI(t){const e=Ze(t);return HD(e,Ec(e))+1}function jI(t){const e=Ze(t),r=+fu(e)-+VD(e);return Math.round(r/D_)+1}function B_(t,e){var u,h,f,p;const r=Ze(t),n=r.getFullYear(),i=Ju(),s=(e==null?void 0:e.firstWeekContainsDate)??((h=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??i.firstWeekContainsDate??((p=(f=i.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,a=Ki(t,0);a.setFullYear(n+1,0,s),a.setHours(0,0,0,0);const o=Vo(a,e),l=Ki(t,0);l.setFullYear(n,0,s),l.setHours(0,0,0,0);const c=Vo(l,e);return r.getTime()>=o.getTime()?n+1:r.getTime()>=c.getTime()?n:n-1}function CI(t,e){var o,l,c,u;const r=Ju(),n=(e==null?void 0:e.firstWeekContainsDate)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.firstWeekContainsDate)??r.firstWeekContainsDate??((u=(c=r.locale)==null?void 0:c.options)==null?void 0:u.firstWeekContainsDate)??1,i=B_(t,e),s=Ki(t,0);return s.setFullYear(i,0,n),s.setHours(0,0,0,0),Vo(s,e)}function PI(t,e){const r=Ze(t),n=+Vo(r,e)-+CI(r,e);return Math.round(n/D_)+1}function Me(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const Nn={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return Me(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):Me(r+1,2)},d(t,e){return Me(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return Me(t.getHours()%12||12,e.length)},H(t,e){return Me(t.getHours(),e.length)},m(t,e){return Me(t.getMinutes(),e.length)},s(t,e){return Me(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return Me(i,e.length)}},ds={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},bw={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return Nn.y(t,e)},Y:function(t,e,r,n){const i=B_(t,n),s=i>0?i:1-i;if(e==="YY"){const a=s%100;return Me(a,2)}return e==="Yo"?r.ordinalNumber(s,{unit:"year"}):Me(s,e.length)},R:function(t,e){const r=L_(t);return Me(r,e.length)},u:function(t,e){const r=t.getFullYear();return Me(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return Me(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return Me(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return Nn.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return Me(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const i=PI(t,n);return e==="wo"?r.ordinalNumber(i,{unit:"week"}):Me(i,e.length)},I:function(t,e,r){const n=jI(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):Me(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):Nn.d(t,e)},D:function(t,e,r){const n=AI(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Me(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const i=t.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return Me(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const i=t.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return Me(s,e.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),i=n===0?7:n;switch(e){case"i":return String(i);case"ii":return Me(i,e.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let i;switch(n===12?i=ds.noon:n===0?i=ds.midnight:i=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let i;switch(n>=17?i=ds.evening:n>=12?i=ds.afternoon:n>=4?i=ds.morning:i=ds.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Nn.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):Nn.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Me(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):Me(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):Nn.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):Nn.s(t,e)},S:function(t,e){return Nn.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return kw(n);case"XXXX":case"XX":return Ei(n);case"XXXXX":case"XXX":default:return Ei(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return kw(n);case"xxxx":case"xx":return Ei(n);case"xxxxx":case"xxx":default:return Ei(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+_w(n,":");case"OOOO":default:return"GMT"+Ei(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+_w(n,":");case"zzzz":default:return"GMT"+Ei(n,":")}},t:function(t,e,r){const n=Math.trunc(t.getTime()/1e3);return Me(n,e.length)},T:function(t,e,r){const n=t.getTime();return Me(n,e.length)}};function _w(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=Math.trunc(n/60),s=n%60;return s===0?r+String(i):r+String(i)+e+Me(s,2)}function kw(t,e){return t%60===0?(t>0?"-":"+")+Me(Math.abs(t)/60,2):Ei(t,e)}function Ei(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=Me(Math.trunc(n/60),2),s=Me(n%60,2);return r+i+e+s}const Sw=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},z_=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},OI=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return Sw(t,e);let s;switch(n){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",Sw(n,e)).replace("{{time}}",z_(i,e))},RI={p:z_,P:OI},DI=/^D+$/,II=/^Y+$/,MI=["D","DD","YY","YYYY"];function LI(t){return DI.test(t)}function FI(t){return II.test(t)}function BI(t,e,r){const n=zI(t,e,r);if(console.warn(n),MI.includes(t))throw new RangeError(n)}function zI(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const UI=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,$I=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,WI=/^'([^]*?)'?$/,HI=/''/g,VI=/[a-zA-Z]/;function hs(t,e,r){var u,h,f,p,w,g,b,m;const n=Ju(),i=(r==null?void 0:r.locale)??n.locale??NI,s=(r==null?void 0:r.firstWeekContainsDate)??((h=(u=r==null?void 0:r.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??n.firstWeekContainsDate??((p=(f=n.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,a=(r==null?void 0:r.weekStartsOn)??((g=(w=r==null?void 0:r.locale)==null?void 0:w.options)==null?void 0:g.weekStartsOn)??n.weekStartsOn??((m=(b=n.locale)==null?void 0:b.options)==null?void 0:m.weekStartsOn)??0,o=Ze(t);if(!qD(o))throw new RangeError("Invalid time value");let l=e.match($I).map(y=>{const _=y[0];if(_==="p"||_==="P"){const k=RI[_];return k(y,i.formatLong)}return y}).join("").match(UI).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const _=y[0];if(_==="'")return{isToken:!1,value:KI(y)};if(bw[_])return{isToken:!0,value:y};if(_.match(VI))throw new RangeError("Format string contains an unescaped latin alphabet character `"+_+"`");return{isToken:!1,value:y}});i.localize.preprocessor&&(l=i.localize.preprocessor(o,l));const c={firstWeekContainsDate:s,weekStartsOn:a,locale:i};return l.map(y=>{if(!y.isToken)return y.value;const _=y.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&FI(_)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&LI(_))&&BI(_,e,String(t));const k=bw[_[0]];return k(o,_,i.localize,c)}).join("")}function KI(t){const e=t.match(WI);return e?e[1].replace(HI,"'"):t}function Ew(t,e){const r=+Ze(t),[n,i]=[+Ze(e.start),+Ze(e.end)].sort((s,a)=>s-a);return r>=n&&r<=i}function ql(t,e){const n=XI(t);let i;if(n.date){const l=QI(n.date,2);i=JI(l.restDateString,l.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);const s=i.getTime();let a=0,o;if(n.time&&(a=ZI(n.time),isNaN(a)))return new Date(NaN);if(n.timezone){if(o=e4(n.timezone),isNaN(o))return new Date(NaN)}else{const l=new Date(s+a),c=new Date(0);return c.setFullYear(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()),c.setHours(l.getUTCHours(),l.getUTCMinutes(),l.getUTCSeconds(),l.getUTCMilliseconds()),c}return new Date(s+a+o)}const Gl={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},qI=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,GI=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,YI=/^([+-])(\d{2})(?::?(\d{2}))?$/;function XI(t){const e={},r=t.split(Gl.dateTimeDelimiter);let n;if(r.length>2)return e;if(/:/.test(r[0])?n=r[0]:(e.date=r[0],n=r[1],Gl.timeZoneDelimiter.test(e.date)&&(e.date=t.split(Gl.timeZoneDelimiter)[0],n=t.substr(e.date.length,t.length))),n){const i=Gl.timezone.exec(n);i?(e.time=n.replace(i[1],""),e.timezone=i[1]):e.time=n}return e}function QI(t,e){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=t.match(r);if(!n)return{year:NaN,restDateString:""};const i=n[1]?parseInt(n[1]):null,s=n[2]?parseInt(n[2]):null;return{year:s===null?i:s*100,restDateString:t.slice((n[1]||n[2]).length)}}function JI(t,e){if(e===null)return new Date(NaN);const r=t.match(qI);if(!r)return new Date(NaN);const n=!!r[4],i=Ba(r[1]),s=Ba(r[2])-1,a=Ba(r[3]),o=Ba(r[4]),l=Ba(r[5])-1;if(n)return s4(e,o,l)?t4(e,o,l):new Date(NaN);{const c=new Date(0);return!n4(e,s,a)||!i4(e,i)?new Date(NaN):(c.setUTCFullYear(e,s,Math.max(i,a)),c)}}function Ba(t){return t?parseInt(t):1}function ZI(t){const e=t.match(GI);if(!e)return NaN;const r=ih(e[1]),n=ih(e[2]),i=ih(e[3]);return a4(r,n,i)?r*M_+n*I_+i*1e3:NaN}function ih(t){return t&&parseFloat(t.replace(",","."))||0}function e4(t){if(t==="Z")return 0;const e=t.match(YI);if(!e)return 0;const r=e[1]==="+"?-1:1,n=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return o4(n,i)?r*(n*M_+i*I_):NaN}function t4(t,e,r){const n=new Date(0);n.setUTCFullYear(t,0,4);const i=n.getUTCDay()||7,s=(e-1)*7+r+1-i;return n.setUTCDate(n.getUTCDate()+s),n}const r4=[31,null,31,30,31,30,31,31,30,31,30,31];function U_(t){return t%400===0||t%4===0&&t%100!==0}function n4(t,e,r){return e>=0&&e<=11&&r>=1&&r<=(r4[e]||(U_(t)?29:28))}function i4(t,e){return e>=1&&e<=(U_(t)?366:365)}function s4(t,e,r){return e>=1&&e<=53&&r>=0&&r<=6}function a4(t,e,r){return t===24?e===0&&r===0:r>=0&&r<60&&e>=0&&e<60&&t>=0&&t<25}function o4(t,e){return e>=0&&e<=59}const l4={lessThanXSeconds:{one:"bir saniyeden az",other:"{{count}} saniyeden az"},xSeconds:{one:"1 saniye",other:"{{count}} saniye"},halfAMinute:"yarım dakika",lessThanXMinutes:{one:"bir dakikadan az",other:"{{count}} dakikadan az"},xMinutes:{one:"1 dakika",other:"{{count}} dakika"},aboutXHours:{one:"yaklaşık 1 saat",other:"yaklaşık {{count}} saat"},xHours:{one:"1 saat",other:"{{count}} saat"},xDays:{one:"1 gün",other:"{{count}} gün"},aboutXWeeks:{one:"yaklaşık 1 hafta",other:"yaklaşık {{count}} hafta"},xWeeks:{one:"1 hafta",other:"{{count}} hafta"},aboutXMonths:{one:"yaklaşık 1 ay",other:"yaklaşık {{count}} ay"},xMonths:{one:"1 ay",other:"{{count}} ay"},aboutXYears:{one:"yaklaşık 1 yıl",other:"yaklaşık {{count}} yıl"},xYears:{one:"1 yıl",other:"{{count}} yıl"},overXYears:{one:"1 yıldan fazla",other:"{{count}} yıldan fazla"},almostXYears:{one:"neredeyse 1 yıl",other:"neredeyse {{count}} yıl"}},c4=(t,e,r)=>{let n;const i=l4[t];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?n+" sonra":n+" önce":n},u4={full:"d MMMM y EEEE",long:"d MMMM y",medium:"d MMM y",short:"dd.MM.yyyy"},d4={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},h4={full:"{{date}} 'saat' {{time}}",long:"{{date}} 'saat' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},f4={date:zs({formats:u4,defaultWidth:"full"}),time:zs({formats:d4,defaultWidth:"full"}),dateTime:zs({formats:h4,defaultWidth:"full"})},p4={lastWeek:"'geçen hafta' eeee 'saat' p",yesterday:"'dün saat' p",today:"'bugün saat' p",tomorrow:"'yarın saat' p",nextWeek:"eeee 'saat' p",other:"P"},m4=(t,e,r,n)=>p4[t],g4={narrow:["MÖ","MS"],abbreviated:["MÖ","MS"],wide:["Milattan Önce","Milattan Sonra"]},y4={narrow:["1","2","3","4"],abbreviated:["1Ç","2Ç","3Ç","4Ç"],wide:["İlk çeyrek","İkinci Çeyrek","Üçüncü çeyrek","Son çeyrek"]},w4={narrow:["O","Ş","M","N","M","H","T","A","E","E","K","A"],abbreviated:["Oca","Şub","Mar","Nis","May","Haz","Tem","Ağu","Eyl","Eki","Kas","Ara"],wide:["Ocak","Şubat","Mart","Nisan","Mayıs","Haziran","Temmuz","Ağustos","Eylül","Ekim","Kasım","Aralık"]},v4={narrow:["P","P","S","Ç","P","C","C"],short:["Pz","Pt","Sa","Ça","Pe","Cu","Ct"],abbreviated:["Paz","Pzt","Sal","Çar","Per","Cum","Cts"],wide:["Pazar","Pazartesi","Salı","Çarşamba","Perşembe","Cuma","Cumartesi"]},x4={narrow:{am:"öö",pm:"ös",midnight:"gy",noon:"ö",morning:"sa",afternoon:"ös",evening:"ak",night:"ge"},abbreviated:{am:"ÖÖ",pm:"ÖS",midnight:"gece yarısı",noon:"öğle",morning:"sabah",afternoon:"öğleden sonra",evening:"akşam",night:"gece"},wide:{am:"Ö.Ö.",pm:"Ö.S.",midnight:"gece yarısı",noon:"öğle",morning:"sabah",afternoon:"öğleden sonra",evening:"akşam",night:"gece"}},b4={narrow:{am:"öö",pm:"ös",midnight:"gy",noon:"ö",morning:"sa",afternoon:"ös",evening:"ak",night:"ge"},abbreviated:{am:"ÖÖ",pm:"ÖS",midnight:"gece yarısı",noon:"öğlen",morning:"sabahleyin",afternoon:"öğleden sonra",evening:"akşamleyin",night:"geceleyin"},wide:{am:"ö.ö.",pm:"ö.s.",midnight:"gece yarısı",noon:"öğlen",morning:"sabahleyin",afternoon:"öğleden sonra",evening:"akşamleyin",night:"geceleyin"}},_4=(t,e)=>Number(t)+".",k4={ordinalNumber:_4,era:Vr({values:g4,defaultWidth:"wide"}),quarter:Vr({values:y4,defaultWidth:"wide",argumentCallback:t=>Number(t)-1}),month:Vr({values:w4,defaultWidth:"wide"}),day:Vr({values:v4,defaultWidth:"wide"}),dayPeriod:Vr({values:x4,defaultWidth:"wide",formattingValues:b4,defaultFormattingWidth:"wide"})},S4=/^(\d+)(\.)?/i,E4=/\d+/i,T4={narrow:/^(mö|ms)/i,abbreviated:/^(mö|ms)/i,wide:/^(milattan önce|milattan sonra)/i},N4={any:[/(^mö|^milattan önce)/i,/(^ms|^milattan sonra)/i]},A4={narrow:/^[1234]/i,abbreviated:/^[1234]ç/i,wide:/^((i|İ)lk|(i|İ)kinci|üçüncü|son) çeyrek/i},j4={any:[/1/i,/2/i,/3/i,/4/i],abbreviated:[/1ç/i,/2ç/i,/3ç/i,/4ç/i],wide:[/^(i|İ)lk çeyrek/i,/(i|İ)kinci çeyrek/i,/üçüncü çeyrek/i,/son çeyrek/i]},C4={narrow:/^[oşmnhtaek]/i,abbreviated:/^(oca|şub|mar|nis|may|haz|tem|ağu|eyl|eki|kas|ara)/i,wide:/^(ocak|şubat|mart|nisan|mayıs|haziran|temmuz|ağustos|eylül|ekim|kasım|aralık)/i},P4={narrow:[/^o/i,/^ş/i,/^m/i,/^n/i,/^m/i,/^h/i,/^t/i,/^a/i,/^e/i,/^e/i,/^k/i,/^a/i],any:[/^o/i,/^ş/i,/^mar/i,/^n/i,/^may/i,/^h/i,/^t/i,/^ağ/i,/^ey/i,/^ek/i,/^k/i,/^ar/i]},O4={narrow:/^[psçc]/i,short:/^(pz|pt|sa|ça|pe|cu|ct)/i,abbreviated:/^(paz|pzt|sal|çar|per|cum|cts)/i,wide:/^(pazar(?!tesi)|pazartesi|salı|çarşamba|perşembe|cuma(?!rtesi)|cumartesi)/i},R4={narrow:[/^p/i,/^p/i,/^s/i,/^ç/i,/^p/i,/^c/i,/^c/i],any:[/^pz/i,/^pt/i,/^sa/i,/^ça/i,/^pe/i,/^cu/i,/^ct/i],wide:[/^pazar(?!tesi)/i,/^pazartesi/i,/^salı/i,/^çarşamba/i,/^perşembe/i,/^cuma(?!rtesi)/i,/^cumartesi/i]},D4={narrow:/^(öö|ös|gy|ö|sa|ös|ak|ge)/i,any:/^(ö\.?\s?[ös]\.?|öğleden sonra|gece yarısı|öğle|(sabah|öğ|akşam|gece)(leyin))/i},I4={any:{am:/^ö\.?ö\.?/i,pm:/^ö\.?s\.?/i,midnight:/^(gy|gece yarısı)/i,noon:/^öğ/i,morning:/^sa/i,afternoon:/^öğleden sonra/i,evening:/^ak/i,night:/^ge/i}},M4={ordinalNumber:F_({matchPattern:S4,parsePattern:E4,valueCallback:function(t){return parseInt(t,10)}}),era:Kr({matchPatterns:T4,defaultMatchWidth:"wide",parsePatterns:N4,defaultParseWidth:"any"}),quarter:Kr({matchPatterns:A4,defaultMatchWidth:"wide",parsePatterns:j4,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Kr({matchPatterns:C4,defaultMatchWidth:"wide",parsePatterns:P4,defaultParseWidth:"any"}),day:Kr({matchPatterns:O4,defaultMatchWidth:"wide",parsePatterns:R4,defaultParseWidth:"any"}),dayPeriod:Kr({matchPatterns:D4,defaultMatchWidth:"any",parsePatterns:I4,defaultParseWidth:"any"})},Tw={code:"tr",formatDistance:c4,formatLong:f4,formatRelative:m4,localize:k4,match:M4,options:{weekStartsOn:1,firstWeekContainsDate:1}};var L4=Object.defineProperty,F4=Object.defineProperties,B4=Object.getOwnPropertyDescriptors,Nw=Object.getOwnPropertySymbols,z4=Object.prototype.hasOwnProperty,U4=Object.prototype.propertyIsEnumerable,gp=(t,e,r)=>e in t?L4(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,De=(t,e)=>{for(var r in e||(e={}))z4.call(e,r)&&gp(t,r,e[r]);if(Nw)for(var r of Nw(e))U4.call(e,r)&&gp(t,r,e[r]);return t},Ko=(t,e)=>F4(t,B4(e)),ce=(t,e,r)=>(gp(t,typeof e!="symbol"?e+"":e,r),r),Yl=(t,e,r)=>new Promise((n,i)=>{var s=l=>{try{o(r.next(l))}catch(c){i(c)}},a=l=>{try{o(r.throw(l))}catch(c){i(c)}},o=l=>l.done?n(l.value):Promise.resolve(l.value).then(s,a);o((r=r.apply(t,e)).next())});class pu{constructor(e){ce(this,"rootKey"),this.rootKey=e}}const $4=Object.seal({});class ue extends pu{constructor(e){super(e),ce(this,"root"),this.root=new Array}prepForXml(e){var r;e.stack.push(this);const n=this.root.map(i=>i instanceof pu?i.prepForXml(e):i).filter(i=>i!==void 0);return e.stack.pop(),{[this.rootKey]:n.length?n.length===1&&((r=n[0])!=null&&r._attr)?n[0]:n:$4}}addChildElement(e){return this.root.push(e),this}}class _n extends ue{prepForXml(e){const r=super.prepForXml(e);if(r&&(typeof r[this.rootKey]!="object"||Object.keys(r[this.rootKey]).length))return r}}class _e extends pu{constructor(e){super("_attr"),ce(this,"xmlKeys"),this.root=e}prepForXml(e){const r={};return Object.keys(this.root).forEach(n=>{const i=this.root[n];if(i!==void 0){const s=this.xmlKeys&&this.xmlKeys[n]||n;r[s]=i}}),{_attr:r}}}class di extends pu{constructor(e){super("_attr"),this.root=e}prepForXml(e){return{_attr:Object.values(this.root).filter(({value:n})=>n!==void 0).reduce((n,{key:i,value:s})=>Ko(De({},n),{[i]:s}),{})}}}class st extends _e{constructor(){super(...arguments),ce(this,"xmlKeys",{val:"w:val",color:"w:color",fill:"w:fill",space:"w:space",sz:"w:sz",type:"w:type",rsidR:"w:rsidR",rsidRPr:"w:rsidRPr",rsidSect:"w:rsidSect",w:"w:w",h:"w:h",top:"w:top",right:"w:right",bottom:"w:bottom",left:"w:left",header:"w:header",footer:"w:footer",gutter:"w:gutter",linePitch:"w:linePitch",pos:"w:pos"})}}var qr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var W_={},Jm={exports:{}},Us=typeof Reflect=="object"?Reflect:null,Aw=Us&&typeof Us.apply=="function"?Us.apply:function(e,r,n){return Function.prototype.apply.call(e,r,n)},Tc;Us&&typeof Us.ownKeys=="function"?Tc=Us.ownKeys:Object.getOwnPropertySymbols?Tc=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Tc=function(e){return Object.getOwnPropertyNames(e)};function W4(t){console&&console.warn&&console.warn(t)}var H_=Number.isNaN||function(e){return e!==e};function Ue(){Ue.init.call(this)}Jm.exports=Ue;Jm.exports.once=q4;Ue.EventEmitter=Ue;Ue.prototype._events=void 0;Ue.prototype._eventsCount=0;Ue.prototype._maxListeners=void 0;var jw=10;function Zu(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(Ue,"defaultMaxListeners",{enumerable:!0,get:function(){return jw},set:function(t){if(typeof t!="number"||t<0||H_(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");jw=t}});Ue.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Ue.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||H_(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function V_(t){return t._maxListeners===void 0?Ue.defaultMaxListeners:t._maxListeners}Ue.prototype.getMaxListeners=function(){return V_(this)};Ue.prototype.emit=function(e){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var i=e==="error",s=this._events;if(s!==void 0)i=i&&s.error===void 0;else if(!i)return!1;if(i){var a;if(r.length>0&&(a=r[0]),a instanceof Error)throw a;var o=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw o.context=a,o}var l=s[e];if(l===void 0)return!1;if(typeof l=="function")Aw(l,this,r);else for(var c=l.length,u=X_(l,c),n=0;n<c;++n)Aw(u[n],this,r);return!0};function K_(t,e,r,n){var i,s,a;if(Zu(r),s=t._events,s===void 0?(s=t._events=Object.create(null),t._eventsCount=0):(s.newListener!==void 0&&(t.emit("newListener",e,r.listener?r.listener:r),s=t._events),a=s[e]),a===void 0)a=s[e]=r,++t._eventsCount;else if(typeof a=="function"?a=s[e]=n?[r,a]:[a,r]:n?a.unshift(r):a.push(r),i=V_(t),i>0&&a.length>i&&!a.warned){a.warned=!0;var o=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");o.name="MaxListenersExceededWarning",o.emitter=t,o.type=e,o.count=a.length,W4(o)}return t}Ue.prototype.addListener=function(e,r){return K_(this,e,r,!1)};Ue.prototype.on=Ue.prototype.addListener;Ue.prototype.prependListener=function(e,r){return K_(this,e,r,!0)};function H4(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function q_(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},i=H4.bind(n);return i.listener=r,n.wrapFn=i,i}Ue.prototype.once=function(e,r){return Zu(r),this.on(e,q_(this,e,r)),this};Ue.prototype.prependOnceListener=function(e,r){return Zu(r),this.prependListener(e,q_(this,e,r)),this};Ue.prototype.removeListener=function(e,r){var n,i,s,a,o;if(Zu(r),i=this._events,i===void 0)return this;if(n=i[e],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||r));else if(typeof n!="function"){for(s=-1,a=n.length-1;a>=0;a--)if(n[a]===r||n[a].listener===r){o=n[a].listener,s=a;break}if(s<0)return this;s===0?n.shift():V4(n,s),n.length===1&&(i[e]=n[0]),i.removeListener!==void 0&&this.emit("removeListener",e,o||r)}return this};Ue.prototype.off=Ue.prototype.removeListener;Ue.prototype.removeAllListeners=function(e){var r,n,i;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[e]),this;if(arguments.length===0){var s=Object.keys(n),a;for(i=0;i<s.length;++i)a=s[i],a!=="removeListener"&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[e],typeof r=="function")this.removeListener(e,r);else if(r!==void 0)for(i=r.length-1;i>=0;i--)this.removeListener(e,r[i]);return this};function G_(t,e,r){var n=t._events;if(n===void 0)return[];var i=n[e];return i===void 0?[]:typeof i=="function"?r?[i.listener||i]:[i]:r?K4(i):X_(i,i.length)}Ue.prototype.listeners=function(e){return G_(this,e,!0)};Ue.prototype.rawListeners=function(e){return G_(this,e,!1)};Ue.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):Y_.call(t,e)};Ue.prototype.listenerCount=Y_;function Y_(t){var e=this._events;if(e!==void 0){var r=e[t];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}Ue.prototype.eventNames=function(){return this._eventsCount>0?Tc(this._events):[]};function X_(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function V4(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function K4(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}function q4(t,e){return new Promise(function(r,n){function i(a){t.removeListener(e,s),n(a)}function s(){typeof t.removeListener=="function"&&t.removeListener("error",i),r([].slice.call(arguments))}Q_(t,e,s,{once:!0}),e!=="error"&&G4(t,i,{once:!0})})}function G4(t,e,r){typeof t.on=="function"&&Q_(t,"error",e,r)}function Q_(t,e,r,n){if(typeof t.on=="function")n.once?t.once(e,r):t.on(e,r);else if(typeof t.addEventListener=="function")t.addEventListener(e,function i(s){n.once&&t.removeEventListener(e,i),r(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var Zm=Jm.exports,yp={exports:{}};typeof Object.create=="function"?yp.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:yp.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}};var rs=yp.exports;function Y4(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var J_={exports:{}},ut=J_.exports={},Ur,$r;function wp(){throw new Error("setTimeout has not been defined")}function vp(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?Ur=setTimeout:Ur=wp}catch{Ur=wp}try{typeof clearTimeout=="function"?$r=clearTimeout:$r=vp}catch{$r=vp}})();function Z_(t){if(Ur===setTimeout)return setTimeout(t,0);if((Ur===wp||!Ur)&&setTimeout)return Ur=setTimeout,setTimeout(t,0);try{return Ur(t,0)}catch{try{return Ur.call(null,t,0)}catch{return Ur.call(this,t,0)}}}function X4(t){if($r===clearTimeout)return clearTimeout(t);if(($r===vp||!$r)&&clearTimeout)return $r=clearTimeout,clearTimeout(t);try{return $r(t)}catch{try{return $r.call(null,t)}catch{return $r.call(this,t)}}}var dn=[],$s=!1,Pi,Nc=-1;function Q4(){!$s||!Pi||($s=!1,Pi.length?dn=Pi.concat(dn):Nc=-1,dn.length&&ek())}function ek(){if(!$s){var t=Z_(Q4);$s=!0;for(var e=dn.length;e;){for(Pi=dn,dn=[];++Nc<e;)Pi&&Pi[Nc].run();Nc=-1,e=dn.length}Pi=null,$s=!1,X4(t)}}ut.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];dn.push(new tk(t,e)),dn.length===1&&!$s&&Z_(ek)};function tk(t,e){this.fun=t,this.array=e}tk.prototype.run=function(){this.fun.apply(null,this.array)};ut.title="browser";ut.browser=!0;ut.env={};ut.argv=[];ut.version="";ut.versions={};function kn(){}ut.on=kn;ut.addListener=kn;ut.once=kn;ut.off=kn;ut.removeListener=kn;ut.removeAllListeners=kn;ut.emit=kn;ut.prependListener=kn;ut.prependOnceListener=kn;ut.listeners=function(t){return[]};ut.binding=function(t){throw new Error("process.binding is not supported")};ut.cwd=function(){return"/"};ut.chdir=function(t){throw new Error("process.chdir is not supported")};ut.umask=function(){return 0};var J4=J_.exports;const Ae=Y4(J4);var sh,Cw;function rk(){return Cw||(Cw=1,sh=Zm.EventEmitter),sh}var ah={},za={},Pw;function Z4(){if(Pw)return za;Pw=1,za.byteLength=o,za.toByteArray=c,za.fromByteArray=f;for(var t=[],e=[],r=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,s=n.length;i<s;++i)t[i]=n[i],e[n.charCodeAt(i)]=i;e[45]=62,e[95]=63;function a(p){var w=p.length;if(w%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var g=p.indexOf("=");g===-1&&(g=w);var b=g===w?0:4-g%4;return[g,b]}function o(p){var w=a(p),g=w[0],b=w[1];return(g+b)*3/4-b}function l(p,w,g){return(w+g)*3/4-g}function c(p){var w,g=a(p),b=g[0],m=g[1],y=new r(l(p,b,m)),_=0,k=m>0?b-4:b,T;for(T=0;T<k;T+=4)w=e[p.charCodeAt(T)]<<18|e[p.charCodeAt(T+1)]<<12|e[p.charCodeAt(T+2)]<<6|e[p.charCodeAt(T+3)],y[_++]=w>>16&255,y[_++]=w>>8&255,y[_++]=w&255;return m===2&&(w=e[p.charCodeAt(T)]<<2|e[p.charCodeAt(T+1)]>>4,y[_++]=w&255),m===1&&(w=e[p.charCodeAt(T)]<<10|e[p.charCodeAt(T+1)]<<4|e[p.charCodeAt(T+2)]>>2,y[_++]=w>>8&255,y[_++]=w&255),y}function u(p){return t[p>>18&63]+t[p>>12&63]+t[p>>6&63]+t[p&63]}function h(p,w,g){for(var b,m=[],y=w;y<g;y+=3)b=(p[y]<<16&16711680)+(p[y+1]<<8&65280)+(p[y+2]&255),m.push(u(b));return m.join("")}function f(p){for(var w,g=p.length,b=g%3,m=[],y=16383,_=0,k=g-b;_<k;_+=y)m.push(h(p,_,_+y>k?k:_+y));return b===1?(w=p[g-1],m.push(t[w>>2]+t[w<<4&63]+"==")):b===2&&(w=(p[g-2]<<8)+p[g-1],m.push(t[w>>10]+t[w>>4&63]+t[w<<2&63]+"=")),m.join("")}return za}var Xl={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var Ow;function e6(){return Ow||(Ow=1,Xl.read=function(t,e,r,n,i){var s,a,o=i*8-n-1,l=(1<<o)-1,c=l>>1,u=-7,h=r?i-1:0,f=r?-1:1,p=t[e+h];for(h+=f,s=p&(1<<-u)-1,p>>=-u,u+=o;u>0;s=s*256+t[e+h],h+=f,u-=8);for(a=s&(1<<-u)-1,s>>=-u,u+=n;u>0;a=a*256+t[e+h],h+=f,u-=8);if(s===0)s=1-c;else{if(s===l)return a?NaN:(p?-1:1)*(1/0);a=a+Math.pow(2,n),s=s-c}return(p?-1:1)*a*Math.pow(2,s-n)},Xl.write=function(t,e,r,n,i,s){var a,o,l,c=s*8-i-1,u=(1<<c)-1,h=u>>1,f=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:s-1,w=n?1:-1,g=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(o=isNaN(e)?1:0,a=u):(a=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-a))<1&&(a--,l*=2),a+h>=1?e+=f/l:e+=f*Math.pow(2,1-h),e*l>=2&&(a++,l/=2),a+h>=u?(o=0,a=u):a+h>=1?(o=(e*l-1)*Math.pow(2,i),a=a+h):(o=e*Math.pow(2,h-1)*Math.pow(2,i),a=0));i>=8;t[r+p]=o&255,p+=w,o/=256,i-=8);for(a=a<<i|o,c+=i;c>0;t[r+p]=a&255,p+=w,a/=256,c-=8);t[r+p-w]|=g*128}),Xl}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var Rw;function ed(){return Rw||(Rw=1,function(t){var e=Z4(),r=e6(),n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=o,t.SlowBuffer=y,t.INSPECT_MAX_BYTES=50;var i=2147483647;t.kMaxLength=i,o.TYPED_ARRAY_SUPPORT=s(),!o.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{var C=new Uint8Array(1),v={foo:function(){return 42}};return Object.setPrototypeOf(v,Uint8Array.prototype),Object.setPrototypeOf(C,v),C.foo()===42}catch{return!1}}Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}});function a(C){if(C>i)throw new RangeError('The value "'+C+'" is invalid for option "size"');var v=new Uint8Array(C);return Object.setPrototypeOf(v,o.prototype),v}function o(C,v,x){if(typeof C=="number"){if(typeof v=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return h(C)}return l(C,v,x)}o.poolSize=8192;function l(C,v,x){if(typeof C=="string")return f(C,v);if(ArrayBuffer.isView(C))return w(C);if(C==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof C);if(se(C,ArrayBuffer)||C&&se(C.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(se(C,SharedArrayBuffer)||C&&se(C.buffer,SharedArrayBuffer)))return g(C,v,x);if(typeof C=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var S=C.valueOf&&C.valueOf();if(S!=null&&S!==C)return o.from(S,v,x);var z=b(C);if(z)return z;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof C[Symbol.toPrimitive]=="function")return o.from(C[Symbol.toPrimitive]("string"),v,x);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof C)}o.from=function(C,v,x){return l(C,v,x)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array);function c(C){if(typeof C!="number")throw new TypeError('"size" argument must be of type number');if(C<0)throw new RangeError('The value "'+C+'" is invalid for option "size"')}function u(C,v,x){return c(C),C<=0?a(C):v!==void 0?typeof x=="string"?a(C).fill(v,x):a(C).fill(v):a(C)}o.alloc=function(C,v,x){return u(C,v,x)};function h(C){return c(C),a(C<0?0:m(C)|0)}o.allocUnsafe=function(C){return h(C)},o.allocUnsafeSlow=function(C){return h(C)};function f(C,v){if((typeof v!="string"||v==="")&&(v="utf8"),!o.isEncoding(v))throw new TypeError("Unknown encoding: "+v);var x=_(C,v)|0,S=a(x),z=S.write(C,v);return z!==x&&(S=S.slice(0,z)),S}function p(C){for(var v=C.length<0?0:m(C.length)|0,x=a(v),S=0;S<v;S+=1)x[S]=C[S]&255;return x}function w(C){if(se(C,Uint8Array)){var v=new Uint8Array(C);return g(v.buffer,v.byteOffset,v.byteLength)}return p(C)}function g(C,v,x){if(v<0||C.byteLength<v)throw new RangeError('"offset" is outside of buffer bounds');if(C.byteLength<v+(x||0))throw new RangeError('"length" is outside of buffer bounds');var S;return v===void 0&&x===void 0?S=new Uint8Array(C):x===void 0?S=new Uint8Array(C,v):S=new Uint8Array(C,v,x),Object.setPrototypeOf(S,o.prototype),S}function b(C){if(o.isBuffer(C)){var v=m(C.length)|0,x=a(v);return x.length===0||C.copy(x,0,0,v),x}if(C.length!==void 0)return typeof C.length!="number"||E(C.length)?a(0):p(C);if(C.type==="Buffer"&&Array.isArray(C.data))return p(C.data)}function m(C){if(C>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return C|0}function y(C){return+C!=C&&(C=0),o.alloc(+C)}o.isBuffer=function(v){return v!=null&&v._isBuffer===!0&&v!==o.prototype},o.compare=function(v,x){if(se(v,Uint8Array)&&(v=o.from(v,v.offset,v.byteLength)),se(x,Uint8Array)&&(x=o.from(x,x.offset,x.byteLength)),!o.isBuffer(v)||!o.isBuffer(x))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(v===x)return 0;for(var S=v.length,z=x.length,Y=0,$=Math.min(S,z);Y<$;++Y)if(v[Y]!==x[Y]){S=v[Y],z=x[Y];break}return S<z?-1:z<S?1:0},o.isEncoding=function(v){switch(String(v).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(v,x){if(!Array.isArray(v))throw new TypeError('"list" argument must be an Array of Buffers');if(v.length===0)return o.alloc(0);var S;if(x===void 0)for(x=0,S=0;S<v.length;++S)x+=v[S].length;var z=o.allocUnsafe(x),Y=0;for(S=0;S<v.length;++S){var $=v[S];if(se($,Uint8Array))Y+$.length>z.length?o.from($).copy(z,Y):Uint8Array.prototype.set.call(z,$,Y);else if(o.isBuffer($))$.copy(z,Y);else throw new TypeError('"list" argument must be an Array of Buffers');Y+=$.length}return z};function _(C,v){if(o.isBuffer(C))return C.length;if(ArrayBuffer.isView(C)||se(C,ArrayBuffer))return C.byteLength;if(typeof C!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof C);var x=C.length,S=arguments.length>2&&arguments[2]===!0;if(!S&&x===0)return 0;for(var z=!1;;)switch(v){case"ascii":case"latin1":case"binary":return x;case"utf8":case"utf-8":return A(C).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x*2;case"hex":return x>>>1;case"base64":return M(C).length;default:if(z)return S?-1:A(C).length;v=(""+v).toLowerCase(),z=!0}}o.byteLength=_;function k(C,v,x){var S=!1;if((v===void 0||v<0)&&(v=0),v>this.length||((x===void 0||x>this.length)&&(x=this.length),x<=0)||(x>>>=0,v>>>=0,x<=v))return"";for(C||(C="utf8");;)switch(C){case"hex":return Z(this,v,x);case"utf8":case"utf-8":return P(this,v,x);case"ascii":return X(this,v,x);case"latin1":case"binary":return re(this,v,x);case"base64":return W(this,v,x);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return le(this,v,x);default:if(S)throw new TypeError("Unknown encoding: "+C);C=(C+"").toLowerCase(),S=!0}}o.prototype._isBuffer=!0;function T(C,v,x){var S=C[v];C[v]=C[x],C[x]=S}o.prototype.swap16=function(){var v=this.length;if(v%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var x=0;x<v;x+=2)T(this,x,x+1);return this},o.prototype.swap32=function(){var v=this.length;if(v%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var x=0;x<v;x+=4)T(this,x,x+3),T(this,x+1,x+2);return this},o.prototype.swap64=function(){var v=this.length;if(v%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var x=0;x<v;x+=8)T(this,x,x+7),T(this,x+1,x+6),T(this,x+2,x+5),T(this,x+3,x+4);return this},o.prototype.toString=function(){var v=this.length;return v===0?"":arguments.length===0?P(this,0,v):k.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(v){if(!o.isBuffer(v))throw new TypeError("Argument must be a Buffer");return this===v?!0:o.compare(this,v)===0},o.prototype.inspect=function(){var v="",x=t.INSPECT_MAX_BYTES;return v=this.toString("hex",0,x).replace(/(.{2})/g,"$1 ").trim(),this.length>x&&(v+=" ... "),"<Buffer "+v+">"},n&&(o.prototype[n]=o.prototype.inspect),o.prototype.compare=function(v,x,S,z,Y){if(se(v,Uint8Array)&&(v=o.from(v,v.offset,v.byteLength)),!o.isBuffer(v))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof v);if(x===void 0&&(x=0),S===void 0&&(S=v?v.length:0),z===void 0&&(z=0),Y===void 0&&(Y=this.length),x<0||S>v.length||z<0||Y>this.length)throw new RangeError("out of range index");if(z>=Y&&x>=S)return 0;if(z>=Y)return-1;if(x>=S)return 1;if(x>>>=0,S>>>=0,z>>>=0,Y>>>=0,this===v)return 0;for(var $=Y-z,oe=S-x,fe=Math.min($,oe),de=this.slice(z,Y),ge=v.slice(x,S),xe=0;xe<fe;++xe)if(de[xe]!==ge[xe]){$=de[xe],oe=ge[xe];break}return $<oe?-1:oe<$?1:0};function I(C,v,x,S,z){if(C.length===0)return-1;if(typeof x=="string"?(S=x,x=0):x>2147483647?x=2147483647:x<-2147483648&&(x=-2147483648),x=+x,E(x)&&(x=z?0:C.length-1),x<0&&(x=C.length+x),x>=C.length){if(z)return-1;x=C.length-1}else if(x<0)if(z)x=0;else return-1;if(typeof v=="string"&&(v=o.from(v,S)),o.isBuffer(v))return v.length===0?-1:O(C,v,x,S,z);if(typeof v=="number")return v=v&255,typeof Uint8Array.prototype.indexOf=="function"?z?Uint8Array.prototype.indexOf.call(C,v,x):Uint8Array.prototype.lastIndexOf.call(C,v,x):O(C,[v],x,S,z);throw new TypeError("val must be string, number or Buffer")}function O(C,v,x,S,z){var Y=1,$=C.length,oe=v.length;if(S!==void 0&&(S=String(S).toLowerCase(),S==="ucs2"||S==="ucs-2"||S==="utf16le"||S==="utf-16le")){if(C.length<2||v.length<2)return-1;Y=2,$/=2,oe/=2,x/=2}function fe(Lt,Sn){return Y===1?Lt[Sn]:Lt.readUInt16BE(Sn*Y)}var de;if(z){var ge=-1;for(de=x;de<$;de++)if(fe(C,de)===fe(v,ge===-1?0:de-ge)){if(ge===-1&&(ge=de),de-ge+1===oe)return ge*Y}else ge!==-1&&(de-=de-ge),ge=-1}else for(x+oe>$&&(x=$-oe),de=x;de>=0;de--){for(var xe=!0,ke=0;ke<oe;ke++)if(fe(C,de+ke)!==fe(v,ke)){xe=!1;break}if(xe)return de}return-1}o.prototype.includes=function(v,x,S){return this.indexOf(v,x,S)!==-1},o.prototype.indexOf=function(v,x,S){return I(this,v,x,S,!0)},o.prototype.lastIndexOf=function(v,x,S){return I(this,v,x,S,!1)};function L(C,v,x,S){x=Number(x)||0;var z=C.length-x;S?(S=Number(S),S>z&&(S=z)):S=z;var Y=v.length;S>Y/2&&(S=Y/2);for(var $=0;$<S;++$){var oe=parseInt(v.substr($*2,2),16);if(E(oe))return $;C[x+$]=oe}return $}function N(C,v,x,S){return F(A(v,C.length-x),C,x,S)}function H(C,v,x,S){return F(V(v),C,x,S)}function ee(C,v,x,S){return F(M(v),C,x,S)}function R(C,v,x,S){return F(U(v,C.length-x),C,x,S)}o.prototype.write=function(v,x,S,z){if(x===void 0)z="utf8",S=this.length,x=0;else if(S===void 0&&typeof x=="string")z=x,S=this.length,x=0;else if(isFinite(x))x=x>>>0,isFinite(S)?(S=S>>>0,z===void 0&&(z="utf8")):(z=S,S=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var Y=this.length-x;if((S===void 0||S>Y)&&(S=Y),v.length>0&&(S<0||x<0)||x>this.length)throw new RangeError("Attempt to write outside buffer bounds");z||(z="utf8");for(var $=!1;;)switch(z){case"hex":return L(this,v,x,S);case"utf8":case"utf-8":return N(this,v,x,S);case"ascii":case"latin1":case"binary":return H(this,v,x,S);case"base64":return ee(this,v,x,S);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,v,x,S);default:if($)throw new TypeError("Unknown encoding: "+z);z=(""+z).toLowerCase(),$=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function W(C,v,x){return v===0&&x===C.length?e.fromByteArray(C):e.fromByteArray(C.slice(v,x))}function P(C,v,x){x=Math.min(C.length,x);for(var S=[],z=v;z<x;){var Y=C[z],$=null,oe=Y>239?4:Y>223?3:Y>191?2:1;if(z+oe<=x){var fe,de,ge,xe;switch(oe){case 1:Y<128&&($=Y);break;case 2:fe=C[z+1],(fe&192)===128&&(xe=(Y&31)<<6|fe&63,xe>127&&($=xe));break;case 3:fe=C[z+1],de=C[z+2],(fe&192)===128&&(de&192)===128&&(xe=(Y&15)<<12|(fe&63)<<6|de&63,xe>2047&&(xe<55296||xe>57343)&&($=xe));break;case 4:fe=C[z+1],de=C[z+2],ge=C[z+3],(fe&192)===128&&(de&192)===128&&(ge&192)===128&&(xe=(Y&15)<<18|(fe&63)<<12|(de&63)<<6|ge&63,xe>65535&&xe<1114112&&($=xe))}}$===null?($=65533,oe=1):$>65535&&($-=65536,S.push($>>>10&1023|55296),$=56320|$&1023),S.push($),z+=oe}return ne(S)}var B=4096;function ne(C){var v=C.length;if(v<=B)return String.fromCharCode.apply(String,C);for(var x="",S=0;S<v;)x+=String.fromCharCode.apply(String,C.slice(S,S+=B));return x}function X(C,v,x){var S="";x=Math.min(C.length,x);for(var z=v;z<x;++z)S+=String.fromCharCode(C[z]&127);return S}function re(C,v,x){var S="";x=Math.min(C.length,x);for(var z=v;z<x;++z)S+=String.fromCharCode(C[z]);return S}function Z(C,v,x){var S=C.length;(!v||v<0)&&(v=0),(!x||x<0||x>S)&&(x=S);for(var z="",Y=v;Y<x;++Y)z+=te[C[Y]];return z}function le(C,v,x){for(var S=C.slice(v,x),z="",Y=0;Y<S.length-1;Y+=2)z+=String.fromCharCode(S[Y]+S[Y+1]*256);return z}o.prototype.slice=function(v,x){var S=this.length;v=~~v,x=x===void 0?S:~~x,v<0?(v+=S,v<0&&(v=0)):v>S&&(v=S),x<0?(x+=S,x<0&&(x=0)):x>S&&(x=S),x<v&&(x=v);var z=this.subarray(v,x);return Object.setPrototypeOf(z,o.prototype),z};function G(C,v,x){if(C%1!==0||C<0)throw new RangeError("offset is not uint");if(C+v>x)throw new RangeError("Trying to access beyond buffer length")}o.prototype.readUintLE=o.prototype.readUIntLE=function(v,x,S){v=v>>>0,x=x>>>0,S||G(v,x,this.length);for(var z=this[v],Y=1,$=0;++$<x&&(Y*=256);)z+=this[v+$]*Y;return z},o.prototype.readUintBE=o.prototype.readUIntBE=function(v,x,S){v=v>>>0,x=x>>>0,S||G(v,x,this.length);for(var z=this[v+--x],Y=1;x>0&&(Y*=256);)z+=this[v+--x]*Y;return z},o.prototype.readUint8=o.prototype.readUInt8=function(v,x){return v=v>>>0,x||G(v,1,this.length),this[v]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(v,x){return v=v>>>0,x||G(v,2,this.length),this[v]|this[v+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(v,x){return v=v>>>0,x||G(v,2,this.length),this[v]<<8|this[v+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(v,x){return v=v>>>0,x||G(v,4,this.length),(this[v]|this[v+1]<<8|this[v+2]<<16)+this[v+3]*16777216},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(v,x){return v=v>>>0,x||G(v,4,this.length),this[v]*16777216+(this[v+1]<<16|this[v+2]<<8|this[v+3])},o.prototype.readIntLE=function(v,x,S){v=v>>>0,x=x>>>0,S||G(v,x,this.length);for(var z=this[v],Y=1,$=0;++$<x&&(Y*=256);)z+=this[v+$]*Y;return Y*=128,z>=Y&&(z-=Math.pow(2,8*x)),z},o.prototype.readIntBE=function(v,x,S){v=v>>>0,x=x>>>0,S||G(v,x,this.length);for(var z=x,Y=1,$=this[v+--z];z>0&&(Y*=256);)$+=this[v+--z]*Y;return Y*=128,$>=Y&&($-=Math.pow(2,8*x)),$},o.prototype.readInt8=function(v,x){return v=v>>>0,x||G(v,1,this.length),this[v]&128?(255-this[v]+1)*-1:this[v]},o.prototype.readInt16LE=function(v,x){v=v>>>0,x||G(v,2,this.length);var S=this[v]|this[v+1]<<8;return S&32768?S|4294901760:S},o.prototype.readInt16BE=function(v,x){v=v>>>0,x||G(v,2,this.length);var S=this[v+1]|this[v]<<8;return S&32768?S|4294901760:S},o.prototype.readInt32LE=function(v,x){return v=v>>>0,x||G(v,4,this.length),this[v]|this[v+1]<<8|this[v+2]<<16|this[v+3]<<24},o.prototype.readInt32BE=function(v,x){return v=v>>>0,x||G(v,4,this.length),this[v]<<24|this[v+1]<<16|this[v+2]<<8|this[v+3]},o.prototype.readFloatLE=function(v,x){return v=v>>>0,x||G(v,4,this.length),r.read(this,v,!0,23,4)},o.prototype.readFloatBE=function(v,x){return v=v>>>0,x||G(v,4,this.length),r.read(this,v,!1,23,4)},o.prototype.readDoubleLE=function(v,x){return v=v>>>0,x||G(v,8,this.length),r.read(this,v,!0,52,8)},o.prototype.readDoubleBE=function(v,x){return v=v>>>0,x||G(v,8,this.length),r.read(this,v,!1,52,8)};function D(C,v,x,S,z,Y){if(!o.isBuffer(C))throw new TypeError('"buffer" argument must be a Buffer instance');if(v>z||v<Y)throw new RangeError('"value" argument is out of bounds');if(x+S>C.length)throw new RangeError("Index out of range")}o.prototype.writeUintLE=o.prototype.writeUIntLE=function(v,x,S,z){if(v=+v,x=x>>>0,S=S>>>0,!z){var Y=Math.pow(2,8*S)-1;D(this,v,x,S,Y,0)}var $=1,oe=0;for(this[x]=v&255;++oe<S&&($*=256);)this[x+oe]=v/$&255;return x+S},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(v,x,S,z){if(v=+v,x=x>>>0,S=S>>>0,!z){var Y=Math.pow(2,8*S)-1;D(this,v,x,S,Y,0)}var $=S-1,oe=1;for(this[x+$]=v&255;--$>=0&&(oe*=256);)this[x+$]=v/oe&255;return x+S},o.prototype.writeUint8=o.prototype.writeUInt8=function(v,x,S){return v=+v,x=x>>>0,S||D(this,v,x,1,255,0),this[x]=v&255,x+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(v,x,S){return v=+v,x=x>>>0,S||D(this,v,x,2,65535,0),this[x]=v&255,this[x+1]=v>>>8,x+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(v,x,S){return v=+v,x=x>>>0,S||D(this,v,x,2,65535,0),this[x]=v>>>8,this[x+1]=v&255,x+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(v,x,S){return v=+v,x=x>>>0,S||D(this,v,x,4,4294967295,0),this[x+3]=v>>>24,this[x+2]=v>>>16,this[x+1]=v>>>8,this[x]=v&255,x+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(v,x,S){return v=+v,x=x>>>0,S||D(this,v,x,4,4294967295,0),this[x]=v>>>24,this[x+1]=v>>>16,this[x+2]=v>>>8,this[x+3]=v&255,x+4},o.prototype.writeIntLE=function(v,x,S,z){if(v=+v,x=x>>>0,!z){var Y=Math.pow(2,8*S-1);D(this,v,x,S,Y-1,-Y)}var $=0,oe=1,fe=0;for(this[x]=v&255;++$<S&&(oe*=256);)v<0&&fe===0&&this[x+$-1]!==0&&(fe=1),this[x+$]=(v/oe>>0)-fe&255;return x+S},o.prototype.writeIntBE=function(v,x,S,z){if(v=+v,x=x>>>0,!z){var Y=Math.pow(2,8*S-1);D(this,v,x,S,Y-1,-Y)}var $=S-1,oe=1,fe=0;for(this[x+$]=v&255;--$>=0&&(oe*=256);)v<0&&fe===0&&this[x+$+1]!==0&&(fe=1),this[x+$]=(v/oe>>0)-fe&255;return x+S},o.prototype.writeInt8=function(v,x,S){return v=+v,x=x>>>0,S||D(this,v,x,1,127,-128),v<0&&(v=255+v+1),this[x]=v&255,x+1},o.prototype.writeInt16LE=function(v,x,S){return v=+v,x=x>>>0,S||D(this,v,x,2,32767,-32768),this[x]=v&255,this[x+1]=v>>>8,x+2},o.prototype.writeInt16BE=function(v,x,S){return v=+v,x=x>>>0,S||D(this,v,x,2,32767,-32768),this[x]=v>>>8,this[x+1]=v&255,x+2},o.prototype.writeInt32LE=function(v,x,S){return v=+v,x=x>>>0,S||D(this,v,x,4,2147483647,-2147483648),this[x]=v&255,this[x+1]=v>>>8,this[x+2]=v>>>16,this[x+3]=v>>>24,x+4},o.prototype.writeInt32BE=function(v,x,S){return v=+v,x=x>>>0,S||D(this,v,x,4,2147483647,-2147483648),v<0&&(v=4294967295+v+1),this[x]=v>>>24,this[x+1]=v>>>16,this[x+2]=v>>>8,this[x+3]=v&255,x+4};function J(C,v,x,S,z,Y){if(x+S>C.length)throw new RangeError("Index out of range");if(x<0)throw new RangeError("Index out of range")}function Q(C,v,x,S,z){return v=+v,x=x>>>0,z||J(C,v,x,4),r.write(C,v,x,S,23,4),x+4}o.prototype.writeFloatLE=function(v,x,S){return Q(this,v,x,!0,S)},o.prototype.writeFloatBE=function(v,x,S){return Q(this,v,x,!1,S)};function ie(C,v,x,S,z){return v=+v,x=x>>>0,z||J(C,v,x,8),r.write(C,v,x,S,52,8),x+8}o.prototype.writeDoubleLE=function(v,x,S){return ie(this,v,x,!0,S)},o.prototype.writeDoubleBE=function(v,x,S){return ie(this,v,x,!1,S)},o.prototype.copy=function(v,x,S,z){if(!o.isBuffer(v))throw new TypeError("argument should be a Buffer");if(S||(S=0),!z&&z!==0&&(z=this.length),x>=v.length&&(x=v.length),x||(x=0),z>0&&z<S&&(z=S),z===S||v.length===0||this.length===0)return 0;if(x<0)throw new RangeError("targetStart out of bounds");if(S<0||S>=this.length)throw new RangeError("Index out of range");if(z<0)throw new RangeError("sourceEnd out of bounds");z>this.length&&(z=this.length),v.length-x<z-S&&(z=v.length-x+S);var Y=z-S;return this===v&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(x,S,z):Uint8Array.prototype.set.call(v,this.subarray(S,z),x),Y},o.prototype.fill=function(v,x,S,z){if(typeof v=="string"){if(typeof x=="string"?(z=x,x=0,S=this.length):typeof S=="string"&&(z=S,S=this.length),z!==void 0&&typeof z!="string")throw new TypeError("encoding must be a string");if(typeof z=="string"&&!o.isEncoding(z))throw new TypeError("Unknown encoding: "+z);if(v.length===1){var Y=v.charCodeAt(0);(z==="utf8"&&Y<128||z==="latin1")&&(v=Y)}}else typeof v=="number"?v=v&255:typeof v=="boolean"&&(v=Number(v));if(x<0||this.length<x||this.length<S)throw new RangeError("Out of range index");if(S<=x)return this;x=x>>>0,S=S===void 0?this.length:S>>>0,v||(v=0);var $;if(typeof v=="number")for($=x;$<S;++$)this[$]=v;else{var oe=o.isBuffer(v)?v:o.from(v,z),fe=oe.length;if(fe===0)throw new TypeError('The value "'+v+'" is invalid for argument "value"');for($=0;$<S-x;++$)this[$+x]=oe[$%fe]}return this};var q=/[^+/0-9A-Za-z-_]/g;function j(C){if(C=C.split("=")[0],C=C.trim().replace(q,""),C.length<2)return"";for(;C.length%4!==0;)C=C+"=";return C}function A(C,v){v=v||1/0;for(var x,S=C.length,z=null,Y=[],$=0;$<S;++$){if(x=C.charCodeAt($),x>55295&&x<57344){if(!z){if(x>56319){(v-=3)>-1&&Y.push(239,191,189);continue}else if($+1===S){(v-=3)>-1&&Y.push(239,191,189);continue}z=x;continue}if(x<56320){(v-=3)>-1&&Y.push(239,191,189),z=x;continue}x=(z-55296<<10|x-56320)+65536}else z&&(v-=3)>-1&&Y.push(239,191,189);if(z=null,x<128){if((v-=1)<0)break;Y.push(x)}else if(x<2048){if((v-=2)<0)break;Y.push(x>>6|192,x&63|128)}else if(x<65536){if((v-=3)<0)break;Y.push(x>>12|224,x>>6&63|128,x&63|128)}else if(x<1114112){if((v-=4)<0)break;Y.push(x>>18|240,x>>12&63|128,x>>6&63|128,x&63|128)}else throw new Error("Invalid code point")}return Y}function V(C){for(var v=[],x=0;x<C.length;++x)v.push(C.charCodeAt(x)&255);return v}function U(C,v){for(var x,S,z,Y=[],$=0;$<C.length&&!((v-=2)<0);++$)x=C.charCodeAt($),S=x>>8,z=x%256,Y.push(z),Y.push(S);return Y}function M(C){return e.toByteArray(j(C))}function F(C,v,x,S){for(var z=0;z<S&&!(z+x>=v.length||z>=C.length);++z)v[z+x]=C[z];return z}function se(C,v){return C instanceof v||C!=null&&C.constructor!=null&&C.constructor.name!=null&&C.constructor.name===v.name}function E(C){return C!==C}var te=function(){for(var C="0123456789abcdef",v=new Array(256),x=0;x<16;++x)for(var S=x*16,z=0;z<16;++z)v[S+z]=C[x]+C[z];return v}()}(ah)),ah}var oh={},lh={},ch,Dw;function nk(){return Dw||(Dw=1,ch=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(e,r);if(a.value!==i||a.enumerable!==!0)return!1}return!0}),ch}var uh,Iw;function eg(){if(Iw)return uh;Iw=1;var t=nk();return uh=function(){return t()&&!!Symbol.toStringTag},uh}var dh,Mw;function t6(){if(Mw)return dh;Mw=1;var t=typeof Symbol<"u"&&Symbol,e=nk();return dh=function(){return typeof t!="function"||typeof Symbol!="function"||typeof t("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},dh}var hh,Lw;function r6(){if(Lw)return hh;Lw=1;var t={foo:{}},e=Object;return hh=function(){return{__proto__:t}.foo===t.foo&&!({__proto__:null}instanceof e)},hh}var fh,Fw;function n6(){if(Fw)return fh;Fw=1;var t="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,r=Math.max,n="[object Function]",i=function(l,c){for(var u=[],h=0;h<l.length;h+=1)u[h]=l[h];for(var f=0;f<c.length;f+=1)u[f+l.length]=c[f];return u},s=function(l,c){for(var u=[],h=c,f=0;h<l.length;h+=1,f+=1)u[f]=l[h];return u},a=function(o,l){for(var c="",u=0;u<o.length;u+=1)c+=o[u],u+1<o.length&&(c+=l);return c};return fh=function(l){var c=this;if(typeof c!="function"||e.apply(c)!==n)throw new TypeError(t+c);for(var u=s(arguments,1),h,f=function(){if(this instanceof h){var m=c.apply(this,i(u,arguments));return Object(m)===m?m:this}return c.apply(l,i(u,arguments))},p=r(0,c.length-u.length),w=[],g=0;g<p;g++)w[g]="$"+g;if(h=Function("binder","return function ("+a(w,",")+"){ return binder.apply(this,arguments); }")(f),c.prototype){var b=function(){};b.prototype=c.prototype,h.prototype=new b,b.prototype=null}return h},fh}var ph,Bw;function tg(){if(Bw)return ph;Bw=1;var t=n6();return ph=Function.prototype.bind||t,ph}var mh,zw;function i6(){if(zw)return mh;zw=1;var t=Function.prototype.call,e=Object.prototype.hasOwnProperty,r=tg();return mh=r.call(t,e),mh}var gh,Uw;function va(){if(Uw)return gh;Uw=1;var t,e=SyntaxError,r=Function,n=TypeError,i=function(R){try{return r('"use strict"; return ('+R+").constructor;")()}catch{}},s=Object.getOwnPropertyDescriptor;if(s)try{s({},"")}catch{s=null}var a=function(){throw new n},o=s?function(){try{return arguments.callee,a}catch{try{return s(arguments,"callee").get}catch{return a}}}():a,l=t6()(),c=r6()(),u=Object.getPrototypeOf||(c?function(R){return R.__proto__}:null),h={},f=typeof Uint8Array>"u"||!u?t:u(Uint8Array),p={"%AggregateError%":typeof AggregateError>"u"?t:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?t:ArrayBuffer,"%ArrayIteratorPrototype%":l&&u?u([][Symbol.iterator]()):t,"%AsyncFromSyncIteratorPrototype%":t,"%AsyncFunction%":h,"%AsyncGenerator%":h,"%AsyncGeneratorFunction%":h,"%AsyncIteratorPrototype%":h,"%Atomics%":typeof Atomics>"u"?t:Atomics,"%BigInt%":typeof BigInt>"u"?t:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?t:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?t:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?t:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?t:Float32Array,"%Float64Array%":typeof Float64Array>"u"?t:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?t:FinalizationRegistry,"%Function%":r,"%GeneratorFunction%":h,"%Int8Array%":typeof Int8Array>"u"?t:Int8Array,"%Int16Array%":typeof Int16Array>"u"?t:Int16Array,"%Int32Array%":typeof Int32Array>"u"?t:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":l&&u?u(u([][Symbol.iterator]())):t,"%JSON%":typeof JSON=="object"?JSON:t,"%Map%":typeof Map>"u"?t:Map,"%MapIteratorPrototype%":typeof Map>"u"||!l||!u?t:u(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?t:Promise,"%Proxy%":typeof Proxy>"u"?t:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?t:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?t:Set,"%SetIteratorPrototype%":typeof Set>"u"||!l||!u?t:u(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?t:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":l&&u?u(""[Symbol.iterator]()):t,"%Symbol%":l?Symbol:t,"%SyntaxError%":e,"%ThrowTypeError%":o,"%TypedArray%":f,"%TypeError%":n,"%Uint8Array%":typeof Uint8Array>"u"?t:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?t:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?t:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?t:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?t:WeakMap,"%WeakRef%":typeof WeakRef>"u"?t:WeakRef,"%WeakSet%":typeof WeakSet>"u"?t:WeakSet};if(u)try{null.error}catch(R){var w=u(u(R));p["%Error.prototype%"]=w}var g=function R(W){var P;if(W==="%AsyncFunction%")P=i("async function () {}");else if(W==="%GeneratorFunction%")P=i("function* () {}");else if(W==="%AsyncGeneratorFunction%")P=i("async function* () {}");else if(W==="%AsyncGenerator%"){var B=R("%AsyncGeneratorFunction%");B&&(P=B.prototype)}else if(W==="%AsyncIteratorPrototype%"){var ne=R("%AsyncGenerator%");ne&&u&&(P=u(ne.prototype))}return p[W]=P,P},b={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},m=tg(),y=i6(),_=m.call(Function.call,Array.prototype.concat),k=m.call(Function.apply,Array.prototype.splice),T=m.call(Function.call,String.prototype.replace),I=m.call(Function.call,String.prototype.slice),O=m.call(Function.call,RegExp.prototype.exec),L=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,N=/\\(\\)?/g,H=function(W){var P=I(W,0,1),B=I(W,-1);if(P==="%"&&B!=="%")throw new e("invalid intrinsic syntax, expected closing `%`");if(B==="%"&&P!=="%")throw new e("invalid intrinsic syntax, expected opening `%`");var ne=[];return T(W,L,function(X,re,Z,le){ne[ne.length]=Z?T(le,N,"$1"):re||X}),ne},ee=function(W,P){var B=W,ne;if(y(b,B)&&(ne=b[B],B="%"+ne[0]+"%"),y(p,B)){var X=p[B];if(X===h&&(X=g(B)),typeof X>"u"&&!P)throw new n("intrinsic "+W+" exists, but is not available. Please file an issue!");return{alias:ne,name:B,value:X}}throw new e("intrinsic "+W+" does not exist!")};return gh=function(W,P){if(typeof W!="string"||W.length===0)throw new n("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof P!="boolean")throw new n('"allowMissing" argument must be a boolean');if(O(/^%?[^%]*%?$/,W)===null)throw new e("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var B=H(W),ne=B.length>0?B[0]:"",X=ee("%"+ne+"%",P),re=X.name,Z=X.value,le=!1,G=X.alias;G&&(ne=G[0],k(B,_([0,1],G)));for(var D=1,J=!0;D<B.length;D+=1){var Q=B[D],ie=I(Q,0,1),q=I(Q,-1);if((ie==='"'||ie==="'"||ie==="`"||q==='"'||q==="'"||q==="`")&&ie!==q)throw new e("property names with quotes must have matching quotes");if((Q==="constructor"||!J)&&(le=!0),ne+="."+Q,re="%"+ne+"%",y(p,re))Z=p[re];else if(Z!=null){if(!(Q in Z)){if(!P)throw new n("base intrinsic for "+W+" exists, but the property is not available.");return}if(s&&D+1>=B.length){var j=s(Z,Q);J=!!j,J&&"get"in j&&!("originalValue"in j.get)?Z=j.get:Z=Z[Q]}else J=y(Z,Q),Z=Z[Q];J&&!le&&(p[re]=Z)}}return Z},gh}var yh={exports:{}},wh,$w;function ik(){if($w)return wh;$w=1;var t=va(),e=t("%Object.defineProperty%",!0),r=function(){if(e)try{return e({},"a",{value:1}),!0}catch{return!1}return!1};return r.hasArrayLengthDefineBug=function(){if(!r())return null;try{return e([],"length",{value:1}).length!==1}catch{return!0}},wh=r,wh}var vh,Ww;function rg(){if(Ww)return vh;Ww=1;var t=va(),e=t("%Object.getOwnPropertyDescriptor%",!0);if(e)try{e([],"length")}catch{e=null}return vh=e,vh}var xh,Hw;function s6(){if(Hw)return xh;Hw=1;var t=ik()(),e=va(),r=t&&e("%Object.defineProperty%",!0);if(r)try{r({},"a",{value:1})}catch{r=!1}var n=e("%SyntaxError%"),i=e("%TypeError%"),s=rg();return xh=function(o,l,c){if(!o||typeof o!="object"&&typeof o!="function")throw new i("`obj` must be an object or a function`");if(typeof l!="string"&&typeof l!="symbol")throw new i("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new i("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new i("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new i("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new i("`loose`, if provided, must be a boolean");var u=arguments.length>3?arguments[3]:null,h=arguments.length>4?arguments[4]:null,f=arguments.length>5?arguments[5]:null,p=arguments.length>6?arguments[6]:!1,w=!!s&&s(o,l);if(r)r(o,l,{configurable:f===null&&w?w.configurable:!f,enumerable:u===null&&w?w.enumerable:!u,value:c,writable:h===null&&w?w.writable:!h});else if(p||!u&&!h&&!f)o[l]=c;else throw new n("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},xh}var bh,Vw;function a6(){if(Vw)return bh;Vw=1;var t=va(),e=s6(),r=ik()(),n=rg(),i=t("%TypeError%"),s=t("%Math.floor%");return bh=function(o,l){if(typeof o!="function")throw new i("`fn` is not a function");if(typeof l!="number"||l<0||l>4294967295||s(l)!==l)throw new i("`length` must be a positive 32-bit integer");var c=arguments.length>2&&!!arguments[2],u=!0,h=!0;if("length"in o&&n){var f=n(o,"length");f&&!f.configurable&&(u=!1),f&&!f.writable&&(h=!1)}return(u||h||!c)&&(r?e(o,"length",l,!0,!0):e(o,"length",l)),o},bh}var Kw;function sk(){return Kw||(Kw=1,function(t){var e=tg(),r=va(),n=a6(),i=r("%TypeError%"),s=r("%Function.prototype.apply%"),a=r("%Function.prototype.call%"),o=r("%Reflect.apply%",!0)||e.call(a,s),l=r("%Object.defineProperty%",!0),c=r("%Math.max%");if(l)try{l({},"a",{value:1})}catch{l=null}t.exports=function(f){if(typeof f!="function")throw new i("a function is required");var p=o(e,a,arguments);return n(p,1+c(0,f.length-(arguments.length-1)),!0)};var u=function(){return o(e,s,arguments)};l?l(t.exports,"apply",{value:u}):t.exports.apply=u}(yh)),yh.exports}var _h,qw;function ak(){if(qw)return _h;qw=1;var t=va(),e=sk(),r=e(t("String.prototype.indexOf"));return _h=function(i,s){var a=t(i,!!s);return typeof a=="function"&&r(i,".prototype.")>-1?e(a):a},_h}var kh,Gw;function o6(){if(Gw)return kh;Gw=1;var t=eg()(),e=ak(),r=e("Object.prototype.toString"),n=function(o){return t&&o&&typeof o=="object"&&Symbol.toStringTag in o?!1:r(o)==="[object Arguments]"},i=function(o){return n(o)?!0:o!==null&&typeof o=="object"&&typeof o.length=="number"&&o.length>=0&&r(o)!=="[object Array]"&&r(o.callee)==="[object Function]"},s=function(){return n(arguments)}();return n.isLegacyArguments=i,kh=s?n:i,kh}var Sh,Yw;function l6(){if(Yw)return Sh;Yw=1;var t=Object.prototype.toString,e=Function.prototype.toString,r=/^\s*(?:function)?\*/,n=eg()(),i=Object.getPrototypeOf,s=function(){if(!n)return!1;try{return Function("return function*() {}")()}catch{}},a;return Sh=function(l){if(typeof l!="function")return!1;if(r.test(e.call(l)))return!0;if(!n){var c=t.call(l);return c==="[object GeneratorFunction]"}if(!i)return!1;if(typeof a>"u"){var u=s();a=u?i(u):!1}return i(l)===a},Sh}var Eh,Xw;function c6(){if(Xw)return Eh;Xw=1;var t=Function.prototype.toString,e=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,r,n;if(typeof e=="function"&&typeof Object.defineProperty=="function")try{r=Object.defineProperty({},"length",{get:function(){throw n}}),n={},e(function(){throw 42},null,r)}catch(y){y!==n&&(e=null)}else e=null;var i=/^\s*class\b/,s=function(_){try{var k=t.call(_);return i.test(k)}catch{return!1}},a=function(_){try{return s(_)?!1:(t.call(_),!0)}catch{return!1}},o=Object.prototype.toString,l="[object Object]",c="[object Function]",u="[object GeneratorFunction]",h="[object HTMLAllCollection]",f="[object HTML document.all class]",p="[object HTMLCollection]",w=typeof Symbol=="function"&&!!Symbol.toStringTag,g=!(0 in[,]),b=function(){return!1};if(typeof document=="object"){var m=document.all;o.call(m)===o.call(document.all)&&(b=function(_){if((g||!_)&&(typeof _>"u"||typeof _=="object"))try{var k=o.call(_);return(k===h||k===f||k===p||k===l)&&_("")==null}catch{}return!1})}return Eh=e?function(_){if(b(_))return!0;if(!_||typeof _!="function"&&typeof _!="object")return!1;try{e(_,null,r)}catch(k){if(k!==n)return!1}return!s(_)&&a(_)}:function(_){if(b(_))return!0;if(!_||typeof _!="function"&&typeof _!="object")return!1;if(w)return a(_);if(s(_))return!1;var k=o.call(_);return k!==c&&k!==u&&!/^\[object HTML/.test(k)?!1:a(_)},Eh}var Th,Qw;function u6(){if(Qw)return Th;Qw=1;var t=c6(),e=Object.prototype.toString,r=Object.prototype.hasOwnProperty,n=function(l,c,u){for(var h=0,f=l.length;h<f;h++)r.call(l,h)&&(u==null?c(l[h],h,l):c.call(u,l[h],h,l))},i=function(l,c,u){for(var h=0,f=l.length;h<f;h++)u==null?c(l.charAt(h),h,l):c.call(u,l.charAt(h),h,l)},s=function(l,c,u){for(var h in l)r.call(l,h)&&(u==null?c(l[h],h,l):c.call(u,l[h],h,l))},a=function(l,c,u){if(!t(c))throw new TypeError("iterator must be a function");var h;arguments.length>=3&&(h=u),e.call(l)==="[object Array]"?n(l,c,h):typeof l=="string"?i(l,c,h):s(l,c,h)};return Th=a,Th}var Nh,Jw;function d6(){if(Jw)return Nh;Jw=1;var t=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],e=typeof globalThis>"u"?qr:globalThis;return Nh=function(){for(var n=[],i=0;i<t.length;i++)typeof e[t[i]]=="function"&&(n[n.length]=t[i]);return n},Nh}var Ah,Zw;function ok(){if(Zw)return Ah;Zw=1;var t=u6(),e=d6(),r=sk(),n=ak(),i=rg(),s=n("Object.prototype.toString"),a=eg()(),o=typeof globalThis>"u"?qr:globalThis,l=e(),c=n("String.prototype.slice"),u=Object.getPrototypeOf,h=n("Array.prototype.indexOf",!0)||function(b,m){for(var y=0;y<b.length;y+=1)if(b[y]===m)return y;return-1},f={__proto__:null};a&&i&&u?t(l,function(g){var b=new o[g];if(Symbol.toStringTag in b){var m=u(b),y=i(m,Symbol.toStringTag);if(!y){var _=u(m);y=i(_,Symbol.toStringTag)}f["$"+g]=r(y.get)}}):t(l,function(g){var b=new o[g],m=b.slice||b.set;m&&(f["$"+g]=r(m))});var p=function(b){var m=!1;return t(f,function(y,_){if(!m)try{"$"+y(b)===_&&(m=c(_,1))}catch{}}),m},w=function(b){var m=!1;return t(f,function(y,_){if(!m)try{y(b),m=c(_,1)}catch{}}),m};return Ah=function(b){if(!b||typeof b!="object")return!1;if(!a){var m=c(s(b),8,-1);return h(l,m)>-1?m:m!=="Object"?!1:w(b)}return i?p(b):null},Ah}var jh,ev;function h6(){if(ev)return jh;ev=1;var t=ok();return jh=function(r){return!!t(r)},jh}var tv;function f6(){return tv||(tv=1,function(t){var e=o6(),r=l6(),n=ok(),i=h6();function s(S){return S.call.bind(S)}var a=typeof BigInt<"u",o=typeof Symbol<"u",l=s(Object.prototype.toString),c=s(Number.prototype.valueOf),u=s(String.prototype.valueOf),h=s(Boolean.prototype.valueOf);if(a)var f=s(BigInt.prototype.valueOf);if(o)var p=s(Symbol.prototype.valueOf);function w(S,z){if(typeof S!="object")return!1;try{return z(S),!0}catch{return!1}}t.isArgumentsObject=e,t.isGeneratorFunction=r,t.isTypedArray=i;function g(S){return typeof Promise<"u"&&S instanceof Promise||S!==null&&typeof S=="object"&&typeof S.then=="function"&&typeof S.catch=="function"}t.isPromise=g;function b(S){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(S):i(S)||J(S)}t.isArrayBufferView=b;function m(S){return n(S)==="Uint8Array"}t.isUint8Array=m;function y(S){return n(S)==="Uint8ClampedArray"}t.isUint8ClampedArray=y;function _(S){return n(S)==="Uint16Array"}t.isUint16Array=_;function k(S){return n(S)==="Uint32Array"}t.isUint32Array=k;function T(S){return n(S)==="Int8Array"}t.isInt8Array=T;function I(S){return n(S)==="Int16Array"}t.isInt16Array=I;function O(S){return n(S)==="Int32Array"}t.isInt32Array=O;function L(S){return n(S)==="Float32Array"}t.isFloat32Array=L;function N(S){return n(S)==="Float64Array"}t.isFloat64Array=N;function H(S){return n(S)==="BigInt64Array"}t.isBigInt64Array=H;function ee(S){return n(S)==="BigUint64Array"}t.isBigUint64Array=ee;function R(S){return l(S)==="[object Map]"}R.working=typeof Map<"u"&&R(new Map);function W(S){return typeof Map>"u"?!1:R.working?R(S):S instanceof Map}t.isMap=W;function P(S){return l(S)==="[object Set]"}P.working=typeof Set<"u"&&P(new Set);function B(S){return typeof Set>"u"?!1:P.working?P(S):S instanceof Set}t.isSet=B;function ne(S){return l(S)==="[object WeakMap]"}ne.working=typeof WeakMap<"u"&&ne(new WeakMap);function X(S){return typeof WeakMap>"u"?!1:ne.working?ne(S):S instanceof WeakMap}t.isWeakMap=X;function re(S){return l(S)==="[object WeakSet]"}re.working=typeof WeakSet<"u"&&re(new WeakSet);function Z(S){return re(S)}t.isWeakSet=Z;function le(S){return l(S)==="[object ArrayBuffer]"}le.working=typeof ArrayBuffer<"u"&&le(new ArrayBuffer);function G(S){return typeof ArrayBuffer>"u"?!1:le.working?le(S):S instanceof ArrayBuffer}t.isArrayBuffer=G;function D(S){return l(S)==="[object DataView]"}D.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&D(new DataView(new ArrayBuffer(1),0,1));function J(S){return typeof DataView>"u"?!1:D.working?D(S):S instanceof DataView}t.isDataView=J;var Q=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function ie(S){return l(S)==="[object SharedArrayBuffer]"}function q(S){return typeof Q>"u"?!1:(typeof ie.working>"u"&&(ie.working=ie(new Q)),ie.working?ie(S):S instanceof Q)}t.isSharedArrayBuffer=q;function j(S){return l(S)==="[object AsyncFunction]"}t.isAsyncFunction=j;function A(S){return l(S)==="[object Map Iterator]"}t.isMapIterator=A;function V(S){return l(S)==="[object Set Iterator]"}t.isSetIterator=V;function U(S){return l(S)==="[object Generator]"}t.isGeneratorObject=U;function M(S){return l(S)==="[object WebAssembly.Module]"}t.isWebAssemblyCompiledModule=M;function F(S){return w(S,c)}t.isNumberObject=F;function se(S){return w(S,u)}t.isStringObject=se;function E(S){return w(S,h)}t.isBooleanObject=E;function te(S){return a&&w(S,f)}t.isBigIntObject=te;function C(S){return o&&w(S,p)}t.isSymbolObject=C;function v(S){return F(S)||se(S)||E(S)||te(S)||C(S)}t.isBoxedPrimitive=v;function x(S){return typeof Uint8Array<"u"&&(G(S)||q(S))}t.isAnyArrayBuffer=x,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(S){Object.defineProperty(t,S,{enumerable:!1,value:function(){throw new Error(S+" is not supported in userland")}})})}(lh)),lh}var Ch,rv;function p6(){return rv||(rv=1,Ch=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}),Ch}var nv;function lk(){return nv||(nv=1,function(t){var e=Object.getOwnPropertyDescriptors||function(J){for(var Q=Object.keys(J),ie={},q=0;q<Q.length;q++)ie[Q[q]]=Object.getOwnPropertyDescriptor(J,Q[q]);return ie},r=/%[sdj%]/g;t.format=function(D){if(!T(D)){for(var J=[],Q=0;Q<arguments.length;Q++)J.push(a(arguments[Q]));return J.join(" ")}for(var Q=1,ie=arguments,q=ie.length,j=String(D).replace(r,function(V){if(V==="%%")return"%";if(Q>=q)return V;switch(V){case"%s":return String(ie[Q++]);case"%d":return Number(ie[Q++]);case"%j":try{return JSON.stringify(ie[Q++])}catch{return"[Circular]"}default:return V}}),A=ie[Q];Q<q;A=ie[++Q])y(A)||!N(A)?j+=" "+A:j+=" "+a(A);return j},t.deprecate=function(D,J){if(typeof Ae<"u"&&Ae.noDeprecation===!0)return D;if(typeof Ae>"u")return function(){return t.deprecate(D,J).apply(this,arguments)};var Q=!1;function ie(){if(!Q){if(Ae.throwDeprecation)throw new Error(J);Ae.traceDeprecation?console.trace(J):console.error(J),Q=!0}return D.apply(this,arguments)}return ie};var n={},i=/^$/;if(Ae.env.NODE_DEBUG){var s=Ae.env.NODE_DEBUG;s=s.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),i=new RegExp("^"+s+"$","i")}t.debuglog=function(D){if(D=D.toUpperCase(),!n[D])if(i.test(D)){var J=Ae.pid;n[D]=function(){var Q=t.format.apply(t,arguments);console.error("%s %d: %s",D,J,Q)}}else n[D]=function(){};return n[D]};function a(D,J){var Q={seen:[],stylize:l};return arguments.length>=3&&(Q.depth=arguments[2]),arguments.length>=4&&(Q.colors=arguments[3]),m(J)?Q.showHidden=J:J&&t._extend(Q,J),O(Q.showHidden)&&(Q.showHidden=!1),O(Q.depth)&&(Q.depth=2),O(Q.colors)&&(Q.colors=!1),O(Q.customInspect)&&(Q.customInspect=!0),Q.colors&&(Q.stylize=o),u(Q,D,Q.depth)}t.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function o(D,J){var Q=a.styles[J];return Q?"\x1B["+a.colors[Q][0]+"m"+D+"\x1B["+a.colors[Q][1]+"m":D}function l(D,J){return D}function c(D){var J={};return D.forEach(function(Q,ie){J[Q]=!0}),J}function u(D,J,Q){if(D.customInspect&&J&&R(J.inspect)&&J.inspect!==t.inspect&&!(J.constructor&&J.constructor.prototype===J)){var ie=J.inspect(Q,D);return T(ie)||(ie=u(D,ie,Q)),ie}var q=h(D,J);if(q)return q;var j=Object.keys(J),A=c(j);if(D.showHidden&&(j=Object.getOwnPropertyNames(J)),ee(J)&&(j.indexOf("message")>=0||j.indexOf("description")>=0))return f(J);if(j.length===0){if(R(J)){var V=J.name?": "+J.name:"";return D.stylize("[Function"+V+"]","special")}if(L(J))return D.stylize(RegExp.prototype.toString.call(J),"regexp");if(H(J))return D.stylize(Date.prototype.toString.call(J),"date");if(ee(J))return f(J)}var U="",M=!1,F=["{","}"];if(b(J)&&(M=!0,F=["[","]"]),R(J)){var se=J.name?": "+J.name:"";U=" [Function"+se+"]"}if(L(J)&&(U=" "+RegExp.prototype.toString.call(J)),H(J)&&(U=" "+Date.prototype.toUTCString.call(J)),ee(J)&&(U=" "+f(J)),j.length===0&&(!M||J.length==0))return F[0]+U+F[1];if(Q<0)return L(J)?D.stylize(RegExp.prototype.toString.call(J),"regexp"):D.stylize("[Object]","special");D.seen.push(J);var E;return M?E=p(D,J,Q,A,j):E=j.map(function(te){return w(D,J,Q,A,te,M)}),D.seen.pop(),g(E,U,F)}function h(D,J){if(O(J))return D.stylize("undefined","undefined");if(T(J)){var Q="'"+JSON.stringify(J).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return D.stylize(Q,"string")}if(k(J))return D.stylize(""+J,"number");if(m(J))return D.stylize(""+J,"boolean");if(y(J))return D.stylize("null","null")}function f(D){return"["+Error.prototype.toString.call(D)+"]"}function p(D,J,Q,ie,q){for(var j=[],A=0,V=J.length;A<V;++A)re(J,String(A))?j.push(w(D,J,Q,ie,String(A),!0)):j.push("");return q.forEach(function(U){U.match(/^\d+$/)||j.push(w(D,J,Q,ie,U,!0))}),j}function w(D,J,Q,ie,q,j){var A,V,U;if(U=Object.getOwnPropertyDescriptor(J,q)||{value:J[q]},U.get?U.set?V=D.stylize("[Getter/Setter]","special"):V=D.stylize("[Getter]","special"):U.set&&(V=D.stylize("[Setter]","special")),re(ie,q)||(A="["+q+"]"),V||(D.seen.indexOf(U.value)<0?(y(Q)?V=u(D,U.value,null):V=u(D,U.value,Q-1),V.indexOf(`
`)>-1&&(j?V=V.split(`
`).map(function(M){return"  "+M}).join(`
`).slice(2):V=`
`+V.split(`
`).map(function(M){return"   "+M}).join(`
`))):V=D.stylize("[Circular]","special")),O(A)){if(j&&q.match(/^\d+$/))return V;A=JSON.stringify(""+q),A.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(A=A.slice(1,-1),A=D.stylize(A,"name")):(A=A.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),A=D.stylize(A,"string"))}return A+": "+V}function g(D,J,Q){var ie=D.reduce(function(q,j){return j.indexOf(`
`)>=0,q+j.replace(/\u001b\[\d\d?m/g,"").length+1},0);return ie>60?Q[0]+(J===""?"":J+`
 `)+" "+D.join(`,
  `)+" "+Q[1]:Q[0]+J+" "+D.join(", ")+" "+Q[1]}t.types=f6();function b(D){return Array.isArray(D)}t.isArray=b;function m(D){return typeof D=="boolean"}t.isBoolean=m;function y(D){return D===null}t.isNull=y;function _(D){return D==null}t.isNullOrUndefined=_;function k(D){return typeof D=="number"}t.isNumber=k;function T(D){return typeof D=="string"}t.isString=T;function I(D){return typeof D=="symbol"}t.isSymbol=I;function O(D){return D===void 0}t.isUndefined=O;function L(D){return N(D)&&P(D)==="[object RegExp]"}t.isRegExp=L,t.types.isRegExp=L;function N(D){return typeof D=="object"&&D!==null}t.isObject=N;function H(D){return N(D)&&P(D)==="[object Date]"}t.isDate=H,t.types.isDate=H;function ee(D){return N(D)&&(P(D)==="[object Error]"||D instanceof Error)}t.isError=ee,t.types.isNativeError=ee;function R(D){return typeof D=="function"}t.isFunction=R;function W(D){return D===null||typeof D=="boolean"||typeof D=="number"||typeof D=="string"||typeof D=="symbol"||typeof D>"u"}t.isPrimitive=W,t.isBuffer=p6();function P(D){return Object.prototype.toString.call(D)}function B(D){return D<10?"0"+D.toString(10):D.toString(10)}var ne=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function X(){var D=new Date,J=[B(D.getHours()),B(D.getMinutes()),B(D.getSeconds())].join(":");return[D.getDate(),ne[D.getMonth()],J].join(" ")}t.log=function(){console.log("%s - %s",X(),t.format.apply(t,arguments))},t.inherits=rs,t._extend=function(D,J){if(!J||!N(J))return D;for(var Q=Object.keys(J),ie=Q.length;ie--;)D[Q[ie]]=J[Q[ie]];return D};function re(D,J){return Object.prototype.hasOwnProperty.call(D,J)}var Z=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;t.promisify=function(J){if(typeof J!="function")throw new TypeError('The "original" argument must be of type Function');if(Z&&J[Z]){var Q=J[Z];if(typeof Q!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(Q,Z,{value:Q,enumerable:!1,writable:!1,configurable:!0}),Q}function Q(){for(var ie,q,j=new Promise(function(U,M){ie=U,q=M}),A=[],V=0;V<arguments.length;V++)A.push(arguments[V]);A.push(function(U,M){U?q(U):ie(M)});try{J.apply(this,A)}catch(U){q(U)}return j}return Object.setPrototypeOf(Q,Object.getPrototypeOf(J)),Z&&Object.defineProperty(Q,Z,{value:Q,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(Q,e(J))},t.promisify.custom=Z;function le(D,J){if(!D){var Q=new Error("Promise was rejected with a falsy value");Q.reason=D,D=Q}return J(D)}function G(D){if(typeof D!="function")throw new TypeError('The "original" argument must be of type Function');function J(){for(var Q=[],ie=0;ie<arguments.length;ie++)Q.push(arguments[ie]);var q=Q.pop();if(typeof q!="function")throw new TypeError("The last argument must be of type Function");var j=this,A=function(){return q.apply(j,arguments)};D.apply(this,Q).then(function(V){Ae.nextTick(A.bind(null,null,V))},function(V){Ae.nextTick(le.bind(null,V,A))})}return Object.setPrototypeOf(J,Object.getPrototypeOf(D)),Object.defineProperties(J,e(D)),J}t.callbackify=G}(oh)),oh}var Ph,iv;function m6(){if(iv)return Ph;iv=1;function t(f,p){var w=Object.keys(f);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(f);p&&(g=g.filter(function(b){return Object.getOwnPropertyDescriptor(f,b).enumerable})),w.push.apply(w,g)}return w}function e(f){for(var p=1;p<arguments.length;p++){var w=arguments[p]!=null?arguments[p]:{};p%2?t(Object(w),!0).forEach(function(g){r(f,g,w[g])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(w)):t(Object(w)).forEach(function(g){Object.defineProperty(f,g,Object.getOwnPropertyDescriptor(w,g))})}return f}function r(f,p,w){return p in f?Object.defineProperty(f,p,{value:w,enumerable:!0,configurable:!0,writable:!0}):f[p]=w,f}function n(f,p){if(!(f instanceof p))throw new TypeError("Cannot call a class as a function")}function i(f,p){for(var w=0;w<p.length;w++){var g=p[w];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(f,g.key,g)}}function s(f,p,w){return p&&i(f.prototype,p),f}var a=ed(),o=a.Buffer,l=lk(),c=l.inspect,u=c&&c.custom||"inspect";function h(f,p,w){o.prototype.copy.call(f,p,w)}return Ph=function(){function f(){n(this,f),this.head=null,this.tail=null,this.length=0}return s(f,[{key:"push",value:function(w){var g={data:w,next:null};this.length>0?this.tail.next=g:this.head=g,this.tail=g,++this.length}},{key:"unshift",value:function(w){var g={data:w,next:this.head};this.length===0&&(this.tail=g),this.head=g,++this.length}},{key:"shift",value:function(){if(this.length!==0){var w=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,w}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(w){if(this.length===0)return"";for(var g=this.head,b=""+g.data;g=g.next;)b+=w+g.data;return b}},{key:"concat",value:function(w){if(this.length===0)return o.alloc(0);for(var g=o.allocUnsafe(w>>>0),b=this.head,m=0;b;)h(b.data,g,m),m+=b.data.length,b=b.next;return g}},{key:"consume",value:function(w,g){var b;return w<this.head.data.length?(b=this.head.data.slice(0,w),this.head.data=this.head.data.slice(w)):w===this.head.data.length?b=this.shift():b=g?this._getString(w):this._getBuffer(w),b}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(w){var g=this.head,b=1,m=g.data;for(w-=m.length;g=g.next;){var y=g.data,_=w>y.length?y.length:w;if(_===y.length?m+=y:m+=y.slice(0,w),w-=_,w===0){_===y.length?(++b,g.next?this.head=g.next:this.head=this.tail=null):(this.head=g,g.data=y.slice(_));break}++b}return this.length-=b,m}},{key:"_getBuffer",value:function(w){var g=o.allocUnsafe(w),b=this.head,m=1;for(b.data.copy(g),w-=b.data.length;b=b.next;){var y=b.data,_=w>y.length?y.length:w;if(y.copy(g,g.length-w,0,_),w-=_,w===0){_===y.length?(++m,b.next?this.head=b.next:this.head=this.tail=null):(this.head=b,b.data=y.slice(_));break}++m}return this.length-=m,g}},{key:u,value:function(w,g){return c(this,e({},g,{depth:0,customInspect:!1}))}}]),f}(),Ph}var Oh,sv;function ck(){if(sv)return Oh;sv=1;function t(a,o){var l=this,c=this._readableState&&this._readableState.destroyed,u=this._writableState&&this._writableState.destroyed;return c||u?(o?o(a):a&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,Ae.nextTick(i,this,a)):Ae.nextTick(i,this,a)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(a||null,function(h){!o&&h?l._writableState?l._writableState.errorEmitted?Ae.nextTick(r,l):(l._writableState.errorEmitted=!0,Ae.nextTick(e,l,h)):Ae.nextTick(e,l,h):o?(Ae.nextTick(r,l),o(h)):Ae.nextTick(r,l)}),this)}function e(a,o){i(a,o),r(a)}function r(a){a._writableState&&!a._writableState.emitClose||a._readableState&&!a._readableState.emitClose||a.emit("close")}function n(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function i(a,o){a.emit("error",o)}function s(a,o){var l=a._readableState,c=a._writableState;l&&l.autoDestroy||c&&c.autoDestroy?a.destroy(o):a.emit("error",o)}return Oh={destroy:t,undestroy:n,errorOrDestroy:s},Oh}var Rh={},av;function xa(){if(av)return Rh;av=1;function t(o,l){o.prototype=Object.create(l.prototype),o.prototype.constructor=o,o.__proto__=l}var e={};function r(o,l,c){c||(c=Error);function u(f,p,w){return typeof l=="string"?l:l(f,p,w)}var h=function(f){t(p,f);function p(w,g,b){return f.call(this,u(w,g,b))||this}return p}(c);h.prototype.name=c.name,h.prototype.code=o,e[o]=h}function n(o,l){if(Array.isArray(o)){var c=o.length;return o=o.map(function(u){return String(u)}),c>2?"one of ".concat(l," ").concat(o.slice(0,c-1).join(", "),", or ")+o[c-1]:c===2?"one of ".concat(l," ").concat(o[0]," or ").concat(o[1]):"of ".concat(l," ").concat(o[0])}else return"of ".concat(l," ").concat(String(o))}function i(o,l,c){return o.substr(0,l.length)===l}function s(o,l,c){return(c===void 0||c>o.length)&&(c=o.length),o.substring(c-l.length,c)===l}function a(o,l,c){return typeof c!="number"&&(c=0),c+l.length>o.length?!1:o.indexOf(l,c)!==-1}return r("ERR_INVALID_OPT_VALUE",function(o,l){return'The value "'+l+'" is invalid for option "'+o+'"'},TypeError),r("ERR_INVALID_ARG_TYPE",function(o,l,c){var u;typeof l=="string"&&i(l,"not ")?(u="must not be",l=l.replace(/^not /,"")):u="must be";var h;if(s(o," argument"))h="The ".concat(o," ").concat(u," ").concat(n(l,"type"));else{var f=a(o,".")?"property":"argument";h='The "'.concat(o,'" ').concat(f," ").concat(u," ").concat(n(l,"type"))}return h+=". Received type ".concat(typeof c),h},TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",function(o){return"The "+o+" method is not implemented"}),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",function(o){return"Cannot call "+o+" after a stream was destroyed"}),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",function(o){return"Unknown encoding: "+o},TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),Rh.codes=e,Rh}var Dh,ov;function uk(){if(ov)return Dh;ov=1;var t=xa().codes.ERR_INVALID_OPT_VALUE;function e(n,i,s){return n.highWaterMark!=null?n.highWaterMark:i?n[s]:null}function r(n,i,s,a){var o=e(i,a,s);if(o!=null){if(!(isFinite(o)&&Math.floor(o)===o)||o<0){var l=a?s:"highWaterMark";throw new t(l,o)}return Math.floor(o)}return n.objectMode?16:16*1024}return Dh={getHighWaterMark:r},Dh}var Ih,lv;function g6(){if(lv)return Ih;lv=1,Ih=t;function t(r,n){if(e("noDeprecation"))return r;var i=!1;function s(){if(!i){if(e("throwDeprecation"))throw new Error(n);e("traceDeprecation")?console.trace(n):console.warn(n),i=!0}return r.apply(this,arguments)}return s}function e(r){try{if(!qr.localStorage)return!1}catch{return!1}var n=qr.localStorage[r];return n==null?!1:String(n).toLowerCase()==="true"}return Ih}var Mh,cv;function dk(){if(cv)return Mh;cv=1,Mh=L;function t(q){var j=this;this.next=null,this.entry=null,this.finish=function(){ie(j,q)}}var e;L.WritableState=I;var r={deprecate:g6()},n=rk(),i=ed().Buffer,s=qr.Uint8Array||function(){};function a(q){return i.from(q)}function o(q){return i.isBuffer(q)||q instanceof s}var l=ck(),c=uk(),u=c.getHighWaterMark,h=xa().codes,f=h.ERR_INVALID_ARG_TYPE,p=h.ERR_METHOD_NOT_IMPLEMENTED,w=h.ERR_MULTIPLE_CALLBACK,g=h.ERR_STREAM_CANNOT_PIPE,b=h.ERR_STREAM_DESTROYED,m=h.ERR_STREAM_NULL_VALUES,y=h.ERR_STREAM_WRITE_AFTER_END,_=h.ERR_UNKNOWN_ENCODING,k=l.errorOrDestroy;rs(L,n);function T(){}function I(q,j,A){e=e||sa(),q=q||{},typeof A!="boolean"&&(A=j instanceof e),this.objectMode=!!q.objectMode,A&&(this.objectMode=this.objectMode||!!q.writableObjectMode),this.highWaterMark=u(this,q,"writableHighWaterMark",A),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var V=q.decodeStrings===!1;this.decodeStrings=!V,this.defaultEncoding=q.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(U){ne(j,U)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=q.emitClose!==!1,this.autoDestroy=!!q.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}I.prototype.getBuffer=function(){for(var j=this.bufferedRequest,A=[];j;)A.push(j),j=j.next;return A},function(){try{Object.defineProperty(I.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var O;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(O=Function.prototype[Symbol.hasInstance],Object.defineProperty(L,Symbol.hasInstance,{value:function(j){return O.call(this,j)?!0:this!==L?!1:j&&j._writableState instanceof I}})):O=function(j){return j instanceof this};function L(q){e=e||sa();var j=this instanceof e;if(!j&&!O.call(L,this))return new L(q);this._writableState=new I(q,this,j),this.writable=!0,q&&(typeof q.write=="function"&&(this._write=q.write),typeof q.writev=="function"&&(this._writev=q.writev),typeof q.destroy=="function"&&(this._destroy=q.destroy),typeof q.final=="function"&&(this._final=q.final)),n.call(this)}L.prototype.pipe=function(){k(this,new g)};function N(q,j){var A=new y;k(q,A),Ae.nextTick(j,A)}function H(q,j,A,V){var U;return A===null?U=new m:typeof A!="string"&&!j.objectMode&&(U=new f("chunk",["string","Buffer"],A)),U?(k(q,U),Ae.nextTick(V,U),!1):!0}L.prototype.write=function(q,j,A){var V=this._writableState,U=!1,M=!V.objectMode&&o(q);return M&&!i.isBuffer(q)&&(q=a(q)),typeof j=="function"&&(A=j,j=null),M?j="buffer":j||(j=V.defaultEncoding),typeof A!="function"&&(A=T),V.ending?N(this,A):(M||H(this,V,q,A))&&(V.pendingcb++,U=R(this,V,M,q,j,A)),U},L.prototype.cork=function(){this._writableState.corked++},L.prototype.uncork=function(){var q=this._writableState;q.corked&&(q.corked--,!q.writing&&!q.corked&&!q.bufferProcessing&&q.bufferedRequest&&Z(this,q))},L.prototype.setDefaultEncoding=function(j){if(typeof j=="string"&&(j=j.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((j+"").toLowerCase())>-1))throw new _(j);return this._writableState.defaultEncoding=j,this},Object.defineProperty(L.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function ee(q,j,A){return!q.objectMode&&q.decodeStrings!==!1&&typeof j=="string"&&(j=i.from(j,A)),j}Object.defineProperty(L.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function R(q,j,A,V,U,M){if(!A){var F=ee(j,V,U);V!==F&&(A=!0,U="buffer",V=F)}var se=j.objectMode?1:V.length;j.length+=se;var E=j.length<j.highWaterMark;if(E||(j.needDrain=!0),j.writing||j.corked){var te=j.lastBufferedRequest;j.lastBufferedRequest={chunk:V,encoding:U,isBuf:A,callback:M,next:null},te?te.next=j.lastBufferedRequest:j.bufferedRequest=j.lastBufferedRequest,j.bufferedRequestCount+=1}else W(q,j,!1,se,V,U,M);return E}function W(q,j,A,V,U,M,F){j.writelen=V,j.writecb=F,j.writing=!0,j.sync=!0,j.destroyed?j.onwrite(new b("write")):A?q._writev(U,j.onwrite):q._write(U,M,j.onwrite),j.sync=!1}function P(q,j,A,V,U){--j.pendingcb,A?(Ae.nextTick(U,V),Ae.nextTick(J,q,j),q._writableState.errorEmitted=!0,k(q,V)):(U(V),q._writableState.errorEmitted=!0,k(q,V),J(q,j))}function B(q){q.writing=!1,q.writecb=null,q.length-=q.writelen,q.writelen=0}function ne(q,j){var A=q._writableState,V=A.sync,U=A.writecb;if(typeof U!="function")throw new w;if(B(A),j)P(q,A,V,j,U);else{var M=le(A)||q.destroyed;!M&&!A.corked&&!A.bufferProcessing&&A.bufferedRequest&&Z(q,A),V?Ae.nextTick(X,q,A,M,U):X(q,A,M,U)}}function X(q,j,A,V){A||re(q,j),j.pendingcb--,V(),J(q,j)}function re(q,j){j.length===0&&j.needDrain&&(j.needDrain=!1,q.emit("drain"))}function Z(q,j){j.bufferProcessing=!0;var A=j.bufferedRequest;if(q._writev&&A&&A.next){var V=j.bufferedRequestCount,U=new Array(V),M=j.corkedRequestsFree;M.entry=A;for(var F=0,se=!0;A;)U[F]=A,A.isBuf||(se=!1),A=A.next,F+=1;U.allBuffers=se,W(q,j,!0,j.length,U,"",M.finish),j.pendingcb++,j.lastBufferedRequest=null,M.next?(j.corkedRequestsFree=M.next,M.next=null):j.corkedRequestsFree=new t(j),j.bufferedRequestCount=0}else{for(;A;){var E=A.chunk,te=A.encoding,C=A.callback,v=j.objectMode?1:E.length;if(W(q,j,!1,v,E,te,C),A=A.next,j.bufferedRequestCount--,j.writing)break}A===null&&(j.lastBufferedRequest=null)}j.bufferedRequest=A,j.bufferProcessing=!1}L.prototype._write=function(q,j,A){A(new p("_write()"))},L.prototype._writev=null,L.prototype.end=function(q,j,A){var V=this._writableState;return typeof q=="function"?(A=q,q=null,j=null):typeof j=="function"&&(A=j,j=null),q!=null&&this.write(q,j),V.corked&&(V.corked=1,this.uncork()),V.ending||Q(this,V,A),this},Object.defineProperty(L.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function le(q){return q.ending&&q.length===0&&q.bufferedRequest===null&&!q.finished&&!q.writing}function G(q,j){q._final(function(A){j.pendingcb--,A&&k(q,A),j.prefinished=!0,q.emit("prefinish"),J(q,j)})}function D(q,j){!j.prefinished&&!j.finalCalled&&(typeof q._final=="function"&&!j.destroyed?(j.pendingcb++,j.finalCalled=!0,Ae.nextTick(G,q,j)):(j.prefinished=!0,q.emit("prefinish")))}function J(q,j){var A=le(j);if(A&&(D(q,j),j.pendingcb===0&&(j.finished=!0,q.emit("finish"),j.autoDestroy))){var V=q._readableState;(!V||V.autoDestroy&&V.endEmitted)&&q.destroy()}return A}function Q(q,j,A){j.ending=!0,J(q,j),A&&(j.finished?Ae.nextTick(A):q.once("finish",A)),j.ended=!0,q.writable=!1}function ie(q,j,A){var V=q.entry;for(q.entry=null;V;){var U=V.callback;j.pendingcb--,U(A),V=V.next}j.corkedRequestsFree.next=q}return Object.defineProperty(L.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(j){this._writableState&&(this._writableState.destroyed=j)}}),L.prototype.destroy=l.destroy,L.prototype._undestroy=l.undestroy,L.prototype._destroy=function(q,j){j(q)},Mh}var Lh,uv;function sa(){if(uv)return Lh;uv=1;var t=Object.keys||function(c){var u=[];for(var h in c)u.push(h);return u};Lh=a;var e=hk(),r=dk();rs(a,e);for(var n=t(r.prototype),i=0;i<n.length;i++){var s=n[i];a.prototype[s]||(a.prototype[s]=r.prototype[s])}function a(c){if(!(this instanceof a))return new a(c);e.call(this,c),r.call(this,c),this.allowHalfOpen=!0,c&&(c.readable===!1&&(this.readable=!1),c.writable===!1&&(this.writable=!1),c.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",o)))}Object.defineProperty(a.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(a.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(a.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function o(){this._writableState.ended||Ae.nextTick(l,this)}function l(c){c.end()}return Object.defineProperty(a.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(u){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=u,this._writableState.destroyed=u)}}),Lh}var Fh={},Ql={exports:{}},dv;function y6(){return dv||(dv=1,function(t,e){var r=ed(),n=r.Buffer;function i(a,o){for(var l in a)o[l]=a[l]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(i(r,e),e.Buffer=s);function s(a,o,l){return n(a,o,l)}i(n,s),s.from=function(a,o,l){if(typeof a=="number")throw new TypeError("Argument must not be a number");return n(a,o,l)},s.alloc=function(a,o,l){if(typeof a!="number")throw new TypeError("Argument must be a number");var c=n(a);return o!==void 0?typeof l=="string"?c.fill(o,l):c.fill(o):c.fill(0),c},s.allocUnsafe=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return n(a)},s.allocUnsafeSlow=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(a)}}(Ql,Ql.exports)),Ql.exports}var hv;function xp(){if(hv)return Fh;hv=1;var t=y6().Buffer,e=t.isEncoding||function(m){switch(m=""+m,m&&m.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(m){if(!m)return"utf8";for(var y;;)switch(m){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return m;default:if(y)return;m=(""+m).toLowerCase(),y=!0}}function n(m){var y=r(m);if(typeof y!="string"&&(t.isEncoding===e||!e(m)))throw new Error("Unknown encoding: "+m);return y||m}Fh.StringDecoder=i;function i(m){this.encoding=n(m);var y;switch(this.encoding){case"utf16le":this.text=h,this.end=f,y=4;break;case"utf8":this.fillLast=l,y=4;break;case"base64":this.text=p,this.end=w,y=3;break;default:this.write=g,this.end=b;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(y)}i.prototype.write=function(m){if(m.length===0)return"";var y,_;if(this.lastNeed){if(y=this.fillLast(m),y===void 0)return"";_=this.lastNeed,this.lastNeed=0}else _=0;return _<m.length?y?y+this.text(m,_):this.text(m,_):y||""},i.prototype.end=u,i.prototype.text=c,i.prototype.fillLast=function(m){if(this.lastNeed<=m.length)return m.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);m.copy(this.lastChar,this.lastTotal-this.lastNeed,0,m.length),this.lastNeed-=m.length};function s(m){return m<=127?0:m>>5===6?2:m>>4===14?3:m>>3===30?4:m>>6===2?-1:-2}function a(m,y,_){var k=y.length-1;if(k<_)return 0;var T=s(y[k]);return T>=0?(T>0&&(m.lastNeed=T-1),T):--k<_||T===-2?0:(T=s(y[k]),T>=0?(T>0&&(m.lastNeed=T-2),T):--k<_||T===-2?0:(T=s(y[k]),T>=0?(T>0&&(T===2?T=0:m.lastNeed=T-3),T):0))}function o(m,y,_){if((y[0]&192)!==128)return m.lastNeed=0,"�";if(m.lastNeed>1&&y.length>1){if((y[1]&192)!==128)return m.lastNeed=1,"�";if(m.lastNeed>2&&y.length>2&&(y[2]&192)!==128)return m.lastNeed=2,"�"}}function l(m){var y=this.lastTotal-this.lastNeed,_=o(this,m);if(_!==void 0)return _;if(this.lastNeed<=m.length)return m.copy(this.lastChar,y,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);m.copy(this.lastChar,y,0,m.length),this.lastNeed-=m.length}function c(m,y){var _=a(this,m,y);if(!this.lastNeed)return m.toString("utf8",y);this.lastTotal=_;var k=m.length-(_-this.lastNeed);return m.copy(this.lastChar,0,k),m.toString("utf8",y,k)}function u(m){var y=m&&m.length?this.write(m):"";return this.lastNeed?y+"�":y}function h(m,y){if((m.length-y)%2===0){var _=m.toString("utf16le",y);if(_){var k=_.charCodeAt(_.length-1);if(k>=55296&&k<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=m[m.length-2],this.lastChar[1]=m[m.length-1],_.slice(0,-1)}return _}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=m[m.length-1],m.toString("utf16le",y,m.length-1)}function f(m){var y=m&&m.length?this.write(m):"";if(this.lastNeed){var _=this.lastTotal-this.lastNeed;return y+this.lastChar.toString("utf16le",0,_)}return y}function p(m,y){var _=(m.length-y)%3;return _===0?m.toString("base64",y):(this.lastNeed=3-_,this.lastTotal=3,_===1?this.lastChar[0]=m[m.length-1]:(this.lastChar[0]=m[m.length-2],this.lastChar[1]=m[m.length-1]),m.toString("base64",y,m.length-_))}function w(m){var y=m&&m.length?this.write(m):"";return this.lastNeed?y+this.lastChar.toString("base64",0,3-this.lastNeed):y}function g(m){return m.toString(this.encoding)}function b(m){return m&&m.length?this.write(m):""}return Fh}var Bh,fv;function ng(){if(fv)return Bh;fv=1;var t=xa().codes.ERR_STREAM_PREMATURE_CLOSE;function e(s){var a=!1;return function(){if(!a){a=!0;for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];s.apply(this,l)}}}function r(){}function n(s){return s.setHeader&&typeof s.abort=="function"}function i(s,a,o){if(typeof a=="function")return i(s,null,a);a||(a={}),o=e(o||r);var l=a.readable||a.readable!==!1&&s.readable,c=a.writable||a.writable!==!1&&s.writable,u=function(){s.writable||f()},h=s._writableState&&s._writableState.finished,f=function(){c=!1,h=!0,l||o.call(s)},p=s._readableState&&s._readableState.endEmitted,w=function(){l=!1,p=!0,c||o.call(s)},g=function(_){o.call(s,_)},b=function(){var _;if(l&&!p)return(!s._readableState||!s._readableState.ended)&&(_=new t),o.call(s,_);if(c&&!h)return(!s._writableState||!s._writableState.ended)&&(_=new t),o.call(s,_)},m=function(){s.req.on("finish",f)};return n(s)?(s.on("complete",f),s.on("abort",b),s.req?m():s.on("request",m)):c&&!s._writableState&&(s.on("end",u),s.on("close",u)),s.on("end",w),s.on("finish",f),a.error!==!1&&s.on("error",g),s.on("close",b),function(){s.removeListener("complete",f),s.removeListener("abort",b),s.removeListener("request",m),s.req&&s.req.removeListener("finish",f),s.removeListener("end",u),s.removeListener("close",u),s.removeListener("finish",f),s.removeListener("end",w),s.removeListener("error",g),s.removeListener("close",b)}}return Bh=i,Bh}var zh,pv;function w6(){if(pv)return zh;pv=1;var t;function e(m,y,_){return y in m?Object.defineProperty(m,y,{value:_,enumerable:!0,configurable:!0,writable:!0}):m[y]=_,m}var r=ng(),n=Symbol("lastResolve"),i=Symbol("lastReject"),s=Symbol("error"),a=Symbol("ended"),o=Symbol("lastPromise"),l=Symbol("handlePromise"),c=Symbol("stream");function u(m,y){return{value:m,done:y}}function h(m){var y=m[n];if(y!==null){var _=m[c].read();_!==null&&(m[o]=null,m[n]=null,m[i]=null,y(u(_,!1)))}}function f(m){Ae.nextTick(h,m)}function p(m,y){return function(_,k){m.then(function(){if(y[a]){_(u(void 0,!0));return}y[l](_,k)},k)}}var w=Object.getPrototypeOf(function(){}),g=Object.setPrototypeOf((t={get stream(){return this[c]},next:function(){var y=this,_=this[s];if(_!==null)return Promise.reject(_);if(this[a])return Promise.resolve(u(void 0,!0));if(this[c].destroyed)return new Promise(function(O,L){Ae.nextTick(function(){y[s]?L(y[s]):O(u(void 0,!0))})});var k=this[o],T;if(k)T=new Promise(p(k,this));else{var I=this[c].read();if(I!==null)return Promise.resolve(u(I,!1));T=new Promise(this[l])}return this[o]=T,T}},e(t,Symbol.asyncIterator,function(){return this}),e(t,"return",function(){var y=this;return new Promise(function(_,k){y[c].destroy(null,function(T){if(T){k(T);return}_(u(void 0,!0))})})}),t),w),b=function(y){var _,k=Object.create(g,(_={},e(_,c,{value:y,writable:!0}),e(_,n,{value:null,writable:!0}),e(_,i,{value:null,writable:!0}),e(_,s,{value:null,writable:!0}),e(_,a,{value:y._readableState.endEmitted,writable:!0}),e(_,l,{value:function(I,O){var L=k[c].read();L?(k[o]=null,k[n]=null,k[i]=null,I(u(L,!1))):(k[n]=I,k[i]=O)},writable:!0}),_));return k[o]=null,r(y,function(T){if(T&&T.code!=="ERR_STREAM_PREMATURE_CLOSE"){var I=k[i];I!==null&&(k[o]=null,k[n]=null,k[i]=null,I(T)),k[s]=T;return}var O=k[n];O!==null&&(k[o]=null,k[n]=null,k[i]=null,O(u(void 0,!0))),k[a]=!0}),y.on("readable",f.bind(null,k)),k};return zh=b,zh}var Uh,mv;function v6(){return mv||(mv=1,Uh=function(){throw new Error("Readable.from is not available in the browser")}),Uh}var $h,gv;function hk(){if(gv)return $h;gv=1,$h=N;var t;N.ReadableState=L,Zm.EventEmitter;var e=function(F,se){return F.listeners(se).length},r=rk(),n=ed().Buffer,i=qr.Uint8Array||function(){};function s(M){return n.from(M)}function a(M){return n.isBuffer(M)||M instanceof i}var o=lk(),l;o&&o.debuglog?l=o.debuglog("stream"):l=function(){};var c=m6(),u=ck(),h=uk(),f=h.getHighWaterMark,p=xa().codes,w=p.ERR_INVALID_ARG_TYPE,g=p.ERR_STREAM_PUSH_AFTER_EOF,b=p.ERR_METHOD_NOT_IMPLEMENTED,m=p.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,y,_,k;rs(N,r);var T=u.errorOrDestroy,I=["error","close","destroy","pause","resume"];function O(M,F,se){if(typeof M.prependListener=="function")return M.prependListener(F,se);!M._events||!M._events[F]?M.on(F,se):Array.isArray(M._events[F])?M._events[F].unshift(se):M._events[F]=[se,M._events[F]]}function L(M,F,se){t=t||sa(),M=M||{},typeof se!="boolean"&&(se=F instanceof t),this.objectMode=!!M.objectMode,se&&(this.objectMode=this.objectMode||!!M.readableObjectMode),this.highWaterMark=f(this,M,"readableHighWaterMark",se),this.buffer=new c,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=M.emitClose!==!1,this.autoDestroy=!!M.autoDestroy,this.destroyed=!1,this.defaultEncoding=M.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,M.encoding&&(y||(y=xp().StringDecoder),this.decoder=new y(M.encoding),this.encoding=M.encoding)}function N(M){if(t=t||sa(),!(this instanceof N))return new N(M);var F=this instanceof t;this._readableState=new L(M,this,F),this.readable=!0,M&&(typeof M.read=="function"&&(this._read=M.read),typeof M.destroy=="function"&&(this._destroy=M.destroy)),r.call(this)}Object.defineProperty(N.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(F){this._readableState&&(this._readableState.destroyed=F)}}),N.prototype.destroy=u.destroy,N.prototype._undestroy=u.undestroy,N.prototype._destroy=function(M,F){F(M)},N.prototype.push=function(M,F){var se=this._readableState,E;return se.objectMode?E=!0:typeof M=="string"&&(F=F||se.defaultEncoding,F!==se.encoding&&(M=n.from(M,F),F=""),E=!0),H(this,M,F,!1,E)},N.prototype.unshift=function(M){return H(this,M,null,!0,!1)};function H(M,F,se,E,te){l("readableAddChunk",F);var C=M._readableState;if(F===null)C.reading=!1,ne(M,C);else{var v;if(te||(v=R(C,F)),v)T(M,v);else if(C.objectMode||F&&F.length>0)if(typeof F!="string"&&!C.objectMode&&Object.getPrototypeOf(F)!==n.prototype&&(F=s(F)),E)C.endEmitted?T(M,new m):ee(M,C,F,!0);else if(C.ended)T(M,new g);else{if(C.destroyed)return!1;C.reading=!1,C.decoder&&!se?(F=C.decoder.write(F),C.objectMode||F.length!==0?ee(M,C,F,!1):Z(M,C)):ee(M,C,F,!1)}else E||(C.reading=!1,Z(M,C))}return!C.ended&&(C.length<C.highWaterMark||C.length===0)}function ee(M,F,se,E){F.flowing&&F.length===0&&!F.sync?(F.awaitDrain=0,M.emit("data",se)):(F.length+=F.objectMode?1:se.length,E?F.buffer.unshift(se):F.buffer.push(se),F.needReadable&&X(M)),Z(M,F)}function R(M,F){var se;return!a(F)&&typeof F!="string"&&F!==void 0&&!M.objectMode&&(se=new w("chunk",["string","Buffer","Uint8Array"],F)),se}N.prototype.isPaused=function(){return this._readableState.flowing===!1},N.prototype.setEncoding=function(M){y||(y=xp().StringDecoder);var F=new y(M);this._readableState.decoder=F,this._readableState.encoding=this._readableState.decoder.encoding;for(var se=this._readableState.buffer.head,E="";se!==null;)E+=F.write(se.data),se=se.next;return this._readableState.buffer.clear(),E!==""&&this._readableState.buffer.push(E),this._readableState.length=E.length,this};var W=1073741824;function P(M){return M>=W?M=W:(M--,M|=M>>>1,M|=M>>>2,M|=M>>>4,M|=M>>>8,M|=M>>>16,M++),M}function B(M,F){return M<=0||F.length===0&&F.ended?0:F.objectMode?1:M!==M?F.flowing&&F.length?F.buffer.head.data.length:F.length:(M>F.highWaterMark&&(F.highWaterMark=P(M)),M<=F.length?M:F.ended?F.length:(F.needReadable=!0,0))}N.prototype.read=function(M){l("read",M),M=parseInt(M,10);var F=this._readableState,se=M;if(M!==0&&(F.emittedReadable=!1),M===0&&F.needReadable&&((F.highWaterMark!==0?F.length>=F.highWaterMark:F.length>0)||F.ended))return l("read: emitReadable",F.length,F.ended),F.length===0&&F.ended?A(this):X(this),null;if(M=B(M,F),M===0&&F.ended)return F.length===0&&A(this),null;var E=F.needReadable;l("need readable",E),(F.length===0||F.length-M<F.highWaterMark)&&(E=!0,l("length less than watermark",E)),F.ended||F.reading?(E=!1,l("reading or ended",E)):E&&(l("do read"),F.reading=!0,F.sync=!0,F.length===0&&(F.needReadable=!0),this._read(F.highWaterMark),F.sync=!1,F.reading||(M=B(se,F)));var te;return M>0?te=j(M,F):te=null,te===null?(F.needReadable=F.length<=F.highWaterMark,M=0):(F.length-=M,F.awaitDrain=0),F.length===0&&(F.ended||(F.needReadable=!0),se!==M&&F.ended&&A(this)),te!==null&&this.emit("data",te),te};function ne(M,F){if(l("onEofChunk"),!F.ended){if(F.decoder){var se=F.decoder.end();se&&se.length&&(F.buffer.push(se),F.length+=F.objectMode?1:se.length)}F.ended=!0,F.sync?X(M):(F.needReadable=!1,F.emittedReadable||(F.emittedReadable=!0,re(M)))}}function X(M){var F=M._readableState;l("emitReadable",F.needReadable,F.emittedReadable),F.needReadable=!1,F.emittedReadable||(l("emitReadable",F.flowing),F.emittedReadable=!0,Ae.nextTick(re,M))}function re(M){var F=M._readableState;l("emitReadable_",F.destroyed,F.length,F.ended),!F.destroyed&&(F.length||F.ended)&&(M.emit("readable"),F.emittedReadable=!1),F.needReadable=!F.flowing&&!F.ended&&F.length<=F.highWaterMark,q(M)}function Z(M,F){F.readingMore||(F.readingMore=!0,Ae.nextTick(le,M,F))}function le(M,F){for(;!F.reading&&!F.ended&&(F.length<F.highWaterMark||F.flowing&&F.length===0);){var se=F.length;if(l("maybeReadMore read 0"),M.read(0),se===F.length)break}F.readingMore=!1}N.prototype._read=function(M){T(this,new b("_read()"))},N.prototype.pipe=function(M,F){var se=this,E=this._readableState;switch(E.pipesCount){case 0:E.pipes=M;break;case 1:E.pipes=[E.pipes,M];break;default:E.pipes.push(M);break}E.pipesCount+=1,l("pipe count=%d opts=%j",E.pipesCount,F);var te=(!F||F.end!==!1)&&M!==Ae.stdout&&M!==Ae.stderr,C=te?x:ge;E.endEmitted?Ae.nextTick(C):se.once("end",C),M.on("unpipe",v);function v(xe,ke){l("onunpipe"),xe===se&&ke&&ke.hasUnpiped===!1&&(ke.hasUnpiped=!0,Y())}function x(){l("onend"),M.end()}var S=G(se);M.on("drain",S);var z=!1;function Y(){l("cleanup"),M.removeListener("close",fe),M.removeListener("finish",de),M.removeListener("drain",S),M.removeListener("error",oe),M.removeListener("unpipe",v),se.removeListener("end",x),se.removeListener("end",ge),se.removeListener("data",$),z=!0,E.awaitDrain&&(!M._writableState||M._writableState.needDrain)&&S()}se.on("data",$);function $(xe){l("ondata");var ke=M.write(xe);l("dest.write",ke),ke===!1&&((E.pipesCount===1&&E.pipes===M||E.pipesCount>1&&U(E.pipes,M)!==-1)&&!z&&(l("false write response, pause",E.awaitDrain),E.awaitDrain++),se.pause())}function oe(xe){l("onerror",xe),ge(),M.removeListener("error",oe),e(M,"error")===0&&T(M,xe)}O(M,"error",oe);function fe(){M.removeListener("finish",de),ge()}M.once("close",fe);function de(){l("onfinish"),M.removeListener("close",fe),ge()}M.once("finish",de);function ge(){l("unpipe"),se.unpipe(M)}return M.emit("pipe",se),E.flowing||(l("pipe resume"),se.resume()),M};function G(M){return function(){var se=M._readableState;l("pipeOnDrain",se.awaitDrain),se.awaitDrain&&se.awaitDrain--,se.awaitDrain===0&&e(M,"data")&&(se.flowing=!0,q(M))}}N.prototype.unpipe=function(M){var F=this._readableState,se={hasUnpiped:!1};if(F.pipesCount===0)return this;if(F.pipesCount===1)return M&&M!==F.pipes?this:(M||(M=F.pipes),F.pipes=null,F.pipesCount=0,F.flowing=!1,M&&M.emit("unpipe",this,se),this);if(!M){var E=F.pipes,te=F.pipesCount;F.pipes=null,F.pipesCount=0,F.flowing=!1;for(var C=0;C<te;C++)E[C].emit("unpipe",this,{hasUnpiped:!1});return this}var v=U(F.pipes,M);return v===-1?this:(F.pipes.splice(v,1),F.pipesCount-=1,F.pipesCount===1&&(F.pipes=F.pipes[0]),M.emit("unpipe",this,se),this)},N.prototype.on=function(M,F){var se=r.prototype.on.call(this,M,F),E=this._readableState;return M==="data"?(E.readableListening=this.listenerCount("readable")>0,E.flowing!==!1&&this.resume()):M==="readable"&&!E.endEmitted&&!E.readableListening&&(E.readableListening=E.needReadable=!0,E.flowing=!1,E.emittedReadable=!1,l("on readable",E.length,E.reading),E.length?X(this):E.reading||Ae.nextTick(J,this)),se},N.prototype.addListener=N.prototype.on,N.prototype.removeListener=function(M,F){var se=r.prototype.removeListener.call(this,M,F);return M==="readable"&&Ae.nextTick(D,this),se},N.prototype.removeAllListeners=function(M){var F=r.prototype.removeAllListeners.apply(this,arguments);return(M==="readable"||M===void 0)&&Ae.nextTick(D,this),F};function D(M){var F=M._readableState;F.readableListening=M.listenerCount("readable")>0,F.resumeScheduled&&!F.paused?F.flowing=!0:M.listenerCount("data")>0&&M.resume()}function J(M){l("readable nexttick read 0"),M.read(0)}N.prototype.resume=function(){var M=this._readableState;return M.flowing||(l("resume"),M.flowing=!M.readableListening,Q(this,M)),M.paused=!1,this};function Q(M,F){F.resumeScheduled||(F.resumeScheduled=!0,Ae.nextTick(ie,M,F))}function ie(M,F){l("resume",F.reading),F.reading||M.read(0),F.resumeScheduled=!1,M.emit("resume"),q(M),F.flowing&&!F.reading&&M.read(0)}N.prototype.pause=function(){return l("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(l("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function q(M){var F=M._readableState;for(l("flow",F.flowing);F.flowing&&M.read()!==null;);}N.prototype.wrap=function(M){var F=this,se=this._readableState,E=!1;M.on("end",function(){if(l("wrapped end"),se.decoder&&!se.ended){var v=se.decoder.end();v&&v.length&&F.push(v)}F.push(null)}),M.on("data",function(v){if(l("wrapped data"),se.decoder&&(v=se.decoder.write(v)),!(se.objectMode&&v==null)&&!(!se.objectMode&&(!v||!v.length))){var x=F.push(v);x||(E=!0,M.pause())}});for(var te in M)this[te]===void 0&&typeof M[te]=="function"&&(this[te]=function(x){return function(){return M[x].apply(M,arguments)}}(te));for(var C=0;C<I.length;C++)M.on(I[C],this.emit.bind(this,I[C]));return this._read=function(v){l("wrapped _read",v),E&&(E=!1,M.resume())},this},typeof Symbol=="function"&&(N.prototype[Symbol.asyncIterator]=function(){return _===void 0&&(_=w6()),_(this)}),Object.defineProperty(N.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(N.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(N.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(F){this._readableState&&(this._readableState.flowing=F)}}),N._fromList=j,Object.defineProperty(N.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function j(M,F){if(F.length===0)return null;var se;return F.objectMode?se=F.buffer.shift():!M||M>=F.length?(F.decoder?se=F.buffer.join(""):F.buffer.length===1?se=F.buffer.first():se=F.buffer.concat(F.length),F.buffer.clear()):se=F.buffer.consume(M,F.decoder),se}function A(M){var F=M._readableState;l("endReadable",F.endEmitted),F.endEmitted||(F.ended=!0,Ae.nextTick(V,F,M))}function V(M,F){if(l("endReadableNT",M.endEmitted,M.length),!M.endEmitted&&M.length===0&&(M.endEmitted=!0,F.readable=!1,F.emit("end"),M.autoDestroy)){var se=F._writableState;(!se||se.autoDestroy&&se.finished)&&F.destroy()}}typeof Symbol=="function"&&(N.from=function(M,F){return k===void 0&&(k=v6()),k(N,M,F)});function U(M,F){for(var se=0,E=M.length;se<E;se++)if(M[se]===F)return se;return-1}return $h}var Wh,yv;function fk(){if(yv)return Wh;yv=1,Wh=o;var t=xa().codes,e=t.ERR_METHOD_NOT_IMPLEMENTED,r=t.ERR_MULTIPLE_CALLBACK,n=t.ERR_TRANSFORM_ALREADY_TRANSFORMING,i=t.ERR_TRANSFORM_WITH_LENGTH_0,s=sa();rs(o,s);function a(u,h){var f=this._transformState;f.transforming=!1;var p=f.writecb;if(p===null)return this.emit("error",new r);f.writechunk=null,f.writecb=null,h!=null&&this.push(h),p(u);var w=this._readableState;w.reading=!1,(w.needReadable||w.length<w.highWaterMark)&&this._read(w.highWaterMark)}function o(u){if(!(this instanceof o))return new o(u);s.call(this,u),this._transformState={afterTransform:a.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,u&&(typeof u.transform=="function"&&(this._transform=u.transform),typeof u.flush=="function"&&(this._flush=u.flush)),this.on("prefinish",l)}function l(){var u=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(h,f){c(u,h,f)}):c(this,null,null)}o.prototype.push=function(u,h){return this._transformState.needTransform=!1,s.prototype.push.call(this,u,h)},o.prototype._transform=function(u,h,f){f(new e("_transform()"))},o.prototype._write=function(u,h,f){var p=this._transformState;if(p.writecb=f,p.writechunk=u,p.writeencoding=h,!p.transforming){var w=this._readableState;(p.needTransform||w.needReadable||w.length<w.highWaterMark)&&this._read(w.highWaterMark)}},o.prototype._read=function(u){var h=this._transformState;h.writechunk!==null&&!h.transforming?(h.transforming=!0,this._transform(h.writechunk,h.writeencoding,h.afterTransform)):h.needTransform=!0},o.prototype._destroy=function(u,h){s.prototype._destroy.call(this,u,function(f){h(f)})};function c(u,h,f){if(h)return u.emit("error",h);if(f!=null&&u.push(f),u._writableState.length)throw new i;if(u._transformState.transforming)throw new n;return u.push(null)}return Wh}var Hh,wv;function x6(){if(wv)return Hh;wv=1,Hh=e;var t=fk();rs(e,t);function e(r){if(!(this instanceof e))return new e(r);t.call(this,r)}return e.prototype._transform=function(r,n,i){i(null,r)},Hh}var Vh,vv;function b6(){if(vv)return Vh;vv=1;var t;function e(f){var p=!1;return function(){p||(p=!0,f.apply(void 0,arguments))}}var r=xa().codes,n=r.ERR_MISSING_ARGS,i=r.ERR_STREAM_DESTROYED;function s(f){if(f)throw f}function a(f){return f.setHeader&&typeof f.abort=="function"}function o(f,p,w,g){g=e(g);var b=!1;f.on("close",function(){b=!0}),t===void 0&&(t=ng()),t(f,{readable:p,writable:w},function(y){if(y)return g(y);b=!0,g()});var m=!1;return function(y){if(!b&&!m){if(m=!0,a(f))return f.abort();if(typeof f.destroy=="function")return f.destroy();g(y||new i("pipe"))}}}function l(f){f()}function c(f,p){return f.pipe(p)}function u(f){return!f.length||typeof f[f.length-1]!="function"?s:f.pop()}function h(){for(var f=arguments.length,p=new Array(f),w=0;w<f;w++)p[w]=arguments[w];var g=u(p);if(Array.isArray(p[0])&&(p=p[0]),p.length<2)throw new n("streams");var b,m=p.map(function(y,_){var k=_<p.length-1,T=_>0;return o(y,k,T,function(I){b||(b=I),I&&m.forEach(l),!k&&(m.forEach(l),g(b))})});return p.reduce(c)}return Vh=h,Vh}var ig=xr,sg=Zm.EventEmitter,_6=rs;_6(xr,sg);xr.Readable=hk();xr.Writable=dk();xr.Duplex=sa();xr.Transform=fk();xr.PassThrough=x6();xr.finished=ng();xr.pipeline=b6();xr.Stream=xr;function xr(){sg.call(this)}xr.prototype.pipe=function(t,e){var r=this;function n(u){t.writable&&t.write(u)===!1&&r.pause&&r.pause()}r.on("data",n);function i(){r.readable&&r.resume&&r.resume()}t.on("drain",i),!t._isStdio&&(!e||e.end!==!1)&&(r.on("end",a),r.on("close",o));var s=!1;function a(){s||(s=!0,t.end())}function o(){s||(s=!0,typeof t.destroy=="function"&&t.destroy())}function l(u){if(c(),sg.listenerCount(this,"error")===0)throw u}r.on("error",l),t.on("error",l);function c(){r.removeListener("data",n),t.removeListener("drain",i),r.removeListener("end",a),r.removeListener("close",o),r.removeListener("error",l),t.removeListener("error",l),r.removeListener("end",c),r.removeListener("close",c),t.removeListener("close",c)}return r.on("end",c),r.on("close",c),t.on("close",c),t.emit("pipe",r),t};(function(t){(function(e){e.parser=function(j,A){return new n(j,A)},e.SAXParser=n,e.SAXStream=u,e.createStream=c,e.MAX_BUFFER_LENGTH=64*1024;var r=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];e.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function n(j,A){if(!(this instanceof n))return new n(j,A);var V=this;s(V),V.q=V.c="",V.bufferCheckPosition=e.MAX_BUFFER_LENGTH,V.opt=A||{},V.opt.lowercase=V.opt.lowercase||V.opt.lowercasetags,V.looseCase=V.opt.lowercase?"toLowerCase":"toUpperCase",V.tags=[],V.closed=V.closedRoot=V.sawRoot=!1,V.tag=V.error=null,V.strict=!!j,V.noscript=!!(j||V.opt.noscript),V.state=N.BEGIN,V.strictEntities=V.opt.strictEntities,V.ENTITIES=V.strictEntities?Object.create(e.XML_ENTITIES):Object.create(e.ENTITIES),V.attribList=[],V.opt.xmlns&&(V.ns=Object.create(g)),V.trackPosition=V.opt.position!==!1,V.trackPosition&&(V.position=V.line=V.column=0),ee(V,"onready")}Object.create||(Object.create=function(j){function A(){}A.prototype=j;var V=new A;return V}),Object.keys||(Object.keys=function(j){var A=[];for(var V in j)j.hasOwnProperty(V)&&A.push(V);return A});function i(j){for(var A=Math.max(e.MAX_BUFFER_LENGTH,10),V=0,U=0,M=r.length;U<M;U++){var F=j[r[U]].length;if(F>A)switch(r[U]){case"textNode":W(j);break;case"cdata":R(j,"oncdata",j.cdata),j.cdata="";break;case"script":R(j,"onscript",j.script),j.script="";break;default:B(j,"Max buffer length exceeded: "+r[U])}V=Math.max(V,F)}var se=e.MAX_BUFFER_LENGTH-V;j.bufferCheckPosition=se+j.position}function s(j){for(var A=0,V=r.length;A<V;A++)j[r[A]]=""}function a(j){W(j),j.cdata!==""&&(R(j,"oncdata",j.cdata),j.cdata=""),j.script!==""&&(R(j,"onscript",j.script),j.script="")}n.prototype={end:function(){ne(this)},write:q,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){a(this)}};var o;try{o=ig.Stream}catch{o=function(){}}var l=e.EVENTS.filter(function(j){return j!=="error"&&j!=="end"});function c(j,A){return new u(j,A)}function u(j,A){if(!(this instanceof u))return new u(j,A);o.apply(this),this._parser=new n(j,A),this.writable=!0,this.readable=!0;var V=this;this._parser.onend=function(){V.emit("end")},this._parser.onerror=function(U){V.emit("error",U),V._parser.error=null},this._decoder=null,l.forEach(function(U){Object.defineProperty(V,"on"+U,{get:function(){return V._parser["on"+U]},set:function(M){if(!M)return V.removeAllListeners(U),V._parser["on"+U]=M,M;V.on(U,M)},enumerable:!0,configurable:!1})})}u.prototype=Object.create(o.prototype,{constructor:{value:u}}),u.prototype.write=function(j){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(j)){if(!this._decoder){var A=xp().StringDecoder;this._decoder=new A("utf8")}j=this._decoder.write(j)}return this._parser.write(j.toString()),this.emit("data",j),!0},u.prototype.end=function(j){return j&&j.length&&this.write(j),this._parser.end(),!0},u.prototype.on=function(j,A){var V=this;return!V._parser["on"+j]&&l.indexOf(j)!==-1&&(V._parser["on"+j]=function(){var U=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);U.splice(0,0,j),V.emit.apply(V,U)}),o.prototype.on.call(V,j,A)};var h="[CDATA[",f="DOCTYPE",p="http://www.w3.org/XML/1998/namespace",w="http://www.w3.org/2000/xmlns/",g={xml:p,xmlns:w},b=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,m=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,y=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,_=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function k(j){return j===" "||j===`
`||j==="\r"||j==="	"}function T(j){return j==='"'||j==="'"}function I(j){return j===">"||k(j)}function O(j,A){return j.test(A)}function L(j,A){return!O(j,A)}var N=0;e.STATE={BEGIN:N++,BEGIN_WHITESPACE:N++,TEXT:N++,TEXT_ENTITY:N++,OPEN_WAKA:N++,SGML_DECL:N++,SGML_DECL_QUOTED:N++,DOCTYPE:N++,DOCTYPE_QUOTED:N++,DOCTYPE_DTD:N++,DOCTYPE_DTD_QUOTED:N++,COMMENT_STARTING:N++,COMMENT:N++,COMMENT_ENDING:N++,COMMENT_ENDED:N++,CDATA:N++,CDATA_ENDING:N++,CDATA_ENDING_2:N++,PROC_INST:N++,PROC_INST_BODY:N++,PROC_INST_ENDING:N++,OPEN_TAG:N++,OPEN_TAG_SLASH:N++,ATTRIB:N++,ATTRIB_NAME:N++,ATTRIB_NAME_SAW_WHITE:N++,ATTRIB_VALUE:N++,ATTRIB_VALUE_QUOTED:N++,ATTRIB_VALUE_CLOSED:N++,ATTRIB_VALUE_UNQUOTED:N++,ATTRIB_VALUE_ENTITY_Q:N++,ATTRIB_VALUE_ENTITY_U:N++,CLOSE_TAG:N++,CLOSE_TAG_SAW_WHITE:N++,SCRIPT:N++,SCRIPT_ENDING:N++},e.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},e.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(e.ENTITIES).forEach(function(j){var A=e.ENTITIES[j],V=typeof A=="number"?String.fromCharCode(A):A;e.ENTITIES[j]=V});for(var H in e.STATE)e.STATE[e.STATE[H]]=H;N=e.STATE;function ee(j,A,V){j[A]&&j[A](V)}function R(j,A,V){j.textNode&&W(j),ee(j,A,V)}function W(j){j.textNode=P(j.opt,j.textNode),j.textNode&&ee(j,"ontext",j.textNode),j.textNode=""}function P(j,A){return j.trim&&(A=A.trim()),j.normalize&&(A=A.replace(/\s+/g," ")),A}function B(j,A){return W(j),j.trackPosition&&(A+=`
Line: `+j.line+`
Column: `+j.column+`
Char: `+j.c),A=new Error(A),j.error=A,ee(j,"onerror",A),j}function ne(j){return j.sawRoot&&!j.closedRoot&&X(j,"Unclosed root tag"),j.state!==N.BEGIN&&j.state!==N.BEGIN_WHITESPACE&&j.state!==N.TEXT&&B(j,"Unexpected end"),W(j),j.c="",j.closed=!0,ee(j,"onend"),n.call(j,j.strict,j.opt),j}function X(j,A){if(typeof j!="object"||!(j instanceof n))throw new Error("bad call to strictFail");j.strict&&B(j,A)}function re(j){j.strict||(j.tagName=j.tagName[j.looseCase]());var A=j.tags[j.tags.length-1]||j,V=j.tag={name:j.tagName,attributes:{}};j.opt.xmlns&&(V.ns=A.ns),j.attribList.length=0,R(j,"onopentagstart",V)}function Z(j,A){var V=j.indexOf(":"),U=V<0?["",j]:j.split(":"),M=U[0],F=U[1];return A&&j==="xmlns"&&(M="xmlns",F=""),{prefix:M,local:F}}function le(j){if(j.strict||(j.attribName=j.attribName[j.looseCase]()),j.attribList.indexOf(j.attribName)!==-1||j.tag.attributes.hasOwnProperty(j.attribName)){j.attribName=j.attribValue="";return}if(j.opt.xmlns){var A=Z(j.attribName,!0),V=A.prefix,U=A.local;if(V==="xmlns")if(U==="xml"&&j.attribValue!==p)X(j,"xml: prefix must be bound to "+p+`
Actual: `+j.attribValue);else if(U==="xmlns"&&j.attribValue!==w)X(j,"xmlns: prefix must be bound to "+w+`
Actual: `+j.attribValue);else{var M=j.tag,F=j.tags[j.tags.length-1]||j;M.ns===F.ns&&(M.ns=Object.create(F.ns)),M.ns[U]=j.attribValue}j.attribList.push([j.attribName,j.attribValue])}else j.tag.attributes[j.attribName]=j.attribValue,R(j,"onattribute",{name:j.attribName,value:j.attribValue});j.attribName=j.attribValue=""}function G(j,A){if(j.opt.xmlns){var V=j.tag,U=Z(j.tagName);V.prefix=U.prefix,V.local=U.local,V.uri=V.ns[U.prefix]||"",V.prefix&&!V.uri&&(X(j,"Unbound namespace prefix: "+JSON.stringify(j.tagName)),V.uri=U.prefix);var M=j.tags[j.tags.length-1]||j;V.ns&&M.ns!==V.ns&&Object.keys(V.ns).forEach(function($){R(j,"onopennamespace",{prefix:$,uri:V.ns[$]})});for(var F=0,se=j.attribList.length;F<se;F++){var E=j.attribList[F],te=E[0],C=E[1],v=Z(te,!0),x=v.prefix,S=v.local,z=x===""?"":V.ns[x]||"",Y={name:te,value:C,prefix:x,local:S,uri:z};x&&x!=="xmlns"&&!z&&(X(j,"Unbound namespace prefix: "+JSON.stringify(x)),Y.uri=x),j.tag.attributes[te]=Y,R(j,"onattribute",Y)}j.attribList.length=0}j.tag.isSelfClosing=!!A,j.sawRoot=!0,j.tags.push(j.tag),R(j,"onopentag",j.tag),A||(!j.noscript&&j.tagName.toLowerCase()==="script"?j.state=N.SCRIPT:j.state=N.TEXT,j.tag=null,j.tagName=""),j.attribName=j.attribValue="",j.attribList.length=0}function D(j){if(!j.tagName){X(j,"Weird empty close tag."),j.textNode+="</>",j.state=N.TEXT;return}if(j.script){if(j.tagName!=="script"){j.script+="</"+j.tagName+">",j.tagName="",j.state=N.SCRIPT;return}R(j,"onscript",j.script),j.script=""}var A=j.tags.length,V=j.tagName;j.strict||(V=V[j.looseCase]());for(var U=V;A--;){var M=j.tags[A];if(M.name!==U)X(j,"Unexpected close tag");else break}if(A<0){X(j,"Unmatched closing tag: "+j.tagName),j.textNode+="</"+j.tagName+">",j.state=N.TEXT;return}j.tagName=V;for(var F=j.tags.length;F-- >A;){var se=j.tag=j.tags.pop();j.tagName=j.tag.name,R(j,"onclosetag",j.tagName);var E={};for(var te in se.ns)E[te]=se.ns[te];var C=j.tags[j.tags.length-1]||j;j.opt.xmlns&&se.ns!==C.ns&&Object.keys(se.ns).forEach(function(v){var x=se.ns[v];R(j,"onclosenamespace",{prefix:v,uri:x})})}A===0&&(j.closedRoot=!0),j.tagName=j.attribValue=j.attribName="",j.attribList.length=0,j.state=N.TEXT}function J(j){var A=j.entity,V=A.toLowerCase(),U,M="";return j.ENTITIES[A]?j.ENTITIES[A]:j.ENTITIES[V]?j.ENTITIES[V]:(A=V,A.charAt(0)==="#"&&(A.charAt(1)==="x"?(A=A.slice(2),U=parseInt(A,16),M=U.toString(16)):(A=A.slice(1),U=parseInt(A,10),M=U.toString(10))),A=A.replace(/^0+/,""),isNaN(U)||M.toLowerCase()!==A?(X(j,"Invalid character entity"),"&"+j.entity+";"):String.fromCodePoint(U))}function Q(j,A){A==="<"?(j.state=N.OPEN_WAKA,j.startTagPosition=j.position):k(A)||(X(j,"Non-whitespace before first tag."),j.textNode=A,j.state=N.TEXT)}function ie(j,A){var V="";return A<j.length&&(V=j.charAt(A)),V}function q(j){var A=this;if(this.error)throw this.error;if(A.closed)return B(A,"Cannot write after close. Assign an onready handler.");if(j===null)return ne(A);typeof j=="object"&&(j=j.toString());for(var V=0,U="";U=ie(j,V++),A.c=U,!!U;)switch(A.trackPosition&&(A.position++,U===`
`?(A.line++,A.column=0):A.column++),A.state){case N.BEGIN:if(A.state=N.BEGIN_WHITESPACE,U==="\uFEFF")continue;Q(A,U);continue;case N.BEGIN_WHITESPACE:Q(A,U);continue;case N.TEXT:if(A.sawRoot&&!A.closedRoot){for(var M=V-1;U&&U!=="<"&&U!=="&";)U=ie(j,V++),U&&A.trackPosition&&(A.position++,U===`
`?(A.line++,A.column=0):A.column++);A.textNode+=j.substring(M,V-1)}U==="<"&&!(A.sawRoot&&A.closedRoot&&!A.strict)?(A.state=N.OPEN_WAKA,A.startTagPosition=A.position):(!k(U)&&(!A.sawRoot||A.closedRoot)&&X(A,"Text data outside of root node."),U==="&"?A.state=N.TEXT_ENTITY:A.textNode+=U);continue;case N.SCRIPT:U==="<"?A.state=N.SCRIPT_ENDING:A.script+=U;continue;case N.SCRIPT_ENDING:U==="/"?A.state=N.CLOSE_TAG:(A.script+="<"+U,A.state=N.SCRIPT);continue;case N.OPEN_WAKA:if(U==="!")A.state=N.SGML_DECL,A.sgmlDecl="";else if(!k(U))if(O(b,U))A.state=N.OPEN_TAG,A.tagName=U;else if(U==="/")A.state=N.CLOSE_TAG,A.tagName="";else if(U==="?")A.state=N.PROC_INST,A.procInstName=A.procInstBody="";else{if(X(A,"Unencoded <"),A.startTagPosition+1<A.position){var F=A.position-A.startTagPosition;U=new Array(F).join(" ")+U}A.textNode+="<"+U,A.state=N.TEXT}continue;case N.SGML_DECL:(A.sgmlDecl+U).toUpperCase()===h?(R(A,"onopencdata"),A.state=N.CDATA,A.sgmlDecl="",A.cdata=""):A.sgmlDecl+U==="--"?(A.state=N.COMMENT,A.comment="",A.sgmlDecl=""):(A.sgmlDecl+U).toUpperCase()===f?(A.state=N.DOCTYPE,(A.doctype||A.sawRoot)&&X(A,"Inappropriately located doctype declaration"),A.doctype="",A.sgmlDecl=""):U===">"?(R(A,"onsgmldeclaration",A.sgmlDecl),A.sgmlDecl="",A.state=N.TEXT):(T(U)&&(A.state=N.SGML_DECL_QUOTED),A.sgmlDecl+=U);continue;case N.SGML_DECL_QUOTED:U===A.q&&(A.state=N.SGML_DECL,A.q=""),A.sgmlDecl+=U;continue;case N.DOCTYPE:U===">"?(A.state=N.TEXT,R(A,"ondoctype",A.doctype),A.doctype=!0):(A.doctype+=U,U==="["?A.state=N.DOCTYPE_DTD:T(U)&&(A.state=N.DOCTYPE_QUOTED,A.q=U));continue;case N.DOCTYPE_QUOTED:A.doctype+=U,U===A.q&&(A.q="",A.state=N.DOCTYPE);continue;case N.DOCTYPE_DTD:A.doctype+=U,U==="]"?A.state=N.DOCTYPE:T(U)&&(A.state=N.DOCTYPE_DTD_QUOTED,A.q=U);continue;case N.DOCTYPE_DTD_QUOTED:A.doctype+=U,U===A.q&&(A.state=N.DOCTYPE_DTD,A.q="");continue;case N.COMMENT:U==="-"?A.state=N.COMMENT_ENDING:A.comment+=U;continue;case N.COMMENT_ENDING:U==="-"?(A.state=N.COMMENT_ENDED,A.comment=P(A.opt,A.comment),A.comment&&R(A,"oncomment",A.comment),A.comment=""):(A.comment+="-"+U,A.state=N.COMMENT);continue;case N.COMMENT_ENDED:U!==">"?(X(A,"Malformed comment"),A.comment+="--"+U,A.state=N.COMMENT):A.state=N.TEXT;continue;case N.CDATA:U==="]"?A.state=N.CDATA_ENDING:A.cdata+=U;continue;case N.CDATA_ENDING:U==="]"?A.state=N.CDATA_ENDING_2:(A.cdata+="]"+U,A.state=N.CDATA);continue;case N.CDATA_ENDING_2:U===">"?(A.cdata&&R(A,"oncdata",A.cdata),R(A,"onclosecdata"),A.cdata="",A.state=N.TEXT):U==="]"?A.cdata+="]":(A.cdata+="]]"+U,A.state=N.CDATA);continue;case N.PROC_INST:U==="?"?A.state=N.PROC_INST_ENDING:k(U)?A.state=N.PROC_INST_BODY:A.procInstName+=U;continue;case N.PROC_INST_BODY:if(!A.procInstBody&&k(U))continue;U==="?"?A.state=N.PROC_INST_ENDING:A.procInstBody+=U;continue;case N.PROC_INST_ENDING:U===">"?(R(A,"onprocessinginstruction",{name:A.procInstName,body:A.procInstBody}),A.procInstName=A.procInstBody="",A.state=N.TEXT):(A.procInstBody+="?"+U,A.state=N.PROC_INST_BODY);continue;case N.OPEN_TAG:O(m,U)?A.tagName+=U:(re(A),U===">"?G(A):U==="/"?A.state=N.OPEN_TAG_SLASH:(k(U)||X(A,"Invalid character in tag name"),A.state=N.ATTRIB));continue;case N.OPEN_TAG_SLASH:U===">"?(G(A,!0),D(A)):(X(A,"Forward-slash in opening tag not followed by >"),A.state=N.ATTRIB);continue;case N.ATTRIB:if(k(U))continue;U===">"?G(A):U==="/"?A.state=N.OPEN_TAG_SLASH:O(b,U)?(A.attribName=U,A.attribValue="",A.state=N.ATTRIB_NAME):X(A,"Invalid attribute name");continue;case N.ATTRIB_NAME:U==="="?A.state=N.ATTRIB_VALUE:U===">"?(X(A,"Attribute without value"),A.attribValue=A.attribName,le(A),G(A)):k(U)?A.state=N.ATTRIB_NAME_SAW_WHITE:O(m,U)?A.attribName+=U:X(A,"Invalid attribute name");continue;case N.ATTRIB_NAME_SAW_WHITE:if(U==="=")A.state=N.ATTRIB_VALUE;else{if(k(U))continue;X(A,"Attribute without value"),A.tag.attributes[A.attribName]="",A.attribValue="",R(A,"onattribute",{name:A.attribName,value:""}),A.attribName="",U===">"?G(A):O(b,U)?(A.attribName=U,A.state=N.ATTRIB_NAME):(X(A,"Invalid attribute name"),A.state=N.ATTRIB)}continue;case N.ATTRIB_VALUE:if(k(U))continue;T(U)?(A.q=U,A.state=N.ATTRIB_VALUE_QUOTED):(X(A,"Unquoted attribute value"),A.state=N.ATTRIB_VALUE_UNQUOTED,A.attribValue=U);continue;case N.ATTRIB_VALUE_QUOTED:if(U!==A.q){U==="&"?A.state=N.ATTRIB_VALUE_ENTITY_Q:A.attribValue+=U;continue}le(A),A.q="",A.state=N.ATTRIB_VALUE_CLOSED;continue;case N.ATTRIB_VALUE_CLOSED:k(U)?A.state=N.ATTRIB:U===">"?G(A):U==="/"?A.state=N.OPEN_TAG_SLASH:O(b,U)?(X(A,"No whitespace between attributes"),A.attribName=U,A.attribValue="",A.state=N.ATTRIB_NAME):X(A,"Invalid attribute name");continue;case N.ATTRIB_VALUE_UNQUOTED:if(!I(U)){U==="&"?A.state=N.ATTRIB_VALUE_ENTITY_U:A.attribValue+=U;continue}le(A),U===">"?G(A):A.state=N.ATTRIB;continue;case N.CLOSE_TAG:if(A.tagName)U===">"?D(A):O(m,U)?A.tagName+=U:A.script?(A.script+="</"+A.tagName,A.tagName="",A.state=N.SCRIPT):(k(U)||X(A,"Invalid tagname in closing tag"),A.state=N.CLOSE_TAG_SAW_WHITE);else{if(k(U))continue;L(b,U)?A.script?(A.script+="</"+U,A.state=N.SCRIPT):X(A,"Invalid tagname in closing tag."):A.tagName=U}continue;case N.CLOSE_TAG_SAW_WHITE:if(k(U))continue;U===">"?D(A):X(A,"Invalid characters in closing tag");continue;case N.TEXT_ENTITY:case N.ATTRIB_VALUE_ENTITY_Q:case N.ATTRIB_VALUE_ENTITY_U:var se,E;switch(A.state){case N.TEXT_ENTITY:se=N.TEXT,E="textNode";break;case N.ATTRIB_VALUE_ENTITY_Q:se=N.ATTRIB_VALUE_QUOTED,E="attribValue";break;case N.ATTRIB_VALUE_ENTITY_U:se=N.ATTRIB_VALUE_UNQUOTED,E="attribValue";break}U===";"?(A[E]+=J(A),A.entity="",A.state=se):O(A.entity.length?_:y,U)?A.entity+=U:(X(A,"Invalid character in entity name"),A[E]+="&"+A.entity+U,A.entity="",A.state=se);continue;default:throw new Error(A,"Unknown state: "+A.state)}return A.position>=A.bufferCheckPosition&&i(A),A}/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */String.fromCodePoint||function(){var j=String.fromCharCode,A=Math.floor,V=function(){var U=16384,M=[],F,se,E=-1,te=arguments.length;if(!te)return"";for(var C="";++E<te;){var v=Number(arguments[E]);if(!isFinite(v)||v<0||v>1114111||A(v)!==v)throw RangeError("Invalid code point: "+v);v<=65535?M.push(v):(v-=65536,F=(v>>10)+55296,se=v%1024+56320,M.push(F,se)),(E+1===te||M.length>U)&&(C+=j.apply(null,M),M.length=0)}return C};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:V,configurable:!0,writable:!0}):String.fromCodePoint=V}()})(t)})(W_);var ag={isArray:function(t){return Array.isArray?Array.isArray(t):Object.prototype.toString.call(t)==="[object Array]"}},k6=ag.isArray,og={copyOptions:function(t){var e,r={};for(e in t)t.hasOwnProperty(e)&&(r[e]=t[e]);return r},ensureFlagExists:function(t,e){(!(t in e)||typeof e[t]!="boolean")&&(e[t]=!1)},ensureSpacesExists:function(t){(!("spaces"in t)||typeof t.spaces!="number"&&typeof t.spaces!="string")&&(t.spaces=0)},ensureAlwaysArrayExists:function(t){(!("alwaysArray"in t)||typeof t.alwaysArray!="boolean"&&!k6(t.alwaysArray))&&(t.alwaysArray=!1)},ensureKeyExists:function(t,e){(!(t+"Key"in e)||typeof e[t+"Key"]!="string")&&(e[t+"Key"]=e.compact?"_"+t:t)},checkFnExists:function(t,e){return t+"Fn"in e}},S6=W_,Ie=og,Ws=ag.isArray,ae,Se;function E6(t){return ae=Ie.copyOptions(t),Ie.ensureFlagExists("ignoreDeclaration",ae),Ie.ensureFlagExists("ignoreInstruction",ae),Ie.ensureFlagExists("ignoreAttributes",ae),Ie.ensureFlagExists("ignoreText",ae),Ie.ensureFlagExists("ignoreComment",ae),Ie.ensureFlagExists("ignoreCdata",ae),Ie.ensureFlagExists("ignoreDoctype",ae),Ie.ensureFlagExists("compact",ae),Ie.ensureFlagExists("alwaysChildren",ae),Ie.ensureFlagExists("addParent",ae),Ie.ensureFlagExists("trim",ae),Ie.ensureFlagExists("nativeType",ae),Ie.ensureFlagExists("nativeTypeAttributes",ae),Ie.ensureFlagExists("sanitize",ae),Ie.ensureFlagExists("instructionHasAttributes",ae),Ie.ensureFlagExists("captureSpacesBetweenElements",ae),Ie.ensureAlwaysArrayExists(ae),Ie.ensureKeyExists("declaration",ae),Ie.ensureKeyExists("instruction",ae),Ie.ensureKeyExists("attributes",ae),Ie.ensureKeyExists("text",ae),Ie.ensureKeyExists("comment",ae),Ie.ensureKeyExists("cdata",ae),Ie.ensureKeyExists("doctype",ae),Ie.ensureKeyExists("type",ae),Ie.ensureKeyExists("name",ae),Ie.ensureKeyExists("elements",ae),Ie.ensureKeyExists("parent",ae),ae}function pk(t){var e=Number(t);if(!isNaN(e))return e;var r=t.toLowerCase();return r==="true"?!0:r==="false"?!1:t}function il(t,e){var r;if(ae.compact){if(!Se[ae[t+"Key"]]&&(Ws(ae.alwaysArray)?ae.alwaysArray.indexOf(ae[t+"Key"])!==-1:ae.alwaysArray)&&(Se[ae[t+"Key"]]=[]),Se[ae[t+"Key"]]&&!Ws(Se[ae[t+"Key"]])&&(Se[ae[t+"Key"]]=[Se[ae[t+"Key"]]]),t+"Fn"in ae&&typeof e=="string"&&(e=ae[t+"Fn"](e,Se)),t==="instruction"&&("instructionFn"in ae||"instructionNameFn"in ae)){for(r in e)if(e.hasOwnProperty(r))if("instructionFn"in ae)e[r]=ae.instructionFn(e[r],r,Se);else{var n=e[r];delete e[r],e[ae.instructionNameFn(r,n,Se)]=n}}Ws(Se[ae[t+"Key"]])?Se[ae[t+"Key"]].push(e):Se[ae[t+"Key"]]=e}else{Se[ae.elementsKey]||(Se[ae.elementsKey]=[]);var i={};if(i[ae.typeKey]=t,t==="instruction"){for(r in e)if(e.hasOwnProperty(r))break;i[ae.nameKey]="instructionNameFn"in ae?ae.instructionNameFn(r,e,Se):r,ae.instructionHasAttributes?(i[ae.attributesKey]=e[r][ae.attributesKey],"instructionFn"in ae&&(i[ae.attributesKey]=ae.instructionFn(i[ae.attributesKey],r,Se))):("instructionFn"in ae&&(e[r]=ae.instructionFn(e[r],r,Se)),i[ae.instructionKey]=e[r])}else t+"Fn"in ae&&(e=ae[t+"Fn"](e,Se)),i[ae[t+"Key"]]=e;ae.addParent&&(i[ae.parentKey]=Se),Se[ae.elementsKey].push(i)}}function mk(t){if("attributesFn"in ae&&t&&(t=ae.attributesFn(t,Se)),(ae.trim||"attributeValueFn"in ae||"attributeNameFn"in ae||ae.nativeTypeAttributes)&&t){var e;for(e in t)if(t.hasOwnProperty(e)&&(ae.trim&&(t[e]=t[e].trim()),ae.nativeTypeAttributes&&(t[e]=pk(t[e])),"attributeValueFn"in ae&&(t[e]=ae.attributeValueFn(t[e],e,Se)),"attributeNameFn"in ae)){var r=t[e];delete t[e],t[ae.attributeNameFn(e,t[e],Se)]=r}}return t}function T6(t){var e={};if(t.body&&(t.name.toLowerCase()==="xml"||ae.instructionHasAttributes)){for(var r=/([\w:-]+)\s*=\s*(?:"([^"]*)"|'([^']*)'|(\w+))\s*/g,n;(n=r.exec(t.body))!==null;)e[n[1]]=n[2]||n[3]||n[4];e=mk(e)}if(t.name.toLowerCase()==="xml"){if(ae.ignoreDeclaration)return;Se[ae.declarationKey]={},Object.keys(e).length&&(Se[ae.declarationKey][ae.attributesKey]=e),ae.addParent&&(Se[ae.declarationKey][ae.parentKey]=Se)}else{if(ae.ignoreInstruction)return;ae.trim&&(t.body=t.body.trim());var i={};ae.instructionHasAttributes&&Object.keys(e).length?(i[t.name]={},i[t.name][ae.attributesKey]=e):i[t.name]=t.body,il("instruction",i)}}function N6(t,e){var r;if(typeof t=="object"&&(e=t.attributes,t=t.name),e=mk(e),"elementNameFn"in ae&&(t=ae.elementNameFn(t,Se)),ae.compact){if(r={},!ae.ignoreAttributes&&e&&Object.keys(e).length){r[ae.attributesKey]={};var n;for(n in e)e.hasOwnProperty(n)&&(r[ae.attributesKey][n]=e[n])}!(t in Se)&&(Ws(ae.alwaysArray)?ae.alwaysArray.indexOf(t)!==-1:ae.alwaysArray)&&(Se[t]=[]),Se[t]&&!Ws(Se[t])&&(Se[t]=[Se[t]]),Ws(Se[t])?Se[t].push(r):Se[t]=r}else Se[ae.elementsKey]||(Se[ae.elementsKey]=[]),r={},r[ae.typeKey]="element",r[ae.nameKey]=t,!ae.ignoreAttributes&&e&&Object.keys(e).length&&(r[ae.attributesKey]=e),ae.alwaysChildren&&(r[ae.elementsKey]=[]),Se[ae.elementsKey].push(r);r[ae.parentKey]=Se,Se=r}function A6(t){ae.ignoreText||!t.trim()&&!ae.captureSpacesBetweenElements||(ae.trim&&(t=t.trim()),ae.nativeType&&(t=pk(t)),ae.sanitize&&(t=t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),il("text",t))}function j6(t){ae.ignoreComment||(ae.trim&&(t=t.trim()),il("comment",t))}function C6(t){var e=Se[ae.parentKey];ae.addParent||delete Se[ae.parentKey],Se=e}function P6(t){ae.ignoreCdata||(ae.trim&&(t=t.trim()),il("cdata",t))}function O6(t){ae.ignoreDoctype||(t=t.replace(/^ /,""),ae.trim&&(t=t.trim()),il("doctype",t))}function R6(t){t.note=t}var gk=function(t,e){var r=S6.parser(!0,{}),n={};if(Se=n,ae=E6(e),r.opt={strictEntities:!0},r.onopentag=N6,r.ontext=A6,r.oncomment=j6,r.onclosetag=C6,r.onerror=R6,r.oncdata=P6,r.ondoctype=O6,r.onprocessinginstruction=T6,r.write(t).close(),n[ae.elementsKey]){var i=n[ae.elementsKey];delete n[ae.elementsKey],n[ae.elementsKey]=i,delete n.text}return n},xv=og,D6=gk;function I6(t){var e=xv.copyOptions(t);return xv.ensureSpacesExists(e),e}var M6=function(t,e){var r,n,i,s;return r=I6(e),n=D6(t,r),s="compact"in r&&r.compact?"_parent":"parent","addParent"in r&&r.addParent?i=JSON.stringify(n,function(a,o){return a===s?"_":o},r.spaces):i=JSON.stringify(n,null,r.spaces),i.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")},$e=og,L6=ag.isArray,Ot,Rt;function F6(t){var e=$e.copyOptions(t);return $e.ensureFlagExists("ignoreDeclaration",e),$e.ensureFlagExists("ignoreInstruction",e),$e.ensureFlagExists("ignoreAttributes",e),$e.ensureFlagExists("ignoreText",e),$e.ensureFlagExists("ignoreComment",e),$e.ensureFlagExists("ignoreCdata",e),$e.ensureFlagExists("ignoreDoctype",e),$e.ensureFlagExists("compact",e),$e.ensureFlagExists("indentText",e),$e.ensureFlagExists("indentCdata",e),$e.ensureFlagExists("indentAttributes",e),$e.ensureFlagExists("indentInstruction",e),$e.ensureFlagExists("fullTagEmptyElement",e),$e.ensureFlagExists("noQuotesForNativeAttributes",e),$e.ensureSpacesExists(e),typeof e.spaces=="number"&&(e.spaces=Array(e.spaces+1).join(" ")),$e.ensureKeyExists("declaration",e),$e.ensureKeyExists("instruction",e),$e.ensureKeyExists("attributes",e),$e.ensureKeyExists("text",e),$e.ensureKeyExists("comment",e),$e.ensureKeyExists("cdata",e),$e.ensureKeyExists("doctype",e),$e.ensureKeyExists("type",e),$e.ensureKeyExists("name",e),$e.ensureKeyExists("elements",e),e}function Wr(t,e,r){return(!r&&t.spaces?`
`:"")+Array(e+1).join(t.spaces)}function td(t,e,r){if(e.ignoreAttributes)return"";"attributesFn"in e&&(t=e.attributesFn(t,Rt,Ot));var n,i,s,a,o=[];for(n in t)t.hasOwnProperty(n)&&t[n]!==null&&t[n]!==void 0&&(a=e.noQuotesForNativeAttributes&&typeof t[n]!="string"?"":'"',i=""+t[n],i=i.replace(/"/g,"&quot;"),s="attributeNameFn"in e?e.attributeNameFn(n,i,Rt,Ot):n,o.push(e.spaces&&e.indentAttributes?Wr(e,r+1,!1):" "),o.push(s+"="+a+("attributeValueFn"in e?e.attributeValueFn(i,n,Rt,Ot):i)+a));return t&&Object.keys(t).length&&e.spaces&&e.indentAttributes&&o.push(Wr(e,r,!1)),o.join("")}function yk(t,e,r){return Ot=t,Rt="xml",e.ignoreDeclaration?"":"<?xml"+td(t[e.attributesKey],e,r)+"?>"}function wk(t,e,r){if(e.ignoreInstruction)return"";var n;for(n in t)if(t.hasOwnProperty(n))break;var i="instructionNameFn"in e?e.instructionNameFn(n,t[n],Rt,Ot):n;if(typeof t[n]=="object")return Ot=t,Rt=i,"<?"+i+td(t[n][e.attributesKey],e,r)+"?>";var s=t[n]?t[n]:"";return"instructionFn"in e&&(s=e.instructionFn(s,n,Rt,Ot)),"<?"+i+(s?" "+s:"")+"?>"}function vk(t,e){return e.ignoreComment?"":"<!--"+("commentFn"in e?e.commentFn(t,Rt,Ot):t)+"-->"}function xk(t,e){return e.ignoreCdata?"":"<![CDATA["+("cdataFn"in e?e.cdataFn(t,Rt,Ot):t.replace("]]>","]]]]><![CDATA[>"))+"]]>"}function bk(t,e){return e.ignoreDoctype?"":"<!DOCTYPE "+("doctypeFn"in e?e.doctypeFn(t,Rt,Ot):t)+">"}function lg(t,e){return e.ignoreText?"":(t=""+t,t=t.replace(/&amp;/g,"&"),t=t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"textFn"in e?e.textFn(t,Rt,Ot):t)}function B6(t,e){var r;if(t.elements&&t.elements.length)for(r=0;r<t.elements.length;++r)switch(t.elements[r][e.typeKey]){case"text":if(e.indentText)return!0;break;case"cdata":if(e.indentCdata)return!0;break;case"instruction":if(e.indentInstruction)return!0;break;case"doctype":case"comment":case"element":return!0;default:return!0}return!1}function z6(t,e,r){Ot=t,Rt=t.name;var n=[],i="elementNameFn"in e?e.elementNameFn(t.name,t):t.name;n.push("<"+i),t[e.attributesKey]&&n.push(td(t[e.attributesKey],e,r));var s=t[e.elementsKey]&&t[e.elementsKey].length||t[e.attributesKey]&&t[e.attributesKey]["xml:space"]==="preserve";return s||("fullTagEmptyElementFn"in e?s=e.fullTagEmptyElementFn(t.name,t):s=e.fullTagEmptyElement),s?(n.push(">"),t[e.elementsKey]&&t[e.elementsKey].length&&(n.push(_k(t[e.elementsKey],e,r+1)),Ot=t,Rt=t.name),n.push(e.spaces&&B6(t,e)?`
`+Array(r+1).join(e.spaces):""),n.push("</"+i+">")):n.push("/>"),n.join("")}function _k(t,e,r,n){return t.reduce(function(i,s){var a=Wr(e,r,n&&!i);switch(s.type){case"element":return i+a+z6(s,e,r);case"comment":return i+a+vk(s[e.commentKey],e);case"doctype":return i+a+bk(s[e.doctypeKey],e);case"cdata":return i+(e.indentCdata?a:"")+xk(s[e.cdataKey],e);case"text":return i+(e.indentText?a:"")+lg(s[e.textKey],e);case"instruction":var o={};return o[s[e.nameKey]]=s[e.attributesKey]?s:s[e.instructionKey],i+(e.indentInstruction?a:"")+wk(o,e,r)}},"")}function kk(t,e,r){var n;for(n in t)if(t.hasOwnProperty(n))switch(n){case e.parentKey:case e.attributesKey:break;case e.textKey:if(e.indentText||r)return!0;break;case e.cdataKey:if(e.indentCdata||r)return!0;break;case e.instructionKey:if(e.indentInstruction||r)return!0;break;case e.doctypeKey:case e.commentKey:return!0;default:return!0}return!1}function U6(t,e,r,n,i){Ot=t,Rt=e;var s="elementNameFn"in r?r.elementNameFn(e,t):e;if(typeof t>"u"||t===null||t==="")return"fullTagEmptyElementFn"in r&&r.fullTagEmptyElementFn(e,t)||r.fullTagEmptyElement?"<"+s+"></"+s+">":"<"+s+"/>";var a=[];if(e){if(a.push("<"+s),typeof t!="object")return a.push(">"+lg(t,r)+"</"+s+">"),a.join("");t[r.attributesKey]&&a.push(td(t[r.attributesKey],r,n));var o=kk(t,r,!0)||t[r.attributesKey]&&t[r.attributesKey]["xml:space"]==="preserve";if(o||("fullTagEmptyElementFn"in r?o=r.fullTagEmptyElementFn(e,t):o=r.fullTagEmptyElement),o)a.push(">");else return a.push("/>"),a.join("")}return a.push(Sk(t,r,n+1,!1)),Ot=t,Rt=e,e&&a.push((i?Wr(r,n,!1):"")+"</"+s+">"),a.join("")}function Sk(t,e,r,n){var i,s,a,o=[];for(s in t)if(t.hasOwnProperty(s))for(a=L6(t[s])?t[s]:[t[s]],i=0;i<a.length;++i){switch(s){case e.declarationKey:o.push(yk(a[i],e,r));break;case e.instructionKey:o.push((e.indentInstruction?Wr(e,r,n):"")+wk(a[i],e,r));break;case e.attributesKey:case e.parentKey:break;case e.textKey:o.push((e.indentText?Wr(e,r,n):"")+lg(a[i],e));break;case e.cdataKey:o.push((e.indentCdata?Wr(e,r,n):"")+xk(a[i],e));break;case e.doctypeKey:o.push(Wr(e,r,n)+bk(a[i],e));break;case e.commentKey:o.push(Wr(e,r,n)+vk(a[i],e));break;default:o.push(Wr(e,r,n)+U6(a[i],s,e,r,kk(a[i],e)))}n=n&&!o.length}return o.join("")}var Ek=function(t,e){e=F6(e);var r=[];return Ot=t,Rt="_root_",e.compact?r.push(Sk(t,e,0,!0)):(t[e.declarationKey]&&r.push(yk(t[e.declarationKey],e,0)),t[e.elementsKey]&&t[e.elementsKey].length&&r.push(_k(t[e.elementsKey],e,0,!r.length))),r.join("")},$6=Ek,W6=function(t,e){t instanceof Buffer&&(t=t.toString());var r=null;if(typeof t=="string")try{r=JSON.parse(t)}catch{throw new Error("The JSON structure is invalid")}else r=t;return $6(r,e)},H6=gk,V6=M6,K6=Ek,q6=W6,Tk={xml2js:H6,xml2json:V6,js2xml:K6,json2xml:q6};const cg=t=>{switch(t.type){case void 0:case"element":const e=new Y6(t.name,t.attributes),r=t.elements||[];for(const n of r){const i=cg(n);i!==void 0&&e.push(i)}return e;case"text":return t.text;default:return}};class G6 extends _e{}class Y6 extends ue{static fromXmlString(e){const r=Tk.xml2js(e,{compact:!1});return cg(r)}constructor(e,r){super(e),r&&this.root.push(new G6(r))}push(e){this.root.push(e)}}class X6 extends ue{constructor(e){super(""),this._attr=e}prepForXml(e){return{_attr:this._attr}}}class Nk extends ue{constructor(e,r){super(e),r&&(this.root=r.root)}}const Mt=t=>{if(isNaN(t))throw new Error(`Invalid value '${t}' specified. Must be an integer.`);return Math.floor(t)},rd=t=>{const e=Mt(t);if(e<0)throw new Error(`Invalid value '${t}' specified. Must be a positive integer.`);return e},Ak=(t,e)=>{const r=e*2;if(t.length!==r||isNaN(+`0x${t}`))throw new Error(`Invalid hex value '${t}'. Expected ${r} digit hex value`);return t},bv=t=>Ak(t,1),ug=t=>{const e=t.slice(-2),r=t.substring(0,t.length-2);return`${Number(r)}${e}`},jk=t=>{const e=ug(t);if(parseFloat(e)<0)throw new Error(`Invalid value '${e}' specified. Expected a positive number.`);return e},aa=t=>{if(t==="auto")return t;const e=t.charAt(0)==="#"?t.substring(1):t;return Ak(e,3)},hn=t=>typeof t=="string"?ug(t):Mt(t),Q6=t=>typeof t=="string"?jk(t):rd(t),kt=t=>typeof t=="string"?jk(t):rd(t),J6=t=>{const e=t.substring(0,t.length-1);return`${Number(e)}%`},Z6=t=>typeof t=="number"?Mt(t):t.slice(-1)==="%"?J6(t):ug(t),e2=rd,t2=rd,r2=t=>t.toISOString();class he extends ue{constructor(e,r=!0){super(e),r!==!0&&this.root.push(new st({val:r}))}}class Kh extends ue{constructor(e,r){super(e),this.root.push(new st({val:Q6(r)}))}}class Li extends ue{constructor(e,r){super(e),this.root.push(new st({val:r}))}}const Ua=(t,e)=>new ai({name:t,attributes:{value:{key:"w:val",value:e}}});class dg extends ue{constructor(e,r){super(e),this.root.push(new st({val:r}))}}class n2 extends ue{constructor(e,r){super(e),this.root.push(new st({val:r}))}}class yi extends ue{constructor(e,r){super(e),this.root.push(r)}}class ai extends ue{constructor({name:e,attributes:r,children:n}){super(e),r&&this.root.push(new di(r)),n&&this.root.push(...n)}}const ze={START:"start",CENTER:"center",END:"end",BOTH:"both",MEDIUM_KASHIDA:"mediumKashida",DISTRIBUTE:"distribute",NUM_TAB:"numTab",HIGH_KASHIDA:"highKashida",LOW_KASHIDA:"lowKashida",THAI_DISTRIBUTE:"thaiDistribute",LEFT:"left",RIGHT:"right",JUSTIFIED:"both"};class i2 extends _e{constructor(){super(...arguments),ce(this,"xmlKeys",{val:"w:val"})}}class Ck extends ue{constructor(e){super("w:jc"),this.root.push(new i2({val:e}))}}class Be extends ue{constructor(e,{color:r,size:n,space:i,style:s}){super(e),this.root.push(new s2({style:s,color:r===void 0?void 0:aa(r),size:n===void 0?void 0:e2(n),space:i===void 0?void 0:t2(i)}))}}class s2 extends _e{constructor(){super(...arguments),ce(this,"xmlKeys",{style:"w:val",color:"w:color",size:"w:sz",space:"w:space"})}}const zt={SINGLE:"single",DASH_DOT_STROKED:"dashDotStroked",DASHED:"dashed",DASH_SMALL_GAP:"dashSmallGap",DOT_DASH:"dotDash",DOT_DOT_DASH:"dotDotDash",DOTTED:"dotted",DOUBLE:"double",DOUBLE_WAVE:"doubleWave",INSET:"inset",NIL:"nil",NONE:"none",OUTSET:"outset",THICK:"thick",THICK_THIN_LARGE_GAP:"thickThinLargeGap",THICK_THIN_MEDIUM_GAP:"thickThinMediumGap",THICK_THIN_SMALL_GAP:"thickThinSmallGap",THIN_THICK_LARGE_GAP:"thinThickLargeGap",THIN_THICK_MEDIUM_GAP:"thinThickMediumGap",THIN_THICK_SMALL_GAP:"thinThickSmallGap",THIN_THICK_THIN_LARGE_GAP:"thinThickThinLargeGap",THIN_THICK_THIN_MEDIUM_GAP:"thinThickThinMediumGap",THIN_THICK_THIN_SMALL_GAP:"thinThickThinSmallGap",THREE_D_EMBOSS:"threeDEmboss",THREE_D_ENGRAVE:"threeDEngrave",TRIPLE:"triple",WAVE:"wave"};class a2 extends _n{constructor(e){super("w:pBdr"),e.top&&this.root.push(new Be("w:top",e.top)),e.bottom&&this.root.push(new Be("w:bottom",e.bottom)),e.left&&this.root.push(new Be("w:left",e.left)),e.right&&this.root.push(new Be("w:right",e.right))}}class o2 extends ue{constructor(){super("w:pBdr");const e=new Be("w:bottom",{color:"auto",space:1,style:zt.SINGLE,size:6});this.root.push(e)}}class l2 extends ue{constructor({start:e,end:r,left:n,right:i,hanging:s,firstLine:a}){super("w:ind"),this.root.push(new di({start:{key:"w:start",value:e===void 0?void 0:hn(e)},end:{key:"w:end",value:r===void 0?void 0:hn(r)},left:{key:"w:left",value:n===void 0?void 0:hn(n)},right:{key:"w:right",value:i===void 0?void 0:hn(i)},hanging:{key:"w:hanging",value:s===void 0?void 0:kt(s)},firstLine:{key:"w:firstLine",value:a===void 0?void 0:kt(a)}}))}}let c2=class extends ue{constructor(){super("w:br")}};const hg={BEGIN:"begin",END:"end",SEPARATE:"separate"};class fg extends _e{constructor(){super(...arguments),ce(this,"xmlKeys",{type:"w:fldCharType",dirty:"w:dirty"})}}class Jl extends ue{constructor(e){super("w:fldChar"),this.root.push(new fg({type:hg.BEGIN,dirty:e}))}}class Zl extends ue{constructor(e){super("w:fldChar"),this.root.push(new fg({type:hg.SEPARATE,dirty:e}))}}class ec extends ue{constructor(e){super("w:fldChar"),this.root.push(new fg({type:hg.END,dirty:e}))}}const oa={DEFAULT:"default",PRESERVE:"preserve"};class la extends _e{constructor(){super(...arguments),ce(this,"xmlKeys",{space:"xml:space"})}}class u2 extends ue{constructor(){super("w:instrText"),this.root.push(new la({space:oa.PRESERVE})),this.root.push("PAGE")}}class d2 extends ue{constructor(){super("w:instrText"),this.root.push(new la({space:oa.PRESERVE})),this.root.push("NUMPAGES")}}class h2 extends ue{constructor(){super("w:instrText"),this.root.push(new la({space:oa.PRESERVE})),this.root.push("SECTIONPAGES")}}class f2 extends ue{constructor(){super("w:instrText"),this.root.push(new la({space:oa.PRESERVE})),this.root.push("SECTION")}}class p2 extends _e{constructor(){super(...arguments),ce(this,"xmlKeys",{fill:"w:fill",color:"w:color",type:"w:val"})}}class nd extends ue{constructor({fill:e,color:r,type:n}){super("w:shd"),this.root.push(new p2({fill:e===void 0?void 0:aa(e),color:r===void 0?void 0:aa(r),type:n}))}}class m2 extends _e{constructor(){super(...arguments),ce(this,"xmlKeys",{id:"w:id",author:"w:author",date:"w:date"})}}const g2={DOT:"dot"};class y2 extends ue{constructor(e){super("w:em"),this.root.push(new st({val:e}))}}class w2 extends y2{constructor(e=g2.DOT){super(e)}}class v2 extends ue{constructor(e){super("w:spacing"),this.root.push(new st({val:hn(e)}))}}class x2 extends ue{constructor(e){super("w:color"),this.root.push(new st({val:aa(e)}))}}class b2 extends ue{constructor(e){super("w:highlight"),this.root.push(new st({val:e}))}}class _2 extends ue{constructor(e){super("w:highlightCs"),this.root.push(new st({val:e}))}}const k2=t=>new ai({name:"w:lang",attributes:{value:{key:"w:val",value:t.value},eastAsia:{key:"w:eastAsia",value:t.eastAsia},bidirectional:{key:"w:bidi",value:t.bidirectional}}});class _v extends _e{constructor(){super(...arguments),ce(this,"xmlKeys",{ascii:"w:ascii",cs:"w:cs",eastAsia:"w:eastAsia",hAnsi:"w:hAnsi",hint:"w:hint"})}}class qh extends ue{constructor(e,r){if(super("w:rFonts"),typeof e=="string"){const n=e;this.root.push(new _v({ascii:n,cs:n,eastAsia:n,hAnsi:n,hint:r}))}else{const n=e;this.root.push(new _v(n))}}}let Pk=class extends ue{constructor(e){super("w:vertAlign"),this.root.push(new st({val:e}))}};class S2 extends Pk{constructor(){super("superscript")}}class E2 extends Pk{constructor(){super("subscript")}}const Ok={SINGLE:"single",WORDS:"words",DOUBLE:"double",THICK:"thick",DOTTED:"dotted",DOTTEDHEAVY:"dottedHeavy",DASH:"dash",DASHEDHEAVY:"dashedHeavy",DASHLONG:"dashLong",DASHLONGHEAVY:"dashLongHeavy",DOTDASH:"dotDash",DASHDOTHEAVY:"dashDotHeavy",DOTDOTDASH:"dotDotDash",DASHDOTDOTHEAVY:"dashDotDotHeavy",WAVE:"wave",WAVYHEAVY:"wavyHeavy",WAVYDOUBLE:"wavyDouble",NONE:"none"};class T2 extends ue{constructor(e=Ok.SINGLE,r){super("w:u"),this.root.push(new st({val:e,color:r===void 0?void 0:aa(r)}))}}class ns extends _n{constructor(e){var r,n;if(super("w:rPr"),!e)return;e.noProof!==void 0&&this.push(new he("w:noProof",e.noProof)),e.bold!==void 0&&this.push(new he("w:b",e.bold)),(e.boldComplexScript===void 0&&e.bold!==void 0||e.boldComplexScript)&&this.push(new he("w:bCs",(r=e.boldComplexScript)!=null?r:e.bold)),e.italics!==void 0&&this.push(new he("w:i",e.italics)),(e.italicsComplexScript===void 0&&e.italics!==void 0||e.italicsComplexScript)&&this.push(new he("w:iCs",(n=e.italicsComplexScript)!=null?n:e.italics)),e.underline&&this.push(new T2(e.underline.type,e.underline.color)),e.effect&&this.push(new Li("w:effect",e.effect)),e.emphasisMark&&this.push(new w2(e.emphasisMark.type)),e.color&&this.push(new x2(e.color)),e.kern&&this.push(new Kh("w:kern",e.kern)),e.position&&this.push(new Li("w:position",e.position)),e.size!==void 0&&this.push(new Kh("w:sz",e.size));const i=e.sizeComplexScript===void 0||e.sizeComplexScript===!0?e.size:e.sizeComplexScript;i&&this.push(new Kh("w:szCs",i)),e.rightToLeft!==void 0&&this.push(new he("w:rtl",e.rightToLeft)),e.smallCaps!==void 0?this.push(new he("w:smallCaps",e.smallCaps)):e.allCaps!==void 0&&this.push(new he("w:caps",e.allCaps)),e.strike!==void 0&&this.push(new he("w:strike",e.strike)),e.doubleStrike!==void 0&&this.push(new he("w:dstrike",e.doubleStrike)),e.subScript&&this.push(new E2),e.superScript&&this.push(new S2),e.style&&this.push(new Li("w:rStyle",e.style)),e.font&&(typeof e.font=="string"?this.push(new qh(e.font)):"name"in e.font?this.push(new qh(e.font.name,e.font.hint)):this.push(new qh(e.font))),e.highlight&&this.push(new b2(e.highlight));const s=e.highlightComplexScript===void 0||e.highlightComplexScript===!0?e.highlight:e.highlightComplexScript;s&&this.push(new _2(s)),e.characterSpacing&&this.push(new v2(e.characterSpacing)),e.emboss!==void 0&&this.push(new he("w:emboss",e.emboss)),e.imprint!==void 0&&this.push(new he("w:imprint",e.imprint)),e.shading&&this.push(new nd(e.shading)),e.revision&&this.push(new N2(e.revision)),e.border&&this.push(new Be("w:bdr",e.border)),e.snapToGrid!==void 0&&this.push(new he("w:snapToGrid",e.snapToGrid)),e.vanish&&this.push(new he("w:vanish",e.vanish)),e.specVanish&&this.push(new he("w:specVanish",e.vanish)),e.scale!==void 0&&this.push(new dg("w:w",e.scale)),e.language&&this.push(k2(e.language)),e.math&&this.push(new he("w:oMath",e.math))}push(e){this.root.push(e)}}class N2 extends ue{constructor(e){super("w:rPrChange"),this.root.push(new m2({id:e.id,author:e.author,date:e.date})),this.addChildElement(new ns(e))}}class bp extends ue{constructor(e){var r;return super("w:t"),typeof e=="string"?(this.root.push(new la({space:oa.PRESERVE})),this.root.push(e),this):(this.root.push(new la({space:(r=e.space)!=null?r:oa.DEFAULT})),this.root.push(e.text),this)}}const tc={CURRENT:"CURRENT",TOTAL_PAGES:"TOTAL_PAGES",TOTAL_PAGES_IN_SECTION:"TOTAL_PAGES_IN_SECTION",CURRENT_SECTION:"SECTION"};class id extends ue{constructor(e){if(super("w:r"),ce(this,"properties"),this.properties=new ns(e),this.root.push(this.properties),e.break)for(let r=0;r<e.break;r++)this.root.push(new c2);if(e.children)for(const r of e.children){if(typeof r=="string"){switch(r){case tc.CURRENT:this.root.push(new Jl),this.root.push(new u2),this.root.push(new Zl),this.root.push(new ec);break;case tc.TOTAL_PAGES:this.root.push(new Jl),this.root.push(new d2),this.root.push(new Zl),this.root.push(new ec);break;case tc.TOTAL_PAGES_IN_SECTION:this.root.push(new Jl),this.root.push(new h2),this.root.push(new Zl),this.root.push(new ec);break;case tc.CURRENT_SECTION:this.root.push(new Jl),this.root.push(new f2),this.root.push(new Zl),this.root.push(new ec);break;default:this.root.push(new bp(r));break}continue}this.root.push(r)}else e.text&&this.root.push(new bp(e.text))}}class Ee extends id{constructor(e){if(typeof e=="string")return super({}),this.root.push(new bp(e)),this;super(e)}}let A2="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",j2=(t,e=21)=>(r=e)=>{let n="",i=r;for(;i--;)n+=t[Math.random()*t.length|0];return n},C2=(t=21)=>{let e="",r=t;for(;r--;)e+=A2[Math.random()*64|0];return e};const _r=t=>Math.floor(t*72*20),pg=(t=0)=>{let e=t;return()=>++e},P2=()=>pg(),O2=()=>pg(1),R2=()=>pg(),D2=()=>C2().toLowerCase(),$a=t=>j2("1234567890abcdef",t)(),I2=()=>`${$a(8)}-${$a(4)}-${$a(4)}-${$a(4)}-${$a(12)}`;class M2 extends _e{constructor(){super(...arguments),ce(this,"xmlKeys",{id:"w:id",initials:"w:initials",author:"w:author",date:"w:date"})}}class L2 extends _e{constructor(){super(...arguments),ce(this,"xmlKeys",{"xmlns:cx":"xmlns:cx","xmlns:cx1":"xmlns:cx1","xmlns:cx2":"xmlns:cx2","xmlns:cx3":"xmlns:cx3","xmlns:cx4":"xmlns:cx4","xmlns:cx5":"xmlns:cx5","xmlns:cx6":"xmlns:cx6","xmlns:cx7":"xmlns:cx7","xmlns:cx8":"xmlns:cx8","xmlns:mc":"xmlns:mc","xmlns:aink":"xmlns:aink","xmlns:am3d":"xmlns:am3d","xmlns:o":"xmlns:o","xmlns:r":"xmlns:r","xmlns:m":"xmlns:m","xmlns:v":"xmlns:v","xmlns:wp14":"xmlns:wp14","xmlns:wp":"xmlns:wp","xmlns:w10":"xmlns:w10","xmlns:w":"xmlns:w","xmlns:w14":"xmlns:w14","xmlns:w15":"xmlns:w15","xmlns:w16cex":"xmlns:w16cex","xmlns:w16cid":"xmlns:w16cid","xmlns:w16":"xmlns:w16","xmlns:w16sdtdh":"xmlns:w16sdtdh","xmlns:w16se":"xmlns:w16se","xmlns:wpg":"xmlns:wpg","xmlns:wpi":"xmlns:wpi","xmlns:wne":"xmlns:wne","xmlns:wps":"xmlns:wps"})}}class F2 extends ue{constructor({id:e,initials:r,author:n,date:i=new Date,children:s}){super("w:comment"),this.root.push(new M2({id:e,initials:r,author:n,date:i.toISOString()}));for(const a of s)this.root.push(a)}}class B2 extends ue{constructor({children:e}){super("w:comments"),this.root.push(new L2({"xmlns:cx":"http://schemas.microsoft.com/office/drawing/2014/chartex","xmlns:cx1":"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex","xmlns:cx2":"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex","xmlns:cx3":"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex","xmlns:cx4":"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex","xmlns:cx5":"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex","xmlns:cx6":"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex","xmlns:cx7":"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex","xmlns:cx8":"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","xmlns:aink":"http://schemas.microsoft.com/office/drawing/2016/ink","xmlns:am3d":"http://schemas.microsoft.com/office/drawing/2017/model3d","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:m":"http://schemas.openxmlformats.org/officeDocument/2006/math","xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:wp14":"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing","xmlns:wp":"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing","xmlns:w10":"urn:schemas-microsoft-com:office:word","xmlns:w":"http://schemas.openxmlformats.org/wordprocessingml/2006/main","xmlns:w14":"http://schemas.microsoft.com/office/word/2010/wordml","xmlns:w15":"http://schemas.microsoft.com/office/word/2012/wordml","xmlns:w16cex":"http://schemas.microsoft.com/office/word/2018/wordml/cex","xmlns:w16cid":"http://schemas.microsoft.com/office/word/2016/wordml/cid","xmlns:w16":"http://schemas.microsoft.com/office/word/2018/wordml","xmlns:w16sdtdh":"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash","xmlns:w16se":"http://schemas.microsoft.com/office/word/2015/wordml/symex","xmlns:wpg":"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup","xmlns:wpi":"http://schemas.microsoft.com/office/word/2010/wordprocessingInk","xmlns:wne":"http://schemas.microsoft.com/office/word/2006/wordml","xmlns:wps":"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}));for(const r of e)this.root.push(new F2(r))}}class z2 extends ue{constructor(){super("w:pageBreakBefore")}}const _p={AT_LEAST:"atLeast",EXACTLY:"exactly",EXACT:"exact",AUTO:"auto"};class U2 extends _e{constructor(){super(...arguments),ce(this,"xmlKeys",{after:"w:after",before:"w:before",line:"w:line",lineRule:"w:lineRule"})}}class $2 extends ue{constructor(e){super("w:spacing"),this.root.push(new U2(e))}}let rc=class extends ue{constructor(e){super("w:pStyle"),this.root.push(new st({val:e}))}};class W2 extends ue{constructor(e){super("w:tabs");for(const r of e)this.root.push(new V2(r))}}const kv={LEFT:"left",RIGHT:"right",CENTER:"center",BAR:"bar",CLEAR:"clear",DECIMAL:"decimal",END:"end",NUM:"num",START:"start"};class H2 extends _e{constructor(){super(...arguments),ce(this,"xmlKeys",{val:"w:val",pos:"w:pos",leader:"w:leader"})}}class V2 extends ue{constructor({type:e,position:r,leader:n}){super("w:tab"),this.root.push(new H2({val:e,pos:r,leader:n}))}}class Sv extends ue{constructor(e,r){super("w:numPr"),this.root.push(new K2(r)),this.root.push(new q2(e))}}class K2 extends ue{constructor(e){if(super("w:ilvl"),e>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new st({val:e}))}}class q2 extends ue{constructor(e){super("w:numId"),this.root.push(new st({val:typeof e=="string"?`{${e}}`:e}))}}class Rk extends ue{constructor(){super(...arguments),ce(this,"fileChild",Symbol())}}class G2 extends _e{constructor(){super(...arguments),ce(this,"xmlKeys",{id:"Id",type:"Type",target:"Target",targetMode:"TargetMode"})}}const Y2={EXTERNAL:"External"};class X2 extends ue{constructor(e,r,n,i){super("Relationship"),this.root.push(new G2({id:e,type:r,target:n,targetMode:i}))}}class Q2 extends _e{constructor(){super(...arguments),ce(this,"xmlKeys",{id:"r:id",history:"w:history",anchor:"w:anchor"})}}class J2 extends ue{constructor(e,r,n){super("w:hyperlink"),ce(this,"linkId"),this.linkId=r;const i={history:1,anchor:n||void 0,id:n?void 0:`rId${this.linkId}`},s=new Q2(i);this.root.push(s),e.forEach(a=>{this.root.push(a)})}}class Z2 extends ue{constructor(e){super("w:externalHyperlink"),this.options=e}}class eM extends _e{constructor(){super(...arguments),ce(this,"xmlKeys",{id:"w:id",name:"w:name"})}}class tM extends _e{constructor(){super(...arguments),ce(this,"xmlKeys",{id:"w:id"})}}class rM{constructor(e){ce(this,"bookmarkUniqueNumericId",R2()),ce(this,"start"),ce(this,"children"),ce(this,"end");const r=this.bookmarkUniqueNumericId();this.start=new nM(e.id,r),this.children=e.children,this.end=new iM(r)}}class nM extends ue{constructor(e,r){super("w:bookmarkStart");const n=new eM({name:e,id:r});this.root.push(n)}}class iM extends ue{constructor(e){super("w:bookmarkEnd");const r=new tM({id:e});this.root.push(r)}}class sM extends ue{constructor(e){super("w:outlineLvl"),this.level=e,this.root.push(new st({val:e}))}}class aM extends _e{constructor(){super(...arguments),ce(this,"xmlKeys",{verticalAlign:"w:val"})}}class Dk extends ue{constructor(e){super("w:vAlign"),this.root.push(new aM({verticalAlign:e}))}}const Hs={DEFAULT:"default",FIRST:"first",EVEN:"even"};class oM extends _e{constructor(){super(...arguments),ce(this,"xmlKeys",{type:"w:type",id:"r:id"})}}const Ev={HEADER:"w:headerReference",FOOTER:"w:footerReference"};class Gh extends ue{constructor(e,r){super(e),this.root.push(new oM({type:r.type||Hs.DEFAULT,id:`rId${r.id}`}))}}class lM extends ue{constructor({space:e,count:r,separate:n,equalWidth:i,children:s}){super("w:cols"),this.root.push(new di({space:{key:"w:space",value:e===void 0?void 0:kt(e)},count:{key:"w:num",value:r===void 0?void 0:Mt(r)},separate:{key:"w:sep",value:n},equalWidth:{key:"w:equalWidth",value:i}})),!i&&s&&s.forEach(a=>this.addChildElement(a))}}class cM extends _e{constructor(){super(...arguments),ce(this,"xmlKeys",{type:"w:type",linePitch:"w:linePitch",charSpace:"w:charSpace"})}}class uM extends ue{constructor(e,r,n){super("w:docGrid"),this.root.push(new cM({type:n,linePitch:Mt(e),charSpace:r?Mt(r):void 0}))}}const dM=({countBy:t,start:e,restart:r,distance:n})=>new ai({name:"w:lnNumType",attributes:{countBy:{key:"w:countBy",value:t===void 0?void 0:Mt(t)},start:{key:"w:start",value:e===void 0?void 0:Mt(e)},restart:{key:"w:restart",value:r},distance:{key:"w:distance",value:n===void 0?void 0:kt(n)}}});class Tv extends _e{constructor(){super(...arguments),ce(this,"xmlKeys",{display:"w:display",offsetFrom:"w:offsetFrom",zOrder:"w:zOrder"})}}class hM extends _n{constructor(e){if(super("w:pgBorders"),!e)return this;e.pageBorders?this.root.push(new Tv({display:e.pageBorders.display,offsetFrom:e.pageBorders.offsetFrom,zOrder:e.pageBorders.zOrder})):this.root.push(new Tv({})),e.pageBorderTop&&this.root.push(new Be("w:top",e.pageBorderTop)),e.pageBorderLeft&&this.root.push(new Be("w:left",e.pageBorderLeft)),e.pageBorderBottom&&this.root.push(new Be("w:bottom",e.pageBorderBottom)),e.pageBorderRight&&this.root.push(new Be("w:right",e.pageBorderRight))}}class fM extends ue{constructor(e,r,n,i,s,a,o){super("w:pgMar"),this.root.push(new di({top:{key:"w:top",value:hn(e)},right:{key:"w:right",value:kt(r)},bottom:{key:"w:bottom",value:hn(n)},left:{key:"w:left",value:kt(i)},header:{key:"w:header",value:kt(s)},footer:{key:"w:footer",value:kt(a)},gutter:{key:"w:gutter",value:kt(o)}}))}}class pM extends _e{constructor(){super(...arguments),ce(this,"xmlKeys",{start:"w:start",formatType:"w:fmt",separator:"w:chapSep"})}}class mM extends ue{constructor({start:e,formatType:r,separator:n}){super("w:pgNumType"),this.root.push(new pM({start:e===void 0?void 0:Mt(e),formatType:r,separator:n}))}}const Ik={PORTRAIT:"portrait",LANDSCAPE:"landscape"};class gM extends ue{constructor(e,r,n){super("w:pgSz");const i=n===Ik.LANDSCAPE,s=kt(e),a=kt(r);this.root.push(new di({width:{key:"w:w",value:i?a:s},height:{key:"w:h",value:i?s:a},orientation:{key:"w:orient",value:n}}))}}class yM extends _e{constructor(){super(...arguments),ce(this,"xmlKeys",{val:"w:val"})}}class wM extends ue{constructor(e){super("w:textDirection"),this.root.push(new yM({val:e}))}}class vM extends _e{constructor(){super(...arguments),ce(this,"xmlKeys",{val:"w:val"})}}class xM extends ue{constructor(e){super("w:type"),this.root.push(new vM({val:e}))}}const wi={TOP:1440,RIGHT:1440,BOTTOM:1440,LEFT:1440,HEADER:708,FOOTER:708,GUTTER:0},Yh={WIDTH:11906,HEIGHT:16838,ORIENTATION:Ik.PORTRAIT};class bM extends ue{constructor({page:{size:{width:e=Yh.WIDTH,height:r=Yh.HEIGHT,orientation:n=Yh.ORIENTATION}={},margin:{top:i=wi.TOP,right:s=wi.RIGHT,bottom:a=wi.BOTTOM,left:o=wi.LEFT,header:l=wi.HEADER,footer:c=wi.FOOTER,gutter:u=wi.GUTTER}={},pageNumbers:h={},borders:f,textDirection:p}={},grid:{linePitch:w=360,charSpace:g,type:b}={},headerWrapperGroup:m={},footerWrapperGroup:y={},lineNumbers:_,titlePage:k,verticalAlign:T,column:I,type:O}={}){super("w:sectPr"),this.addHeaderFooterGroup(Ev.HEADER,m),this.addHeaderFooterGroup(Ev.FOOTER,y),O&&this.root.push(new xM(O)),this.root.push(new gM(e,r,n)),this.root.push(new fM(i,s,a,o,l,c,u)),f&&this.root.push(new hM(f)),_&&this.root.push(dM(_)),this.root.push(new mM(h)),I&&this.root.push(new lM(I)),T&&this.root.push(new Dk(T)),k!==void 0&&this.root.push(new he("w:titlePg",k)),p&&this.root.push(new wM(p)),this.root.push(new uM(w,g,b))}addHeaderFooterGroup(e,r){r.default&&this.root.push(new Gh(e,{type:Hs.DEFAULT,id:r.default.View.ReferenceId})),r.first&&this.root.push(new Gh(e,{type:Hs.FIRST,id:r.first.View.ReferenceId})),r.even&&this.root.push(new Gh(e,{type:Hs.EVEN,id:r.even.View.ReferenceId}))}}class _M extends ue{constructor(){super("w:body"),ce(this,"sections",[])}addSection(e){const r=this.sections.pop();this.root.push(this.createSectionParagraph(r)),this.sections.push(new bM(e))}prepForXml(e){return this.sections.length===1&&(this.root.splice(0,1),this.root.push(this.sections.pop())),super.prepForXml(e)}push(e){this.root.push(e)}createSectionParagraph(e){const r=new Te({}),n=new ca({});return n.push(e),r.addChildElement(n),r}}class sl extends _e{constructor(){super(...arguments),ce(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type",cx:"xmlns:cx",cx1:"xmlns:cx1",cx2:"xmlns:cx2",cx3:"xmlns:cx3",cx4:"xmlns:cx4",cx5:"xmlns:cx5",cx6:"xmlns:cx6",cx7:"xmlns:cx7",cx8:"xmlns:cx8",aink:"xmlns:aink",am3d:"xmlns:am3d",w16cex:"xmlns:w16cex",w16cid:"xmlns:w16cid",w16:"xmlns:w16",w16sdtdh:"xmlns:w16sdtdh",w16se:"xmlns:w16se"})}}class kM extends _e{constructor(){super(...arguments),ce(this,"xmlKeys",{color:"w:color",themeColor:"w:themeColor",themeShade:"w:themeShade",themeTint:"w:themeTint"})}}class SM extends ue{constructor(e){super("w:background"),this.root.push(new kM({color:e.color===void 0?void 0:aa(e.color),themeColor:e.themeColor,themeShade:e.themeShade===void 0?void 0:bv(e.themeShade),themeTint:e.themeTint===void 0?void 0:bv(e.themeTint)}))}}class EM extends ue{constructor(e){super("w:document"),ce(this,"body"),this.root.push(new sl({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",aink:"http://schemas.microsoft.com/office/drawing/2016/ink",am3d:"http://schemas.microsoft.com/office/drawing/2017/model3d",w16cex:"http://schemas.microsoft.com/office/word/2018/wordml/cex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16:"http://schemas.microsoft.com/office/word/2018/wordml",w16sdtdh:"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex",Ignorable:"w14 w15 wp14"})),this.body=new _M,e.background&&this.root.push(new SM(e.background)),this.root.push(this.body)}add(e){return this.body.push(e),this}get Body(){return this.body}}class TM extends _e{constructor(){super(...arguments),ce(this,"xmlKeys",{xmlns:"xmlns"})}}class ba extends ue{constructor(){super("Relationships"),this.root.push(new TM({xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"}))}createRelationship(e,r,n,i){const s=new X2(`rId${e}`,r,n,i);return this.root.push(s),s}get RelationshipCount(){return this.root.length-1}}class Mk{constructor(e){ce(this,"document"),ce(this,"relationships"),this.document=new EM(e),this.relationships=new ba}get View(){return this.document}get Relationships(){return this.relationships}}class NM extends _e{constructor(){super(...arguments),ce(this,"xmlKeys",{val:"w:val"})}}class AM extends ue{constructor(){super("w:wordWrap"),this.root.push(new NM({val:0}))}}const jM=t=>{var e,r;return new ai({name:"w:framePr",attributes:{anchorLock:{key:"w:anchorLock",value:t.anchorLock},dropCap:{key:"w:dropCap",value:t.dropCap},width:{key:"w:w",value:t.width},height:{key:"w:h",value:t.height},x:{key:"w:x",value:t.position?t.position.x:void 0},y:{key:"w:y",value:t.position?t.position.y:void 0},anchorHorizontal:{key:"w:hAnchor",value:t.anchor.horizontal},anchorVertical:{key:"w:vAnchor",value:t.anchor.vertical},spaceHorizontal:{key:"w:hSpace",value:(e=t.space)==null?void 0:e.horizontal},spaceVertical:{key:"w:vSpace",value:(r=t.space)==null?void 0:r.vertical},rule:{key:"w:hRule",value:t.rule},alignmentX:{key:"w:xAlign",value:t.alignment?t.alignment.x:void 0},alignmentY:{key:"w:yAlign",value:t.alignment?t.alignment.y:void 0},lines:{key:"w:lines",value:t.lines},wrap:{key:"w:wrap",value:t.wrap}}})};class ca extends _n{constructor(e){var r,n;if(super("w:pPr"),ce(this,"numberingReferences",[]),!e)return this;e.heading&&this.push(new rc(e.heading)),e.bullet&&this.push(new rc("ListParagraph")),e.numbering&&!e.style&&!e.heading&&(e.numbering.custom||this.push(new rc("ListParagraph"))),e.style&&this.push(new rc(e.style)),e.keepNext!==void 0&&this.push(new he("w:keepNext",e.keepNext)),e.keepLines!==void 0&&this.push(new he("w:keepLines",e.keepLines)),e.pageBreakBefore&&this.push(new z2),e.frame&&this.push(jM(e.frame)),e.widowControl!==void 0&&this.push(new he("w:widowControl",e.widowControl)),e.bullet&&this.push(new Sv(1,e.bullet.level)),e.numbering&&(this.numberingReferences.push({reference:e.numbering.reference,instance:(r=e.numbering.instance)!=null?r:0}),this.push(new Sv(`${e.numbering.reference}-${(n=e.numbering.instance)!=null?n:0}`,e.numbering.level))),e.border&&this.push(new a2(e.border)),e.thematicBreak&&this.push(new o2),e.shading&&this.push(new nd(e.shading)),e.wordWrap&&this.push(new AM),e.overflowPunctuation&&this.push(new he("w:overflowPunct",e.overflowPunctuation));const i=[...e.rightTabStop!==void 0?[{type:kv.RIGHT,position:e.rightTabStop}]:[],...e.tabStops?e.tabStops:[],...e.leftTabStop!==void 0?[{type:kv.LEFT,position:e.leftTabStop}]:[]];i.length>0&&this.push(new W2(i)),e.bidirectional!==void 0&&this.push(new he("w:bidi",e.bidirectional)),e.spacing&&this.push(new $2(e.spacing)),e.indent&&this.push(new l2(e.indent)),e.contextualSpacing!==void 0&&this.push(new he("w:contextualSpacing",e.contextualSpacing)),e.alignment&&this.push(new Ck(e.alignment)),e.outlineLevel!==void 0&&this.push(new sM(e.outlineLevel)),e.suppressLineNumbers!==void 0&&this.push(new he("w:suppressLineNumbers",e.suppressLineNumbers)),e.autoSpaceEastAsianText!==void 0&&this.push(new he("w:autoSpaceDN",e.autoSpaceEastAsianText)),e.run&&this.push(new ns(e.run))}push(e){this.root.push(e)}prepForXml(e){if(e.viewWrapper instanceof Mk)for(const r of this.numberingReferences)e.file.Numbering.createConcreteNumberingInstance(r.reference,r.instance);return super.prepForXml(e)}}class Te extends Rk{constructor(e){if(super("w:p"),ce(this,"properties"),typeof e=="string")return this.properties=new ca({}),this.root.push(this.properties),this.root.push(new Ee(e)),this;if(this.properties=new ca(e),this.root.push(this.properties),e.text&&this.root.push(new Ee(e.text)),e.children)for(const r of e.children){if(r instanceof rM){this.root.push(r.start);for(const n of r.children)this.root.push(n);this.root.push(r.end);continue}this.root.push(r)}}prepForXml(e){for(const r of this.root)if(r instanceof Z2){const n=this.root.indexOf(r),i=new J2(r.options.children,D2());e.viewWrapper.Relationships.createRelationship(i.linkId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",r.options.link,Y2.EXTERNAL),this.root[n]=i}return super.prepForXml(e)}addRunToFront(e){return this.root.splice(1,0,e),this}}class CM extends ue{constructor(e){super("w:tblGrid");for(const r of e)this.root.push(new PM(r))}}class PM extends ue{constructor(e){super("w:gridCol"),e!==void 0&&this.root.push(new di({width:{key:"w:w",value:kt(e)}}))}}const Lk={TABLE:"w:tblCellMar",TABLE_CELL:"w:tcMar"};class Fk extends _n{constructor(e,{marginUnitType:r=kp.DXA,top:n,left:i,bottom:s,right:a}){super(e),n!==void 0&&this.root.push(new Oi("w:top",{type:r,size:n})),i!==void 0&&this.root.push(new Oi("w:left",{type:r,size:i})),s!==void 0&&this.root.push(new Oi("w:bottom",{type:r,size:s})),a!==void 0&&this.root.push(new Oi("w:right",{type:r,size:a}))}}const kp={AUTO:"auto",DXA:"dxa",NIL:"nil",PERCENTAGE:"pct"};class Oi extends ue{constructor(e,{type:r=kp.AUTO,size:n}){super(e);let i=n;r===kp.PERCENTAGE&&typeof n=="number"&&(i=`${n}%`),this.root.push(new di({type:{key:"w:type",value:r},size:{key:"w:w",value:Z6(i)}}))}}class OM extends _n{constructor(e){super("w:tcBorders"),e.top&&this.root.push(new Be("w:top",e.top)),e.start&&this.root.push(new Be("w:start",e.start)),e.left&&this.root.push(new Be("w:left",e.left)),e.bottom&&this.root.push(new Be("w:bottom",e.bottom)),e.end&&this.root.push(new Be("w:end",e.end)),e.right&&this.root.push(new Be("w:right",e.right))}}class RM extends _e{constructor(){super(...arguments),ce(this,"xmlKeys",{val:"w:val"})}}class DM extends ue{constructor(e){super("w:gridSpan"),this.root.push(new RM({val:Mt(e)}))}}const Bk={CONTINUE:"continue",RESTART:"restart"};class IM extends _e{constructor(){super(...arguments),ce(this,"xmlKeys",{val:"w:val"})}}class Nv extends ue{constructor(e){super("w:vMerge"),this.root.push(new IM({val:e}))}}class MM extends _e{constructor(){super(...arguments),ce(this,"xmlKeys",{val:"w:val"})}}class LM extends ue{constructor(e){super("w:textDirection"),this.root.push(new MM({val:e}))}}class FM extends _n{constructor(e){super("w:tcPr"),e.width&&this.root.push(new Oi("w:tcW",e.width)),e.columnSpan&&this.root.push(new DM(e.columnSpan)),e.verticalMerge?this.root.push(new Nv(e.verticalMerge)):e.rowSpan&&e.rowSpan>1&&this.root.push(new Nv(Bk.RESTART)),e.borders&&this.root.push(new OM(e.borders)),e.shading&&this.root.push(new nd(e.shading)),e.margins&&this.root.push(new Fk(Lk.TABLE_CELL,e.margins)),e.textDirection&&this.root.push(new LM(e.textDirection)),e.verticalAlign&&this.root.push(new Dk(e.verticalAlign))}}class Ye extends ue{constructor(e){super("w:tc"),this.options=e,this.root.push(new FM(e));for(const r of e.children)this.root.push(r)}prepForXml(e){return this.root[this.root.length-1]instanceof Te||this.root.push(new Te({})),super.prepForXml(e)}}const fs={style:zt.NONE,size:0,color:"auto"},ps={style:zt.SINGLE,size:4,color:"auto"};class zk extends ue{constructor(e){super("w:tblBorders"),e.top?this.root.push(new Be("w:top",e.top)):this.root.push(new Be("w:top",ps)),e.left?this.root.push(new Be("w:left",e.left)):this.root.push(new Be("w:left",ps)),e.bottom?this.root.push(new Be("w:bottom",e.bottom)):this.root.push(new Be("w:bottom",ps)),e.right?this.root.push(new Be("w:right",e.right)):this.root.push(new Be("w:right",ps)),e.insideHorizontal?this.root.push(new Be("w:insideH",e.insideHorizontal)):this.root.push(new Be("w:insideH",ps)),e.insideVertical?this.root.push(new Be("w:insideV",e.insideVertical)):this.root.push(new Be("w:insideV",ps))}}ce(zk,"NONE",{top:fs,bottom:fs,left:fs,right:fs,insideHorizontal:fs,insideVertical:fs});class BM extends ue{constructor({horizontalAnchor:e,verticalAnchor:r,absoluteHorizontalPosition:n,relativeHorizontalPosition:i,absoluteVerticalPosition:s,relativeVerticalPosition:a,bottomFromText:o,topFromText:l,leftFromText:c,rightFromText:u,overlap:h}){super("w:tblpPr"),this.root.push(new di({leftFromText:{key:"w:leftFromText",value:c===void 0?void 0:kt(c)},rightFromText:{key:"w:rightFromText",value:u===void 0?void 0:kt(u)},topFromText:{key:"w:topFromText",value:l===void 0?void 0:kt(l)},bottomFromText:{key:"w:bottomFromText",value:o===void 0?void 0:kt(o)},absoluteHorizontalPosition:{key:"w:tblpX",value:n===void 0?void 0:hn(n)},absoluteVerticalPosition:{key:"w:tblpY",value:s===void 0?void 0:hn(s)},horizontalAnchor:{key:"w:horzAnchor",value:e===void 0?void 0:e},relativeHorizontalPosition:{key:"w:tblpXSpec",value:i},relativeVerticalPosition:{key:"w:tblpYSpec",value:a},verticalAnchor:{key:"w:vertAnchor",value:r}})),h&&this.root.push(new n2("w:tblOverlap",h))}}class zM extends _e{constructor(){super(...arguments),ce(this,"xmlKeys",{type:"w:type"})}}class UM extends ue{constructor(e){super("w:tblLayout"),this.root.push(new zM({type:e}))}}class $M extends _n{constructor(e){super("w:tblPr"),e.style&&this.root.push(new Li("w:tblStyle",e.style)),e.float&&this.root.push(new BM(e.float)),e.visuallyRightToLeft!==void 0&&this.root.push(new he("w:bidiVisual",e.visuallyRightToLeft)),e.width&&this.root.push(new Oi("w:tblW",e.width)),e.alignment&&this.root.push(new Ck(e.alignment)),e.indent&&this.root.push(new Oi("w:tblInd",e.indent)),e.borders&&this.root.push(new zk(e.borders)),e.shading&&this.root.push(new nd(e.shading)),e.layout&&this.root.push(new UM(e.layout)),e.cellMargin&&this.root.push(new Fk(Lk.TABLE,e.cellMargin))}}class yo extends Rk{constructor({rows:e,width:r,columnWidths:n=Array(Math.max(...e.map(f=>f.CellCount))).fill(100),margins:i,indent:s,float:a,layout:o,style:l,borders:c,alignment:u,visuallyRightToLeft:h}){super("w:tbl"),this.root.push(new $M({borders:c??{},width:r??{size:100},indent:s,float:a,layout:o,style:l,alignment:u,cellMargin:i,visuallyRightToLeft:h})),this.root.push(new CM(n));for(const f of e)this.root.push(f);e.forEach((f,p)=>{if(p===e.length-1)return;let w=0;f.cells.forEach(g=>{if(g.options.rowSpan&&g.options.rowSpan>1){const b=new Ye({rowSpan:g.options.rowSpan-1,columnSpan:g.options.columnSpan,borders:g.options.borders,children:[],verticalMerge:Bk.CONTINUE});e[p+1].addCellToColumnIndex(b,w)}w+=g.options.columnSpan||1})})}}class WM extends _e{constructor(){super(...arguments),ce(this,"xmlKeys",{value:"w:val",rule:"w:hRule"})}}class HM extends ue{constructor(e,r){super("w:trHeight"),this.root.push(new WM({value:kt(e),rule:r}))}}class VM extends _n{constructor(e){super("w:trPr"),e.cantSplit!==void 0&&this.root.push(new he("w:cantSplit",e.cantSplit)),e.tableHeader!==void 0&&this.root.push(new he("w:tblHeader",e.tableHeader)),e.height&&this.root.push(new HM(e.height.value,e.height.rule))}}class ur extends ue{constructor(e){super("w:tr"),this.options=e,this.root.push(new VM(e));for(const r of e.children)this.root.push(r)}get CellCount(){return this.options.children.length}get cells(){return this.root.filter(e=>e instanceof Ye)}addCellToIndex(e,r){this.root.splice(r+1,0,e)}addCellToColumnIndex(e,r){const n=this.columnIndexToRootIndex(r,!0);this.addCellToIndex(e,n-1)}rootIndexToColumnIndex(e){if(e<1||e>=this.root.length)throw new Error(`cell 'rootIndex' should between 1 to ${this.root.length-1}`);let r=0;for(let n=1;n<e;n++){const i=this.root[n];r+=i.options.columnSpan||1}return r}columnIndexToRootIndex(e,r=!1){if(e<0)throw new Error("cell 'columnIndex' should not less than zero");let n=0,i=1;for(;n<=e;){if(i>=this.root.length){if(r)return this.root.length;throw new Error(`cell 'columnIndex' should not great than ${n-1}`)}const s=this.root[i];i+=1,n+=s&&s.options.columnSpan||1}return i-1}}class KM extends _e{constructor(){super(...arguments),ce(this,"xmlKeys",{xmlns:"xmlns",vt:"xmlns:vt"})}}class qM extends ue{constructor(){super("Properties"),this.root.push(new KM({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"}))}}class GM extends _e{constructor(){super(...arguments),ce(this,"xmlKeys",{xmlns:"xmlns"})}}class YM extends _e{constructor(){super(...arguments),ce(this,"xmlKeys",{contentType:"ContentType",extension:"Extension"})}}class An extends ue{constructor(e,r){super("Default"),this.root.push(new YM({contentType:e,extension:r}))}}class XM extends _e{constructor(){super(...arguments),ce(this,"xmlKeys",{contentType:"ContentType",partName:"PartName"})}}class cr extends ue{constructor(e,r){super("Override"),this.root.push(new XM({contentType:e,partName:r}))}}class QM extends ue{constructor(){super("Types"),this.root.push(new GM({xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"})),this.root.push(new An("image/png","png")),this.root.push(new An("image/jpeg","jpeg")),this.root.push(new An("image/jpeg","jpg")),this.root.push(new An("image/bmp","bmp")),this.root.push(new An("image/gif","gif")),this.root.push(new An("application/vnd.openxmlformats-package.relationships+xml","rels")),this.root.push(new An("application/xml","xml")),this.root.push(new An("application/vnd.openxmlformats-officedocument.obfuscatedFont","odttf")),this.root.push(new cr("application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml","/word/document.xml")),this.root.push(new cr("application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml","/word/styles.xml")),this.root.push(new cr("application/vnd.openxmlformats-package.core-properties+xml","/docProps/core.xml")),this.root.push(new cr("application/vnd.openxmlformats-officedocument.custom-properties+xml","/docProps/custom.xml")),this.root.push(new cr("application/vnd.openxmlformats-officedocument.extended-properties+xml","/docProps/app.xml")),this.root.push(new cr("application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml","/word/numbering.xml")),this.root.push(new cr("application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml","/word/footnotes.xml")),this.root.push(new cr("application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml","/word/settings.xml")),this.root.push(new cr("application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml","/word/comments.xml")),this.root.push(new cr("application/vnd.openxmlformats-officedocument.wordprocessingml.fontTable+xml","/word/fontTable.xml"))}addFooter(e){this.root.push(new cr("application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml",`/word/footer${e}.xml`))}addHeader(e){this.root.push(new cr("application/vnd.openxmlformats-officedocument.wordprocessingml.header+xml",`/word/header${e}.xml`))}}class JM extends ue{constructor(e){super("cp:coreProperties"),this.root.push(new sl({cp:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",xsi:"http://www.w3.org/2001/XMLSchema-instance"})),e.title&&this.root.push(new yi("dc:title",e.title)),e.subject&&this.root.push(new yi("dc:subject",e.subject)),e.creator&&this.root.push(new yi("dc:creator",e.creator)),e.keywords&&this.root.push(new yi("cp:keywords",e.keywords)),e.description&&this.root.push(new yi("dc:description",e.description)),e.lastModifiedBy&&this.root.push(new yi("cp:lastModifiedBy",e.lastModifiedBy)),e.revision&&this.root.push(new yi("cp:revision",String(e.revision))),this.root.push(new Av("dcterms:created")),this.root.push(new Av("dcterms:modified"))}}class Av extends ue{constructor(e){super(e),this.root.push(new sl({type:"dcterms:W3CDTF"})),this.root.push(r2(new Date))}}class ZM extends _e{constructor(){super(...arguments),ce(this,"xmlKeys",{xmlns:"xmlns",vt:"xmlns:vt"})}}class eL extends _e{constructor(){super(...arguments),ce(this,"xmlKeys",{fmtid:"fmtid",pid:"pid",name:"name"})}}class tL extends ue{constructor(e,r){super("property"),this.root.push(new eL({fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:e.toString(),name:r.name})),this.root.push(new rL(r.value))}}class rL extends ue{constructor(e){super("vt:lpwstr"),this.root.push(e)}}class nL extends ue{constructor(e){super("Properties"),ce(this,"nextId"),ce(this,"properties",[]),this.root.push(new ZM({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"})),this.nextId=2;for(const r of e)this.addCustomProperty(r)}prepForXml(e){return this.properties.forEach(r=>this.root.push(r)),super.prepForXml(e)}addCustomProperty(e){this.properties.push(new tL(this.nextId++,e))}}class iL extends _e{constructor(){super(...arguments),ce(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type"})}}let sL=class extends Nk{constructor(e,r){super("w:ftr",r),ce(this,"refId"),this.refId=e,r||this.root.push(new iL({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}))}get ReferenceId(){return this.refId}add(e){this.root.push(e)}};class aL{constructor(e,r,n){ce(this,"footer"),ce(this,"relationships"),this.media=e,this.footer=new sL(r,n),this.relationships=new ba}add(e){this.footer.add(e)}addChildElement(e){this.footer.addChildElement(e)}get View(){return this.footer}get Relationships(){return this.relationships}get Media(){return this.media}}class oL extends _e{constructor(){super(...arguments),ce(this,"xmlKeys",{type:"w:type",id:"w:id"})}}class lL extends ue{constructor(){super("w:footnoteRef")}}class cL extends id{constructor(){super({style:"FootnoteReference"}),this.root.push(new lL)}}const jv={SEPERATOR:"separator",CONTINUATION_SEPERATOR:"continuationSeparator"};class Xh extends ue{constructor(e){super("w:footnote"),this.root.push(new oL({type:e.type,id:e.id}));for(let r=0;r<e.children.length;r++){const n=e.children[r];r===0&&n.addRunToFront(new cL),this.root.push(n)}}}class uL extends ue{constructor(){super("w:continuationSeparator")}}class dL extends id{constructor(){super({}),this.root.push(new uL)}}class hL extends ue{constructor(){super("w:separator")}}class fL extends id{constructor(){super({}),this.root.push(new hL)}}class pL extends _e{constructor(){super(...arguments),ce(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"})}}class mL extends ue{constructor(){super("w:footnotes"),this.root.push(new pL({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"}));const e=new Xh({id:-1,type:jv.SEPERATOR,children:[new Te({spacing:{after:0,line:240,lineRule:_p.AUTO},children:[new fL]})]});this.root.push(e);const r=new Xh({id:0,type:jv.CONTINUATION_SEPERATOR,children:[new Te({spacing:{after:0,line:240,lineRule:_p.AUTO},children:[new dL]})]});this.root.push(r)}createFootNote(e,r){const n=new Xh({id:e,children:r});this.root.push(n)}}class gL{constructor(){ce(this,"footnotess"),ce(this,"relationships"),this.footnotess=new mL,this.relationships=new ba}get View(){return this.footnotess}get Relationships(){return this.relationships}}class yL extends _e{constructor(){super(...arguments),ce(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type",cx:"xmlns:cx",cx1:"xmlns:cx1",cx2:"xmlns:cx2",cx3:"xmlns:cx3",cx4:"xmlns:cx4",cx5:"xmlns:cx5",cx6:"xmlns:cx6",cx7:"xmlns:cx7",cx8:"xmlns:cx8",w16cid:"xmlns:w16cid",w16se:"xmlns:w16se"})}}let wL=class extends Nk{constructor(e,r){super("w:hdr",r),ce(this,"refId"),this.refId=e,r||this.root.push(new yL({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex"}))}get ReferenceId(){return this.refId}add(e){this.root.push(e)}};class vL{constructor(e,r,n){ce(this,"header"),ce(this,"relationships"),this.media=e,this.header=new wL(r,n),this.relationships=new ba}add(e){return this.header.add(e),this}addChildElement(e){this.header.addChildElement(e)}get View(){return this.header}get Relationships(){return this.relationships}get Media(){return this.media}}class xL{constructor(){ce(this,"map"),this.map=new Map}addImage(e,r){this.map.set(e,r)}get Array(){return Array.from(this.map.values())}}const Zr={DECIMAL:"decimal",UPPER_ROMAN:"upperRoman",LOWER_ROMAN:"lowerRoman",UPPER_LETTER:"upperLetter",LOWER_LETTER:"lowerLetter",ORDINAL:"ordinal",CARDINAL_TEXT:"cardinalText",ORDINAL_TEXT:"ordinalText",HEX:"hex",CHICAGO:"chicago",IDEOGRAPH__DIGITAL:"ideographDigital",JAPANESE_COUNTING:"japaneseCounting",AIUEO:"aiueo",IROHA:"iroha",DECIMAL_FULL_WIDTH:"decimalFullWidth",DECIMAL_HALF_WIDTH:"decimalHalfWidth",JAPANESE_LEGAL:"japaneseLegal",JAPANESE_DIGITAL_TEN_THOUSAND:"japaneseDigitalTenThousand",DECIMAL_ENCLOSED_CIRCLE:"decimalEnclosedCircle",DECIMAL_FULL_WIDTH2:"decimalFullWidth2",AIUEO_FULL_WIDTH:"aiueoFullWidth",IROHA_FULL_WIDTH:"irohaFullWidth",DECIMAL_ZERO:"decimalZero",BULLET:"bullet",GANADA:"ganada",CHOSUNG:"chosung",DECIMAL_ENCLOSED_FULLSTOP:"decimalEnclosedFullstop",DECIMAL_ENCLOSED_PARENTHESES:"decimalEnclosedParen",DECIMAL_ENCLOSED_CIRCLE_CHINESE:"decimalEnclosedCircleChinese",IDEOGRAPH_ENCLOSED_CIRCLE:"ideographEnclosedCircle",IDEOGRAPH_TRADITIONAL:"ideographTraditional",IDEOGRAPH_ZODIAC:"ideographZodiac",IDEOGRAPH_ZODIAC_TRADITIONAL:"ideographZodiacTraditional",TAIWANESE_COUNTING:"taiwaneseCounting",IDEOGRAPH_LEGAL_TRADITIONAL:"ideographLegalTraditional",TAIWANESE_COUNTING_THOUSAND:"taiwaneseCountingThousand",TAIWANESE_DIGITAL:"taiwaneseDigital",CHINESE_COUNTING:"chineseCounting",CHINESE_LEGAL_SIMPLIFIED:"chineseLegalSimplified",CHINESE_COUNTING_THOUSAND:"chineseCountingThousand",KOREAN_DIGITAL:"koreanDigital",KOREAN_COUNTING:"koreanCounting",KOREAN_LEGAL:"koreanLegal",KOREAN_DIGITAL2:"koreanDigital2",VIETNAMESE_COUNTING:"vietnameseCounting",RUSSIAN_LOWER:"russianLower",RUSSIAN_UPPER:"russianUpper",NONE:"none",NUMBER_IN_DASH:"numberInDash",HEBREW1:"hebrew1",HEBREW2:"hebrew2",ARABIC_ALPHA:"arabicAlpha",ARABIC_ABJAD:"arabicAbjad",HINDI_VOWELS:"hindiVowels",HINDI_CONSONANTS:"hindiConsonants",HINDI_NUMBERS:"hindiNumbers",HINDI_COUNTING:"hindiCounting",THAI_LETTERS:"thaiLetters",THAI_NUMBERS:"thaiNumbers",THAI_COUNTING:"thaiCounting",BAHT_TEXT:"bahtText",DOLLAR_TEXT:"dollarText",CUSTOM:"custom"};class bL extends _e{constructor(){super(...arguments),ce(this,"xmlKeys",{ilvl:"w:ilvl",tentative:"w15:tentative"})}}class _L extends ue{constructor(e){super("w:numFmt"),this.root.push(new st({val:e}))}}class kL extends ue{constructor(e){super("w:lvlText"),this.root.push(new st({val:e}))}}class SL extends ue{constructor(e){super("w:lvlJc"),this.root.push(new st({val:e}))}}class EL extends ue{constructor(e){super("w:suff"),this.root.push(new st({val:e}))}}class TL extends ue{constructor(){super("w:isLgl")}}class NL extends ue{constructor({level:e,format:r,text:n,alignment:i=ze.START,start:s=1,style:a,suffix:o,isLegalNumberingStyle:l}){if(super("w:lvl"),ce(this,"paragraphProperties"),ce(this,"runProperties"),this.root.push(new dg("w:start",Mt(s))),r&&this.root.push(new _L(r)),o&&this.root.push(new EL(o)),l&&this.root.push(new TL),n&&this.root.push(new kL(n)),this.root.push(new SL(i)),this.paragraphProperties=new ca(a&&a.paragraph),this.runProperties=new ns(a&&a.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties),e>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new bL({ilvl:Mt(e),tentative:1}))}}class AL extends NL{}class jL extends ue{constructor(e){super("w:multiLevelType"),this.root.push(new st({val:e}))}}class CL extends _e{constructor(){super(...arguments),ce(this,"xmlKeys",{abstractNumId:"w:abstractNumId",restartNumberingAfterBreak:"w15:restartNumberingAfterBreak"})}}class Cv extends ue{constructor(e,r){super("w:abstractNum"),ce(this,"id"),this.root.push(new CL({abstractNumId:Mt(e),restartNumberingAfterBreak:0})),this.root.push(new jL("hybridMultilevel")),this.id=e;for(const n of r)this.root.push(new AL(n))}}class PL extends ue{constructor(e){super("w:abstractNumId"),this.root.push(new st({val:e}))}}class OL extends _e{constructor(){super(...arguments),ce(this,"xmlKeys",{numId:"w:numId"})}}class Pv extends ue{constructor(e){if(super("w:num"),ce(this,"numId"),ce(this,"reference"),ce(this,"instance"),this.numId=e.numId,this.reference=e.reference,this.instance=e.instance,this.root.push(new OL({numId:Mt(e.numId)})),this.root.push(new PL(Mt(e.abstractNumId))),e.overrideLevels&&e.overrideLevels.length)for(const r of e.overrideLevels)this.root.push(new DL(r.num,r.start))}}class RL extends _e{constructor(){super(...arguments),ce(this,"xmlKeys",{ilvl:"w:ilvl"})}}class DL extends ue{constructor(e,r){super("w:lvlOverride"),this.root.push(new RL({ilvl:e})),r!==void 0&&this.root.push(new ML(r))}}class IL extends _e{constructor(){super(...arguments),ce(this,"xmlKeys",{val:"w:val"})}}class ML extends ue{constructor(e){super("w:startOverride"),this.root.push(new IL({val:e}))}}class LL extends ue{constructor(e){super("w:numbering"),ce(this,"abstractNumberingMap",new Map),ce(this,"concreteNumberingMap",new Map),ce(this,"referenceConfigMap",new Map),ce(this,"abstractNumUniqueNumericId",P2()),ce(this,"concreteNumUniqueNumericId",O2()),this.root.push(new sl({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"}));const r=new Cv(this.abstractNumUniqueNumericId(),[{level:0,format:Zr.BULLET,text:"●",alignment:ze.LEFT,style:{paragraph:{indent:{left:_r(.5),hanging:_r(.25)}}}},{level:1,format:Zr.BULLET,text:"○",alignment:ze.LEFT,style:{paragraph:{indent:{left:_r(1),hanging:_r(.25)}}}},{level:2,format:Zr.BULLET,text:"■",alignment:ze.LEFT,style:{paragraph:{indent:{left:2160,hanging:_r(.25)}}}},{level:3,format:Zr.BULLET,text:"●",alignment:ze.LEFT,style:{paragraph:{indent:{left:2880,hanging:_r(.25)}}}},{level:4,format:Zr.BULLET,text:"○",alignment:ze.LEFT,style:{paragraph:{indent:{left:3600,hanging:_r(.25)}}}},{level:5,format:Zr.BULLET,text:"■",alignment:ze.LEFT,style:{paragraph:{indent:{left:4320,hanging:_r(.25)}}}},{level:6,format:Zr.BULLET,text:"●",alignment:ze.LEFT,style:{paragraph:{indent:{left:5040,hanging:_r(.25)}}}},{level:7,format:Zr.BULLET,text:"●",alignment:ze.LEFT,style:{paragraph:{indent:{left:5760,hanging:_r(.25)}}}},{level:8,format:Zr.BULLET,text:"●",alignment:ze.LEFT,style:{paragraph:{indent:{left:6480,hanging:_r(.25)}}}}]);this.concreteNumberingMap.set("default-bullet-numbering",new Pv({numId:1,abstractNumId:r.id,reference:"default-bullet-numbering",instance:0,overrideLevels:[{num:0,start:1}]})),this.abstractNumberingMap.set("default-bullet-numbering",r);for(const n of e.config)this.abstractNumberingMap.set(n.reference,new Cv(this.abstractNumUniqueNumericId(),n.levels)),this.referenceConfigMap.set(n.reference,n.levels)}prepForXml(e){for(const r of this.abstractNumberingMap.values())this.root.push(r);for(const r of this.concreteNumberingMap.values())this.root.push(r);return super.prepForXml(e)}createConcreteNumberingInstance(e,r){const n=this.abstractNumberingMap.get(e);if(!n)return;const i=`${e}-${r}`;if(this.concreteNumberingMap.has(i))return;const s=this.referenceConfigMap.get(e),a=s&&s[0].start,o={numId:this.concreteNumUniqueNumericId(),abstractNumId:n.id,reference:e,instance:r,overrideLevels:[a&&Number.isInteger(a)?{num:0,start:a}:{num:0,start:1}]};this.concreteNumberingMap.set(i,new Pv(o))}get ConcreteNumbering(){return Array.from(this.concreteNumberingMap.values())}get ReferenceConfig(){return Array.from(this.referenceConfigMap.values())}}class FL extends _e{constructor(){super(...arguments),ce(this,"xmlKeys",{version:"w:val",name:"w:name",uri:"w:uri"})}}class BL extends ue{constructor(e){super("w:compatSetting"),this.root.push(new FL({version:e,uri:"http://schemas.microsoft.com/office/word",name:"compatibilityMode"}))}}class zL extends ue{constructor(e){super("w:compat"),e.version&&this.root.push(new BL(e.version)),e.useSingleBorderforContiguousCells&&this.root.push(new he("w:useSingleBorderforContiguousCells",e.useSingleBorderforContiguousCells)),e.wordPerfectJustification&&this.root.push(new he("w:wpJustification",e.wordPerfectJustification)),e.noTabStopForHangingIndent&&this.root.push(new he("w:noTabHangInd",e.noTabStopForHangingIndent)),e.noLeading&&this.root.push(new he("w:noLeading",e.noLeading)),e.spaceForUnderline&&this.root.push(new he("w:spaceForUL",e.spaceForUnderline)),e.noColumnBalance&&this.root.push(new he("w:noColumnBalance",e.noColumnBalance)),e.balanceSingleByteDoubleByteWidth&&this.root.push(new he("w:balanceSingleByteDoubleByteWidth",e.balanceSingleByteDoubleByteWidth)),e.noExtraLineSpacing&&this.root.push(new he("w:noExtraLineSpacing",e.noExtraLineSpacing)),e.doNotLeaveBackslashAlone&&this.root.push(new he("w:doNotLeaveBackslashAlone",e.doNotLeaveBackslashAlone)),e.underlineTrailingSpaces&&this.root.push(new he("w:ulTrailSpace",e.underlineTrailingSpaces)),e.doNotExpandShiftReturn&&this.root.push(new he("w:doNotExpandShiftReturn",e.doNotExpandShiftReturn)),e.spacingInWholePoints&&this.root.push(new he("w:spacingInWholePoints",e.spacingInWholePoints)),e.lineWrapLikeWord6&&this.root.push(new he("w:lineWrapLikeWord6",e.lineWrapLikeWord6)),e.printBodyTextBeforeHeader&&this.root.push(new he("w:printBodyTextBeforeHeader",e.printBodyTextBeforeHeader)),e.printColorsBlack&&this.root.push(new he("w:printColBlack",e.printColorsBlack)),e.spaceWidth&&this.root.push(new he("w:wpSpaceWidth",e.spaceWidth)),e.showBreaksInFrames&&this.root.push(new he("w:showBreaksInFrames",e.showBreaksInFrames)),e.subFontBySize&&this.root.push(new he("w:subFontBySize",e.subFontBySize)),e.suppressBottomSpacing&&this.root.push(new he("w:suppressBottomSpacing",e.suppressBottomSpacing)),e.suppressTopSpacing&&this.root.push(new he("w:suppressTopSpacing",e.suppressTopSpacing)),e.suppressSpacingAtTopOfPage&&this.root.push(new he("w:suppressSpacingAtTopOfPage",e.suppressSpacingAtTopOfPage)),e.suppressTopSpacingWP&&this.root.push(new he("w:suppressTopSpacingWP",e.suppressTopSpacingWP)),e.suppressSpBfAfterPgBrk&&this.root.push(new he("w:suppressSpBfAfterPgBrk",e.suppressSpBfAfterPgBrk)),e.swapBordersFacingPages&&this.root.push(new he("w:swapBordersFacingPages",e.swapBordersFacingPages)),e.convertMailMergeEsc&&this.root.push(new he("w:convMailMergeEsc",e.convertMailMergeEsc)),e.truncateFontHeightsLikeWP6&&this.root.push(new he("w:truncateFontHeightsLikeWP6",e.truncateFontHeightsLikeWP6)),e.macWordSmallCaps&&this.root.push(new he("w:mwSmallCaps",e.macWordSmallCaps)),e.usePrinterMetrics&&this.root.push(new he("w:usePrinterMetrics",e.usePrinterMetrics)),e.doNotSuppressParagraphBorders&&this.root.push(new he("w:doNotSuppressParagraphBorders",e.doNotSuppressParagraphBorders)),e.wrapTrailSpaces&&this.root.push(new he("w:wrapTrailSpaces",e.wrapTrailSpaces)),e.footnoteLayoutLikeWW8&&this.root.push(new he("w:footnoteLayoutLikeWW8",e.footnoteLayoutLikeWW8)),e.shapeLayoutLikeWW8&&this.root.push(new he("w:shapeLayoutLikeWW8",e.shapeLayoutLikeWW8)),e.alignTablesRowByRow&&this.root.push(new he("w:alignTablesRowByRow",e.alignTablesRowByRow)),e.forgetLastTabAlignment&&this.root.push(new he("w:forgetLastTabAlignment",e.forgetLastTabAlignment)),e.adjustLineHeightInTable&&this.root.push(new he("w:adjustLineHeightInTable",e.adjustLineHeightInTable)),e.autoSpaceLikeWord95&&this.root.push(new he("w:autoSpaceLikeWord95",e.autoSpaceLikeWord95)),e.noSpaceRaiseLower&&this.root.push(new he("w:noSpaceRaiseLower",e.noSpaceRaiseLower)),e.doNotUseHTMLParagraphAutoSpacing&&this.root.push(new he("w:doNotUseHTMLParagraphAutoSpacing",e.doNotUseHTMLParagraphAutoSpacing)),e.layoutRawTableWidth&&this.root.push(new he("w:layoutRawTableWidth",e.layoutRawTableWidth)),e.layoutTableRowsApart&&this.root.push(new he("w:layoutTableRowsApart",e.layoutTableRowsApart)),e.useWord97LineBreakRules&&this.root.push(new he("w:useWord97LineBreakRules",e.useWord97LineBreakRules)),e.doNotBreakWrappedTables&&this.root.push(new he("w:doNotBreakWrappedTables",e.doNotBreakWrappedTables)),e.doNotSnapToGridInCell&&this.root.push(new he("w:doNotSnapToGridInCell",e.doNotSnapToGridInCell)),e.selectFieldWithFirstOrLastCharacter&&this.root.push(new he("w:selectFldWithFirstOrLastChar",e.selectFieldWithFirstOrLastCharacter)),e.applyBreakingRules&&this.root.push(new he("w:applyBreakingRules",e.applyBreakingRules)),e.doNotWrapTextWithPunctuation&&this.root.push(new he("w:doNotWrapTextWithPunct",e.doNotWrapTextWithPunctuation)),e.doNotUseEastAsianBreakRules&&this.root.push(new he("w:doNotUseEastAsianBreakRules",e.doNotUseEastAsianBreakRules)),e.useWord2002TableStyleRules&&this.root.push(new he("w:useWord2002TableStyleRules",e.useWord2002TableStyleRules)),e.growAutofit&&this.root.push(new he("w:growAutofit",e.growAutofit)),e.useFELayout&&this.root.push(new he("w:useFELayout",e.useFELayout)),e.useNormalStyleForList&&this.root.push(new he("w:useNormalStyleForList",e.useNormalStyleForList)),e.doNotUseIndentAsNumberingTabStop&&this.root.push(new he("w:doNotUseIndentAsNumberingTabStop",e.doNotUseIndentAsNumberingTabStop)),e.useAlternateEastAsianLineBreakRules&&this.root.push(new he("w:useAltKinsokuLineBreakRules",e.useAlternateEastAsianLineBreakRules)),e.allowSpaceOfSameStyleInTable&&this.root.push(new he("w:allowSpaceOfSameStyleInTable",e.allowSpaceOfSameStyleInTable)),e.doNotSuppressIndentation&&this.root.push(new he("w:doNotSuppressIndentation",e.doNotSuppressIndentation)),e.doNotAutofitConstrainedTables&&this.root.push(new he("w:doNotAutofitConstrainedTables",e.doNotAutofitConstrainedTables)),e.autofitToFirstFixedWidthCell&&this.root.push(new he("w:autofitToFirstFixedWidthCell",e.autofitToFirstFixedWidthCell)),e.underlineTabInNumberingList&&this.root.push(new he("w:underlineTabInNumList",e.underlineTabInNumberingList)),e.displayHangulFixedWidth&&this.root.push(new he("w:displayHangulFixedWidth",e.displayHangulFixedWidth)),e.splitPgBreakAndParaMark&&this.root.push(new he("w:splitPgBreakAndParaMark",e.splitPgBreakAndParaMark)),e.doNotVerticallyAlignCellWithSp&&this.root.push(new he("w:doNotVertAlignCellWithSp",e.doNotVerticallyAlignCellWithSp)),e.doNotBreakConstrainedForcedTable&&this.root.push(new he("w:doNotBreakConstrainedForcedTable",e.doNotBreakConstrainedForcedTable)),e.ignoreVerticalAlignmentInTextboxes&&this.root.push(new he("w:doNotVertAlignInTxbx",e.ignoreVerticalAlignmentInTextboxes)),e.useAnsiKerningPairs&&this.root.push(new he("w:useAnsiKerningPairs",e.useAnsiKerningPairs)),e.cachedColumnBalance&&this.root.push(new he("w:cachedColBalance",e.cachedColumnBalance))}}class UL extends _e{constructor(){super(...arguments),ce(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"})}}let $L=class extends ue{constructor(e){var r,n,i,s;super("w:settings"),this.root.push(new UL({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"})),this.root.push(new he("w:displayBackgroundShape",!0)),e.trackRevisions!==void 0&&this.root.push(new he("w:trackRevisions",e.trackRevisions)),e.evenAndOddHeaders!==void 0&&this.root.push(new he("w:evenAndOddHeaders",e.evenAndOddHeaders)),e.updateFields!==void 0&&this.root.push(new he("w:updateFields",e.updateFields)),e.defaultTabStop!==void 0&&this.root.push(new dg("w:defaultTabStop",e.defaultTabStop)),this.root.push(new zL(Ko(De({},(r=e.compatibility)!=null?r:{}),{version:(s=(i=(n=e.compatibility)==null?void 0:n.version)!=null?i:e.compatibilityModeVersion)!=null?s:15})))}};class Uk extends _e{constructor(){super(...arguments),ce(this,"xmlKeys",{val:"w:val"})}}class WL extends ue{constructor(e){super("w:name"),this.root.push(new Uk({val:e}))}}class HL extends ue{constructor(e){super("w:uiPriority"),this.root.push(new Uk({val:Mt(e)}))}}class VL extends _e{constructor(){super(...arguments),ce(this,"xmlKeys",{type:"w:type",styleId:"w:styleId",default:"w:default",customStyle:"w:customStyle"})}}class $k extends ue{constructor(e,r){super("w:style"),this.root.push(new VL(e)),r.name&&this.root.push(new WL(r.name)),r.basedOn&&this.root.push(new Li("w:basedOn",r.basedOn)),r.next&&this.root.push(new Li("w:next",r.next)),r.link&&this.root.push(new Li("w:link",r.link)),r.uiPriority!==void 0&&this.root.push(new HL(r.uiPriority)),r.semiHidden!==void 0&&this.root.push(new he("w:semiHidden",r.semiHidden)),r.unhideWhenUsed!==void 0&&this.root.push(new he("w:unhideWhenUsed",r.unhideWhenUsed)),r.quickFormat!==void 0&&this.root.push(new he("w:qFormat",r.quickFormat))}}class sd extends $k{constructor(e){super({type:"paragraph",styleId:e.id},e),ce(this,"paragraphProperties"),ce(this,"runProperties"),this.paragraphProperties=new ca(e.paragraph),this.runProperties=new ns(e.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties)}}class ad extends $k{constructor(e){super({type:"character",styleId:e.id},De({uiPriority:99,unhideWhenUsed:!0},e)),ce(this,"runProperties"),this.runProperties=new ns(e.run),this.root.push(this.runProperties)}}class hi extends sd{constructor(e){super(De({basedOn:"Normal",next:"Normal",quickFormat:!0},e))}}class KL extends hi{constructor(e){super(De({id:"Title",name:"Title"},e))}}class qL extends hi{constructor(e){super(De({id:"Heading1",name:"Heading 1"},e))}}class GL extends hi{constructor(e){super(De({id:"Heading2",name:"Heading 2"},e))}}class YL extends hi{constructor(e){super(De({id:"Heading3",name:"Heading 3"},e))}}class XL extends hi{constructor(e){super(De({id:"Heading4",name:"Heading 4"},e))}}class QL extends hi{constructor(e){super(De({id:"Heading5",name:"Heading 5"},e))}}class JL extends hi{constructor(e){super(De({id:"Heading6",name:"Heading 6"},e))}}class ZL extends hi{constructor(e){super(De({id:"Strong",name:"Strong"},e))}}class e3 extends sd{constructor(e){super(De({id:"ListParagraph",name:"List Paragraph",basedOn:"Normal",quickFormat:!0},e))}}class t3 extends sd{constructor(e){super(De({id:"FootnoteText",name:"footnote text",link:"FootnoteTextChar",basedOn:"Normal",uiPriority:99,semiHidden:!0,unhideWhenUsed:!0,paragraph:{spacing:{after:0,line:240,lineRule:_p.AUTO}},run:{size:20}},e))}}class r3 extends ad{constructor(e){super(De({id:"FootnoteReference",name:"footnote reference",basedOn:"DefaultParagraphFont",semiHidden:!0,run:{superScript:!0}},e))}}class n3 extends ad{constructor(e){super(De({id:"FootnoteTextChar",name:"Footnote Text Char",basedOn:"DefaultParagraphFont",link:"FootnoteText",semiHidden:!0,run:{size:20}},e))}}class i3 extends ad{constructor(e){super(De({id:"Hyperlink",name:"Hyperlink",basedOn:"DefaultParagraphFont",run:{color:"0563C1",underline:{type:Ok.SINGLE}}},e))}}class Sp extends ue{constructor(e){if(super("w:styles"),e.initialStyles&&this.root.push(e.initialStyles),e.importedStyles)for(const r of e.importedStyles)this.root.push(r);if(e.paragraphStyles)for(const r of e.paragraphStyles)this.root.push(new sd(r));if(e.characterStyles)for(const r of e.characterStyles)this.root.push(new ad(r))}}class s3 extends ue{constructor(e){super("w:pPrDefault"),this.root.push(new ca(e))}}class a3 extends ue{constructor(e){super("w:rPrDefault"),this.root.push(new ns(e))}}class o3 extends ue{constructor(e){super("w:docDefaults"),ce(this,"runPropertiesDefaults"),ce(this,"paragraphPropertiesDefaults"),this.runPropertiesDefaults=new a3(e.run),this.paragraphPropertiesDefaults=new s3(e.paragraph),this.root.push(this.runPropertiesDefaults),this.root.push(this.paragraphPropertiesDefaults)}}class l3{newInstance(e){const r=Tk.xml2js(e,{compact:!1});let n;for(const a of r.elements||[])a.name==="w:styles"&&(n=a);if(n===void 0)throw new Error("can not find styles element");const i=n.elements||[];return new Sp({initialStyles:new X6(n.attributes),importedStyles:i.map(a=>cg(a))})}}class Ov{newInstance(e={}){var r;return{initialStyles:new sl({mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",Ignorable:"w14 w15"}),importedStyles:[new o3((r=e.document)!=null?r:{}),new KL(De({run:{size:56}},e.title)),new qL(De({run:{color:"2E74B5",size:32}},e.heading1)),new GL(De({run:{color:"2E74B5",size:26}},e.heading2)),new YL(De({run:{color:"1F4D78",size:24}},e.heading3)),new XL(De({run:{color:"2E74B5",italics:!0}},e.heading4)),new QL(De({run:{color:"2E74B5"}},e.heading5)),new JL(De({run:{color:"1F4D78"}},e.heading6)),new ZL(De({run:{bold:!0}},e.strong)),new e3(e.listParagraph||{}),new i3(e.hyperlink||{}),new r3(e.footnoteReference||{}),new t3(e.footnoteText||{}),new n3(e.footnoteTextChar||{})]}}}const nc=({id:t,fontKey:e,subsetted:r},n)=>new ai({name:n,attributes:De({id:{key:"r:id",value:t}},e?{fontKey:{key:"w:fontKey",value:`{${e}}`}}:{}),children:[...r?[new he("w:subsetted",r)]:[]]}),c3=({name:t,altName:e,panose1:r,charset:n,family:i,notTrueType:s,pitch:a,sig:o,embedRegular:l,embedBold:c,embedItalic:u,embedBoldItalic:h})=>new ai({name:"w:font",attributes:{name:{key:"w:name",value:t}},children:[...e?[Ua("w:altName",e)]:[],...r?[Ua("w:panose1",r)]:[],...n?[Ua("w:charset",n)]:[],...i?[Ua("w:family",i)]:[],...s?[new he("w:notTrueType",s)]:[],...a?[Ua("w:pitch",a)]:[],...o?[new ai({name:"w:sig",attributes:{usb0:{key:"w:usb0",value:o.usb0},usb1:{key:"w:usb1",value:o.usb1},usb2:{key:"w:usb2",value:o.usb2},usb3:{key:"w:usb3",value:o.usb3},csb0:{key:"w:csb0",value:o.csb0},csb1:{key:"w:csb1",value:o.csb1}}})]:[],...l?[nc(l,"w:embedRegular")]:[],...c?[nc(c,"w:embedBold")]:[],...u?[nc(u,"w:embedItalic")]:[],...h?[nc(h,"w:embedBoldItalic")]:[]]}),u3=({name:t,index:e,fontKey:r,characterSet:n})=>c3({name:t,sig:{usb0:"E0002AFF",usb1:"C000247B",usb2:"00000009",usb3:"00000000",csb0:"000001FF",csb1:"00000000"},charset:n,family:"auto",pitch:"variable",embedRegular:{fontKey:r,id:`rId${e}`}}),d3=t=>new ai({name:"w:fonts",attributes:{mc:{key:"xmlns:mc",value:"http://schemas.openxmlformats.org/markup-compatibility/2006"},r:{key:"xmlns:r",value:"http://schemas.openxmlformats.org/officeDocument/2006/relationships"},w:{key:"xmlns:w",value:"http://schemas.openxmlformats.org/wordprocessingml/2006/main"},w14:{key:"xmlns:w14",value:"http://schemas.microsoft.com/office/word/2010/wordml"},w15:{key:"xmlns:w15",value:"http://schemas.microsoft.com/office/word/2012/wordml"},w16cex:{key:"xmlns:w16cex",value:"http://schemas.microsoft.com/office/word/2018/wordml/cex"},w16cid:{key:"xmlns:w16cid",value:"http://schemas.microsoft.com/office/word/2016/wordml/cid"},w16:{key:"xmlns:w16",value:"http://schemas.microsoft.com/office/word/2018/wordml"},w16sdtdh:{key:"xmlns:w16sdtdh",value:"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash"},w16se:{key:"xmlns:w16se",value:"http://schemas.microsoft.com/office/word/2015/wordml/symex"},Ignorable:{key:"mc:Ignorable",value:"w14 w15 w16se w16cid w16 w16cex w16sdtdh"}},children:t.map((e,r)=>u3({name:e.name,index:r+1,fontKey:e.fontKey}))});class h3{constructor(e){ce(this,"fontTable"),ce(this,"relationships"),ce(this,"fontOptionsWithKey",[]),this.options=e,this.fontOptionsWithKey=e.map(r=>Ko(De({},r),{fontKey:I2()})),this.fontTable=d3(this.fontOptionsWithKey),this.relationships=new ba;for(let r=0;r<e.length;r++)this.relationships.createRelationship(r+1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/font",`fonts/${e[r].name}.odttf`)}get View(){return this.fontTable}get Relationships(){return this.relationships}}class od{constructor(e){ce(this,"currentRelationshipId",1),ce(this,"documentWrapper"),ce(this,"headers",[]),ce(this,"footers",[]),ce(this,"coreProperties"),ce(this,"numbering"),ce(this,"media"),ce(this,"fileRelationships"),ce(this,"footnotesWrapper"),ce(this,"settings"),ce(this,"contentTypes"),ce(this,"customProperties"),ce(this,"appProperties"),ce(this,"styles"),ce(this,"comments"),ce(this,"fontWrapper");var r,n,i,s,a,o,l,c;if(this.coreProperties=new JM(Ko(De({},e),{creator:(r=e.creator)!=null?r:"Un-named",revision:(n=e.revision)!=null?n:1,lastModifiedBy:(i=e.lastModifiedBy)!=null?i:"Un-named"})),this.numbering=new LL(e.numbering?e.numbering:{config:[]}),this.comments=new B2((s=e.comments)!=null?s:{children:[]}),this.fileRelationships=new ba,this.customProperties=new nL((a=e.customProperties)!=null?a:[]),this.appProperties=new qM,this.footnotesWrapper=new gL,this.contentTypes=new QM,this.documentWrapper=new Mk({background:e.background}),this.settings=new $L({compatibilityModeVersion:e.compatabilityModeVersion,compatibility:e.compatibility,evenAndOddHeaders:!!e.evenAndOddHeaderAndFooters,trackRevisions:(o=e.features)==null?void 0:o.trackRevisions,updateFields:(l=e.features)==null?void 0:l.updateFields,defaultTabStop:e.defaultTabStop}),this.media=new xL,e.externalStyles){const u=new l3;this.styles=u.newInstance(e.externalStyles)}else if(e.styles){const h=new Ov().newInstance(e.styles.default);this.styles=new Sp(De(De({},h),e.styles))}else{const u=new Ov;this.styles=new Sp(u.newInstance())}this.addDefaultRelationships();for(const u of e.sections)this.addSection(u);if(e.footnotes)for(const u in e.footnotes)this.footnotesWrapper.View.createFootNote(parseFloat(u),e.footnotes[u].children);this.fontWrapper=new h3((c=e.fonts)!=null?c:[])}addSection({headers:e={},footers:r={},children:n,properties:i}){this.documentWrapper.View.Body.addSection(Ko(De({},i),{headerWrapperGroup:{default:e.default?this.createHeader(e.default):void 0,first:e.first?this.createHeader(e.first):void 0,even:e.even?this.createHeader(e.even):void 0},footerWrapperGroup:{default:r.default?this.createFooter(r.default):void 0,first:r.first?this.createFooter(r.first):void 0,even:r.even?this.createFooter(r.even):void 0}}));for(const s of n)this.documentWrapper.View.add(s)}createHeader(e){const r=new vL(this.media,this.currentRelationshipId++);for(const n of e.options.children)r.add(n);return this.addHeaderToDocument(r),r}createFooter(e){const r=new aL(this.media,this.currentRelationshipId++);for(const n of e.options.children)r.add(n);return this.addFooterToDocument(r),r}addHeaderToDocument(e,r=Hs.DEFAULT){this.headers.push({header:e,type:r}),this.documentWrapper.Relationships.createRelationship(e.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/header",`header${this.headers.length}.xml`),this.contentTypes.addHeader(this.headers.length)}addFooterToDocument(e,r=Hs.DEFAULT){this.footers.push({footer:e,type:r}),this.documentWrapper.Relationships.createRelationship(e.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footer",`footer${this.footers.length}.xml`),this.contentTypes.addFooter(this.footers.length)}addDefaultRelationships(){this.fileRelationships.createRelationship(1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument","word/document.xml"),this.fileRelationships.createRelationship(2,"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties","docProps/core.xml"),this.fileRelationships.createRelationship(3,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties","docProps/app.xml"),this.fileRelationships.createRelationship(4,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties","docProps/custom.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles","styles.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/numbering","numbering.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footnotes","footnotes.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/settings","settings.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments","comments.xml")}get Document(){return this.documentWrapper}get Styles(){return this.styles}get CoreProperties(){return this.coreProperties}get Numbering(){return this.numbering}get Media(){return this.media}get FileRelationships(){return this.fileRelationships}get Headers(){return this.headers.map(e=>e.header)}get Footers(){return this.footers.map(e=>e.footer)}get ContentTypes(){return this.contentTypes}get CustomProperties(){return this.customProperties}get AppProperties(){return this.appProperties}get FootNotes(){return this.footnotesWrapper}get Settings(){return this.settings}get Comments(){return this.comments}get FontTable(){return this.fontWrapper}}function ic(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Wk={exports:{}};(function(t,e){(function(r){t.exports=r()})(function(){return function r(n,i,s){function a(c,u){if(!i[c]){if(!n[c]){var h=typeof ic=="function"&&ic;if(!u&&h)return h(c,!0);if(o)return o(c,!0);var f=new Error("Cannot find module '"+c+"'");throw f.code="MODULE_NOT_FOUND",f}var p=i[c]={exports:{}};n[c][0].call(p.exports,function(w){var g=n[c][1][w];return a(g||w)},p,p.exports,r,n,i,s)}return i[c].exports}for(var o=typeof ic=="function"&&ic,l=0;l<s.length;l++)a(s[l]);return a}({1:[function(r,n,i){var s=r("./utils"),a=r("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(l){for(var c,u,h,f,p,w,g,b=[],m=0,y=l.length,_=y,k=s.getTypeOf(l)!=="string";m<l.length;)_=y-m,h=k?(c=l[m++],u=m<y?l[m++]:0,m<y?l[m++]:0):(c=l.charCodeAt(m++),u=m<y?l.charCodeAt(m++):0,m<y?l.charCodeAt(m++):0),f=c>>2,p=(3&c)<<4|u>>4,w=1<_?(15&u)<<2|h>>6:64,g=2<_?63&h:64,b.push(o.charAt(f)+o.charAt(p)+o.charAt(w)+o.charAt(g));return b.join("")},i.decode=function(l){var c,u,h,f,p,w,g=0,b=0,m="data:";if(l.substr(0,m.length)===m)throw new Error("Invalid base64 input, it looks like a data url.");var y,_=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===o.charAt(64)&&_--,l.charAt(l.length-2)===o.charAt(64)&&_--,_%1!=0)throw new Error("Invalid base64 input, bad content length.");for(y=a.uint8array?new Uint8Array(0|_):new Array(0|_);g<l.length;)c=o.indexOf(l.charAt(g++))<<2|(f=o.indexOf(l.charAt(g++)))>>4,u=(15&f)<<4|(p=o.indexOf(l.charAt(g++)))>>2,h=(3&p)<<6|(w=o.indexOf(l.charAt(g++))),y[b++]=c,p!==64&&(y[b++]=u),w!==64&&(y[b++]=h);return y}},{"./support":30,"./utils":32}],2:[function(r,n,i){var s=r("./external"),a=r("./stream/DataWorker"),o=r("./stream/Crc32Probe"),l=r("./stream/DataLengthProbe");function c(u,h,f,p,w){this.compressedSize=u,this.uncompressedSize=h,this.crc32=f,this.compression=p,this.compressedContent=w}c.prototype={getContentWorker:function(){var u=new a(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),h=this;return u.on("end",function(){if(this.streamInfo.data_length!==h.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),u},getCompressedWorker:function(){return new a(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},c.createWorkerFrom=function(u,h,f){return u.pipe(new o).pipe(new l("uncompressedSize")).pipe(h.compressWorker(f)).pipe(new l("compressedSize")).withStreamInfo("compression",h)},n.exports=c},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(r,n,i){var s=r("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},i.DEFLATE=r("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(r,n,i){var s=r("./utils"),a=function(){for(var o,l=[],c=0;c<256;c++){o=c;for(var u=0;u<8;u++)o=1&o?3988292384^o>>>1:o>>>1;l[c]=o}return l}();n.exports=function(o,l){return o!==void 0&&o.length?s.getTypeOf(o)!=="string"?function(c,u,h,f){var p=a,w=f+h;c^=-1;for(var g=f;g<w;g++)c=c>>>8^p[255&(c^u[g])];return-1^c}(0|l,o,o.length,0):function(c,u,h,f){var p=a,w=f+h;c^=-1;for(var g=f;g<w;g++)c=c>>>8^p[255&(c^u.charCodeAt(g))];return-1^c}(0|l,o,o.length,0):0}},{"./utils":32}],5:[function(r,n,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(r,n,i){var s=null;s=typeof Promise<"u"?Promise:r("lie"),n.exports={Promise:s}},{lie:37}],7:[function(r,n,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",a=r("pako"),o=r("./utils"),l=r("./stream/GenericWorker"),c=s?"uint8array":"array";function u(h,f){l.call(this,"FlateWorker/"+h),this._pako=null,this._pakoAction=h,this._pakoOptions=f,this.meta={}}i.magic="\b\0",o.inherits(u,l),u.prototype.processChunk=function(h){this.meta=h.meta,this._pako===null&&this._createPako(),this._pako.push(o.transformTo(c,h.data),!1)},u.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},u.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},u.prototype._createPako=function(){this._pako=new a[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var h=this;this._pako.onData=function(f){h.push({data:f,meta:h.meta})}},i.compressWorker=function(h){return new u("Deflate",h)},i.uncompressWorker=function(){return new u("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(r,n,i){function s(p,w){var g,b="";for(g=0;g<w;g++)b+=String.fromCharCode(255&p),p>>>=8;return b}function a(p,w,g,b,m,y){var _,k,T=p.file,I=p.compression,O=y!==c.utf8encode,L=o.transformTo("string",y(T.name)),N=o.transformTo("string",c.utf8encode(T.name)),H=T.comment,ee=o.transformTo("string",y(H)),R=o.transformTo("string",c.utf8encode(H)),W=N.length!==T.name.length,P=R.length!==H.length,B="",ne="",X="",re=T.dir,Z=T.date,le={crc32:0,compressedSize:0,uncompressedSize:0};w&&!g||(le.crc32=p.crc32,le.compressedSize=p.compressedSize,le.uncompressedSize=p.uncompressedSize);var G=0;w&&(G|=8),O||!W&&!P||(G|=2048);var D=0,J=0;re&&(D|=16),m==="UNIX"?(J=798,D|=function(ie,q){var j=ie;return ie||(j=q?16893:33204),(65535&j)<<16}(T.unixPermissions,re)):(J=20,D|=function(ie){return 63&(ie||0)}(T.dosPermissions)),_=Z.getUTCHours(),_<<=6,_|=Z.getUTCMinutes(),_<<=5,_|=Z.getUTCSeconds()/2,k=Z.getUTCFullYear()-1980,k<<=4,k|=Z.getUTCMonth()+1,k<<=5,k|=Z.getUTCDate(),W&&(ne=s(1,1)+s(u(L),4)+N,B+="up"+s(ne.length,2)+ne),P&&(X=s(1,1)+s(u(ee),4)+R,B+="uc"+s(X.length,2)+X);var Q="";return Q+=`
\0`,Q+=s(G,2),Q+=I.magic,Q+=s(_,2),Q+=s(k,2),Q+=s(le.crc32,4),Q+=s(le.compressedSize,4),Q+=s(le.uncompressedSize,4),Q+=s(L.length,2),Q+=s(B.length,2),{fileRecord:h.LOCAL_FILE_HEADER+Q+L+B,dirRecord:h.CENTRAL_FILE_HEADER+s(J,2)+Q+s(ee.length,2)+"\0\0\0\0"+s(D,4)+s(b,4)+L+B+ee}}var o=r("../utils"),l=r("../stream/GenericWorker"),c=r("../utf8"),u=r("../crc32"),h=r("../signature");function f(p,w,g,b){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=w,this.zipPlatform=g,this.encodeFileName=b,this.streamFiles=p,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(f,l),f.prototype.push=function(p){var w=p.meta.percent||0,g=this.entriesCount,b=this._sources.length;this.accumulate?this.contentBuffer.push(p):(this.bytesWritten+=p.data.length,l.prototype.push.call(this,{data:p.data,meta:{currentFile:this.currentFile,percent:g?(w+100*(g-b-1))/g:100}}))},f.prototype.openedSource=function(p){this.currentSourceOffset=this.bytesWritten,this.currentFile=p.file.name;var w=this.streamFiles&&!p.file.dir;if(w){var g=a(p,w,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:g.fileRecord,meta:{percent:0}})}else this.accumulate=!0},f.prototype.closedSource=function(p){this.accumulate=!1;var w=this.streamFiles&&!p.file.dir,g=a(p,w,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(g.dirRecord),w)this.push({data:function(b){return h.DATA_DESCRIPTOR+s(b.crc32,4)+s(b.compressedSize,4)+s(b.uncompressedSize,4)}(p),meta:{percent:100}});else for(this.push({data:g.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},f.prototype.flush=function(){for(var p=this.bytesWritten,w=0;w<this.dirRecords.length;w++)this.push({data:this.dirRecords[w],meta:{percent:100}});var g=this.bytesWritten-p,b=function(m,y,_,k,T){var I=o.transformTo("string",T(k));return h.CENTRAL_DIRECTORY_END+"\0\0\0\0"+s(m,2)+s(m,2)+s(y,4)+s(_,4)+s(I.length,2)+I}(this.dirRecords.length,g,p,this.zipComment,this.encodeFileName);this.push({data:b,meta:{percent:100}})},f.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},f.prototype.registerPrevious=function(p){this._sources.push(p);var w=this;return p.on("data",function(g){w.processChunk(g)}),p.on("end",function(){w.closedSource(w.previous.streamInfo),w._sources.length?w.prepareNextSource():w.end()}),p.on("error",function(g){w.error(g)}),this},f.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},f.prototype.error=function(p){var w=this._sources;if(!l.prototype.error.call(this,p))return!1;for(var g=0;g<w.length;g++)try{w[g].error(p)}catch{}return!0},f.prototype.lock=function(){l.prototype.lock.call(this);for(var p=this._sources,w=0;w<p.length;w++)p[w].lock()},n.exports=f},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(r,n,i){var s=r("../compressions"),a=r("./ZipFileWorker");i.generateWorker=function(o,l,c){var u=new a(l.streamFiles,c,l.platform,l.encodeFileName),h=0;try{o.forEach(function(f,p){h++;var w=function(y,_){var k=y||_,T=s[k];if(!T)throw new Error(k+" is not a valid compression method !");return T}(p.options.compression,l.compression),g=p.options.compressionOptions||l.compressionOptions||{},b=p.dir,m=p.date;p._compressWorker(w,g).withStreamInfo("file",{name:f,dir:b,date:m,comment:p.comment||"",unixPermissions:p.unixPermissions,dosPermissions:p.dosPermissions}).pipe(u)}),u.entriesCount=h}catch(f){u.error(f)}return u}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(r,n,i){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var a=new s;for(var o in this)typeof this[o]!="function"&&(a[o]=this[o]);return a}}(s.prototype=r("./object")).loadAsync=r("./load"),s.support=r("./support"),s.defaults=r("./defaults"),s.version="3.10.1",s.loadAsync=function(a,o){return new s().loadAsync(a,o)},s.external=r("./external"),n.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(r,n,i){var s=r("./utils"),a=r("./external"),o=r("./utf8"),l=r("./zipEntries"),c=r("./stream/Crc32Probe"),u=r("./nodejsUtils");function h(f){return new a.Promise(function(p,w){var g=f.decompressed.getContentWorker().pipe(new c);g.on("error",function(b){w(b)}).on("end",function(){g.streamInfo.crc32!==f.decompressed.crc32?w(new Error("Corrupted zip : CRC32 mismatch")):p()}).resume()})}n.exports=function(f,p){var w=this;return p=s.extend(p||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),u.isNode&&u.isStream(f)?a.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",f,!0,p.optimizedBinaryString,p.base64).then(function(g){var b=new l(p);return b.load(g),b}).then(function(g){var b=[a.Promise.resolve(g)],m=g.files;if(p.checkCRC32)for(var y=0;y<m.length;y++)b.push(h(m[y]));return a.Promise.all(b)}).then(function(g){for(var b=g.shift(),m=b.files,y=0;y<m.length;y++){var _=m[y],k=_.fileNameStr,T=s.resolve(_.fileNameStr);w.file(T,_.decompressed,{binary:!0,optimizedBinaryString:!0,date:_.date,dir:_.dir,comment:_.fileCommentStr.length?_.fileCommentStr:null,unixPermissions:_.unixPermissions,dosPermissions:_.dosPermissions,createFolders:p.createFolders}),_.dir||(w.file(T).unsafeOriginalName=k)}return b.zipComment.length&&(w.comment=b.zipComment),w})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(r,n,i){var s=r("../utils"),a=r("../stream/GenericWorker");function o(l,c){a.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(c)}s.inherits(o,a),o.prototype._bindStream=function(l){var c=this;(this._stream=l).pause(),l.on("data",function(u){c.push({data:u,meta:{percent:0}})}).on("error",function(u){c.isPaused?this.generatedError=u:c.error(u)}).on("end",function(){c.isPaused?c._upstreamEnded=!0:c.end()})},o.prototype.pause=function(){return!!a.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},n.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(r,n,i){var s=r("readable-stream").Readable;function a(o,l,c){s.call(this,l),this._helper=o;var u=this;o.on("data",function(h,f){u.push(h)||u._helper.pause(),c&&c(f)}).on("error",function(h){u.emit("error",h)}).on("end",function(){u.push(null)})}r("../utils").inherits(a,s),a.prototype._read=function(){this._helper.resume()},n.exports=a},{"../utils":32,"readable-stream":16}],14:[function(r,n,i){n.exports={isNode:typeof Buffer<"u",newBufferFrom:function(s,a){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(s,a);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Buffer(s,a)},allocBuffer:function(s){if(Buffer.alloc)return Buffer.alloc(s);var a=new Buffer(s);return a.fill(0),a},isBuffer:function(s){return Buffer.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(r,n,i){function s(T,I,O){var L,N=o.getTypeOf(I),H=o.extend(O||{},u);H.date=H.date||new Date,H.compression!==null&&(H.compression=H.compression.toUpperCase()),typeof H.unixPermissions=="string"&&(H.unixPermissions=parseInt(H.unixPermissions,8)),H.unixPermissions&&16384&H.unixPermissions&&(H.dir=!0),H.dosPermissions&&16&H.dosPermissions&&(H.dir=!0),H.dir&&(T=m(T)),H.createFolders&&(L=b(T))&&y.call(this,L,!0);var ee=N==="string"&&H.binary===!1&&H.base64===!1;O&&O.binary!==void 0||(H.binary=!ee),(I instanceof h&&I.uncompressedSize===0||H.dir||!I||I.length===0)&&(H.base64=!1,H.binary=!0,I="",H.compression="STORE",N="string");var R=null;R=I instanceof h||I instanceof l?I:w.isNode&&w.isStream(I)?new g(T,I):o.prepareContent(T,I,H.binary,H.optimizedBinaryString,H.base64);var W=new f(T,R,H);this.files[T]=W}var a=r("./utf8"),o=r("./utils"),l=r("./stream/GenericWorker"),c=r("./stream/StreamHelper"),u=r("./defaults"),h=r("./compressedObject"),f=r("./zipObject"),p=r("./generate"),w=r("./nodejsUtils"),g=r("./nodejs/NodejsStreamInputAdapter"),b=function(T){T.slice(-1)==="/"&&(T=T.substring(0,T.length-1));var I=T.lastIndexOf("/");return 0<I?T.substring(0,I):""},m=function(T){return T.slice(-1)!=="/"&&(T+="/"),T},y=function(T,I){return I=I!==void 0?I:u.createFolders,T=m(T),this.files[T]||s.call(this,T,null,{dir:!0,createFolders:I}),this.files[T]};function _(T){return Object.prototype.toString.call(T)==="[object RegExp]"}var k={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(T){var I,O,L;for(I in this.files)L=this.files[I],(O=I.slice(this.root.length,I.length))&&I.slice(0,this.root.length)===this.root&&T(O,L)},filter:function(T){var I=[];return this.forEach(function(O,L){T(O,L)&&I.push(L)}),I},file:function(T,I,O){if(arguments.length!==1)return T=this.root+T,s.call(this,T,I,O),this;if(_(T)){var L=T;return this.filter(function(H,ee){return!ee.dir&&L.test(H)})}var N=this.files[this.root+T];return N&&!N.dir?N:null},folder:function(T){if(!T)return this;if(_(T))return this.filter(function(N,H){return H.dir&&T.test(N)});var I=this.root+T,O=y.call(this,I),L=this.clone();return L.root=O.name,L},remove:function(T){T=this.root+T;var I=this.files[T];if(I||(T.slice(-1)!=="/"&&(T+="/"),I=this.files[T]),I&&!I.dir)delete this.files[T];else for(var O=this.filter(function(N,H){return H.name.slice(0,T.length)===T}),L=0;L<O.length;L++)delete this.files[O[L].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(T){var I,O={};try{if((O=o.extend(T||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:a.utf8encode})).type=O.type.toLowerCase(),O.compression=O.compression.toUpperCase(),O.type==="binarystring"&&(O.type="string"),!O.type)throw new Error("No output type specified.");o.checkSupport(O.type),O.platform!=="darwin"&&O.platform!=="freebsd"&&O.platform!=="linux"&&O.platform!=="sunos"||(O.platform="UNIX"),O.platform==="win32"&&(O.platform="DOS");var L=O.comment||this.comment||"";I=p.generateWorker(this,O,L)}catch(N){(I=new l("error")).error(N)}return new c(I,O.type||"string",O.mimeType)},generateAsync:function(T,I){return this.generateInternalStream(T).accumulate(I)},generateNodeStream:function(T,I){return(T=T||{}).type||(T.type="nodebuffer"),this.generateInternalStream(T).toNodejsStream(I)}};n.exports=k},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(r,n,i){n.exports=r("stream")},{stream:void 0}],17:[function(r,n,i){var s=r("./DataReader");function a(o){s.call(this,o);for(var l=0;l<this.data.length;l++)o[l]=255&o[l]}r("../utils").inherits(a,s),a.prototype.byteAt=function(o){return this.data[this.zero+o]},a.prototype.lastIndexOfSignature=function(o){for(var l=o.charCodeAt(0),c=o.charCodeAt(1),u=o.charCodeAt(2),h=o.charCodeAt(3),f=this.length-4;0<=f;--f)if(this.data[f]===l&&this.data[f+1]===c&&this.data[f+2]===u&&this.data[f+3]===h)return f-this.zero;return-1},a.prototype.readAndCheckSignature=function(o){var l=o.charCodeAt(0),c=o.charCodeAt(1),u=o.charCodeAt(2),h=o.charCodeAt(3),f=this.readData(4);return l===f[0]&&c===f[1]&&u===f[2]&&h===f[3]},a.prototype.readData=function(o){if(this.checkOffset(o),o===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},n.exports=a},{"../utils":32,"./DataReader":18}],18:[function(r,n,i){var s=r("../utils");function a(o){this.data=o,this.length=o.length,this.index=0,this.zero=0}a.prototype={checkOffset:function(o){this.checkIndex(this.index+o)},checkIndex:function(o){if(this.length<this.zero+o||o<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+o+"). Corrupted zip ?")},setIndex:function(o){this.checkIndex(o),this.index=o},skip:function(o){this.setIndex(this.index+o)},byteAt:function(){},readInt:function(o){var l,c=0;for(this.checkOffset(o),l=this.index+o-1;l>=this.index;l--)c=(c<<8)+this.byteAt(l);return this.index+=o,c},readString:function(o){return s.transformTo("string",this.readData(o))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var o=this.readInt(4);return new Date(Date.UTC(1980+(o>>25&127),(o>>21&15)-1,o>>16&31,o>>11&31,o>>5&63,(31&o)<<1))}},n.exports=a},{"../utils":32}],19:[function(r,n,i){var s=r("./Uint8ArrayReader");function a(o){s.call(this,o)}r("../utils").inherits(a,s),a.prototype.readData=function(o){this.checkOffset(o);var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},n.exports=a},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(r,n,i){var s=r("./DataReader");function a(o){s.call(this,o)}r("../utils").inherits(a,s),a.prototype.byteAt=function(o){return this.data.charCodeAt(this.zero+o)},a.prototype.lastIndexOfSignature=function(o){return this.data.lastIndexOf(o)-this.zero},a.prototype.readAndCheckSignature=function(o){return o===this.readData(4)},a.prototype.readData=function(o){this.checkOffset(o);var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},n.exports=a},{"../utils":32,"./DataReader":18}],21:[function(r,n,i){var s=r("./ArrayReader");function a(o){s.call(this,o)}r("../utils").inherits(a,s),a.prototype.readData=function(o){if(this.checkOffset(o),o===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},n.exports=a},{"../utils":32,"./ArrayReader":17}],22:[function(r,n,i){var s=r("../utils"),a=r("../support"),o=r("./ArrayReader"),l=r("./StringReader"),c=r("./NodeBufferReader"),u=r("./Uint8ArrayReader");n.exports=function(h){var f=s.getTypeOf(h);return s.checkSupport(f),f!=="string"||a.uint8array?f==="nodebuffer"?new c(h):a.uint8array?new u(s.transformTo("uint8array",h)):new o(s.transformTo("array",h)):new l(h)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(r,n,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(r,n,i){var s=r("./GenericWorker"),a=r("../utils");function o(l){s.call(this,"ConvertWorker to "+l),this.destType=l}a.inherits(o,s),o.prototype.processChunk=function(l){this.push({data:a.transformTo(this.destType,l.data),meta:l.meta})},n.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(r,n,i){var s=r("./GenericWorker"),a=r("../crc32");function o(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r("../utils").inherits(o,s),o.prototype.processChunk=function(l){this.streamInfo.crc32=a(l.data,this.streamInfo.crc32||0),this.push(l)},n.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(r,n,i){var s=r("../utils"),a=r("./GenericWorker");function o(l){a.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}s.inherits(o,a),o.prototype.processChunk=function(l){if(l){var c=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=c+l.data.length}a.prototype.processChunk.call(this,l)},n.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(r,n,i){var s=r("../utils"),a=r("./GenericWorker");function o(l){a.call(this,"DataWorker");var c=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(u){c.dataIsReady=!0,c.data=u,c.max=u&&u.length||0,c.type=s.getTypeOf(u),c.isPaused||c._tickAndRepeat()},function(u){c.error(u)})}s.inherits(o,a),o.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,c=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,c);break;case"uint8array":l=this.data.subarray(this.index,c);break;case"array":case"nodebuffer":l=this.data.slice(this.index,c)}return this.index=c,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},n.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(r,n,i){function s(a){this.name=a||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(a){this.emit("data",a)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(a){this.emit("error",a)}return!0},error:function(a){return!this.isFinished&&(this.isPaused?this.generatedError=a:(this.isFinished=!0,this.emit("error",a),this.previous&&this.previous.error(a),this.cleanUp()),!0)},on:function(a,o){return this._listeners[a].push(o),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(a,o){if(this._listeners[a])for(var l=0;l<this._listeners[a].length;l++)this._listeners[a][l].call(this,o)},pipe:function(a){return a.registerPrevious(this)},registerPrevious:function(a){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=a.streamInfo,this.mergeStreamInfo(),this.previous=a;var o=this;return a.on("data",function(l){o.processChunk(l)}),a.on("end",function(){o.end()}),a.on("error",function(l){o.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var a=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),a=!0),this.previous&&this.previous.resume(),!a},flush:function(){},processChunk:function(a){this.push(a)},withStreamInfo:function(a,o){return this.extraStreamInfo[a]=o,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var a in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,a)&&(this.streamInfo[a]=this.extraStreamInfo[a])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var a="Worker "+this.name;return this.previous?this.previous+" -> "+a:a}},n.exports=s},{}],29:[function(r,n,i){var s=r("../utils"),a=r("./ConvertWorker"),o=r("./GenericWorker"),l=r("../base64"),c=r("../support"),u=r("../external"),h=null;if(c.nodestream)try{h=r("../nodejs/NodejsStreamOutputAdapter")}catch{}function f(w,g){return new u.Promise(function(b,m){var y=[],_=w._internalType,k=w._outputType,T=w._mimeType;w.on("data",function(I,O){y.push(I),g&&g(O)}).on("error",function(I){y=[],m(I)}).on("end",function(){try{var I=function(O,L,N){switch(O){case"blob":return s.newBlob(s.transformTo("arraybuffer",L),N);case"base64":return l.encode(L);default:return s.transformTo(O,L)}}(k,function(O,L){var N,H=0,ee=null,R=0;for(N=0;N<L.length;N++)R+=L[N].length;switch(O){case"string":return L.join("");case"array":return Array.prototype.concat.apply([],L);case"uint8array":for(ee=new Uint8Array(R),N=0;N<L.length;N++)ee.set(L[N],H),H+=L[N].length;return ee;case"nodebuffer":return Buffer.concat(L);default:throw new Error("concat : unsupported type '"+O+"'")}}(_,y),T);b(I)}catch(O){m(O)}y=[]}).resume()})}function p(w,g,b){var m=g;switch(g){case"blob":case"arraybuffer":m="uint8array";break;case"base64":m="string"}try{this._internalType=m,this._outputType=g,this._mimeType=b,s.checkSupport(m),this._worker=w.pipe(new a(m)),w.lock()}catch(y){this._worker=new o("error"),this._worker.error(y)}}p.prototype={accumulate:function(w){return f(this,w)},on:function(w,g){var b=this;return w==="data"?this._worker.on(w,function(m){g.call(b,m.data,m.meta)}):this._worker.on(w,function(){s.delay(g,arguments,b)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(w){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new h(this,{objectMode:this._outputType!=="nodebuffer"},w)}},n.exports=p},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(r,n,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var s=new ArrayBuffer(0);try{i.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var a=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);a.append(s),i.blob=a.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!r("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(r,n,i){for(var s=r("./utils"),a=r("./support"),o=r("./nodejsUtils"),l=r("./stream/GenericWorker"),c=new Array(256),u=0;u<256;u++)c[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;c[254]=c[254]=1;function h(){l.call(this,"utf-8 decode"),this.leftOver=null}function f(){l.call(this,"utf-8 encode")}i.utf8encode=function(p){return a.nodebuffer?o.newBufferFrom(p,"utf-8"):function(w){var g,b,m,y,_,k=w.length,T=0;for(y=0;y<k;y++)(64512&(b=w.charCodeAt(y)))==55296&&y+1<k&&(64512&(m=w.charCodeAt(y+1)))==56320&&(b=65536+(b-55296<<10)+(m-56320),y++),T+=b<128?1:b<2048?2:b<65536?3:4;for(g=a.uint8array?new Uint8Array(T):new Array(T),y=_=0;_<T;y++)(64512&(b=w.charCodeAt(y)))==55296&&y+1<k&&(64512&(m=w.charCodeAt(y+1)))==56320&&(b=65536+(b-55296<<10)+(m-56320),y++),b<128?g[_++]=b:(b<2048?g[_++]=192|b>>>6:(b<65536?g[_++]=224|b>>>12:(g[_++]=240|b>>>18,g[_++]=128|b>>>12&63),g[_++]=128|b>>>6&63),g[_++]=128|63&b);return g}(p)},i.utf8decode=function(p){return a.nodebuffer?s.transformTo("nodebuffer",p).toString("utf-8"):function(w){var g,b,m,y,_=w.length,k=new Array(2*_);for(g=b=0;g<_;)if((m=w[g++])<128)k[b++]=m;else if(4<(y=c[m]))k[b++]=65533,g+=y-1;else{for(m&=y===2?31:y===3?15:7;1<y&&g<_;)m=m<<6|63&w[g++],y--;1<y?k[b++]=65533:m<65536?k[b++]=m:(m-=65536,k[b++]=55296|m>>10&1023,k[b++]=56320|1023&m)}return k.length!==b&&(k.subarray?k=k.subarray(0,b):k.length=b),s.applyFromCharCode(k)}(p=s.transformTo(a.uint8array?"uint8array":"array",p))},s.inherits(h,l),h.prototype.processChunk=function(p){var w=s.transformTo(a.uint8array?"uint8array":"array",p.data);if(this.leftOver&&this.leftOver.length){if(a.uint8array){var g=w;(w=new Uint8Array(g.length+this.leftOver.length)).set(this.leftOver,0),w.set(g,this.leftOver.length)}else w=this.leftOver.concat(w);this.leftOver=null}var b=function(y,_){var k;for((_=_||y.length)>y.length&&(_=y.length),k=_-1;0<=k&&(192&y[k])==128;)k--;return k<0||k===0?_:k+c[y[k]]>_?k:_}(w),m=w;b!==w.length&&(a.uint8array?(m=w.subarray(0,b),this.leftOver=w.subarray(b,w.length)):(m=w.slice(0,b),this.leftOver=w.slice(b,w.length))),this.push({data:i.utf8decode(m),meta:p.meta})},h.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=h,s.inherits(f,l),f.prototype.processChunk=function(p){this.push({data:i.utf8encode(p.data),meta:p.meta})},i.Utf8EncodeWorker=f},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(r,n,i){var s=r("./support"),a=r("./base64"),o=r("./nodejsUtils"),l=r("./external");function c(g){return g}function u(g,b){for(var m=0;m<g.length;++m)b[m]=255&g.charCodeAt(m);return b}r("setimmediate"),i.newBlob=function(g,b){i.checkSupport("blob");try{return new Blob([g],{type:b})}catch{try{var m=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return m.append(g),m.getBlob(b)}catch{throw new Error("Bug : can't construct the Blob.")}}};var h={stringifyByChunk:function(g,b,m){var y=[],_=0,k=g.length;if(k<=m)return String.fromCharCode.apply(null,g);for(;_<k;)b==="array"||b==="nodebuffer"?y.push(String.fromCharCode.apply(null,g.slice(_,Math.min(_+m,k)))):y.push(String.fromCharCode.apply(null,g.subarray(_,Math.min(_+m,k)))),_+=m;return y.join("")},stringifyByChar:function(g){for(var b="",m=0;m<g.length;m++)b+=String.fromCharCode(g[m]);return b},applyCanBeUsed:{uint8array:function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,o.allocBuffer(1)).length===1}catch{return!1}}()}};function f(g){var b=65536,m=i.getTypeOf(g),y=!0;if(m==="uint8array"?y=h.applyCanBeUsed.uint8array:m==="nodebuffer"&&(y=h.applyCanBeUsed.nodebuffer),y)for(;1<b;)try{return h.stringifyByChunk(g,m,b)}catch{b=Math.floor(b/2)}return h.stringifyByChar(g)}function p(g,b){for(var m=0;m<g.length;m++)b[m]=g[m];return b}i.applyFromCharCode=f;var w={};w.string={string:c,array:function(g){return u(g,new Array(g.length))},arraybuffer:function(g){return w.string.uint8array(g).buffer},uint8array:function(g){return u(g,new Uint8Array(g.length))},nodebuffer:function(g){return u(g,o.allocBuffer(g.length))}},w.array={string:f,array:c,arraybuffer:function(g){return new Uint8Array(g).buffer},uint8array:function(g){return new Uint8Array(g)},nodebuffer:function(g){return o.newBufferFrom(g)}},w.arraybuffer={string:function(g){return f(new Uint8Array(g))},array:function(g){return p(new Uint8Array(g),new Array(g.byteLength))},arraybuffer:c,uint8array:function(g){return new Uint8Array(g)},nodebuffer:function(g){return o.newBufferFrom(new Uint8Array(g))}},w.uint8array={string:f,array:function(g){return p(g,new Array(g.length))},arraybuffer:function(g){return g.buffer},uint8array:c,nodebuffer:function(g){return o.newBufferFrom(g)}},w.nodebuffer={string:f,array:function(g){return p(g,new Array(g.length))},arraybuffer:function(g){return w.nodebuffer.uint8array(g).buffer},uint8array:function(g){return p(g,new Uint8Array(g.length))},nodebuffer:c},i.transformTo=function(g,b){if(b=b||"",!g)return b;i.checkSupport(g);var m=i.getTypeOf(b);return w[m][g](b)},i.resolve=function(g){for(var b=g.split("/"),m=[],y=0;y<b.length;y++){var _=b[y];_==="."||_===""&&y!==0&&y!==b.length-1||(_===".."?m.pop():m.push(_))}return m.join("/")},i.getTypeOf=function(g){return typeof g=="string"?"string":Object.prototype.toString.call(g)==="[object Array]"?"array":s.nodebuffer&&o.isBuffer(g)?"nodebuffer":s.uint8array&&g instanceof Uint8Array?"uint8array":s.arraybuffer&&g instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(g){if(!s[g.toLowerCase()])throw new Error(g+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(g){var b,m,y="";for(m=0;m<(g||"").length;m++)y+="\\x"+((b=g.charCodeAt(m))<16?"0":"")+b.toString(16).toUpperCase();return y},i.delay=function(g,b,m){setImmediate(function(){g.apply(m||null,b||[])})},i.inherits=function(g,b){function m(){}m.prototype=b.prototype,g.prototype=new m},i.extend=function(){var g,b,m={};for(g=0;g<arguments.length;g++)for(b in arguments[g])Object.prototype.hasOwnProperty.call(arguments[g],b)&&m[b]===void 0&&(m[b]=arguments[g][b]);return m},i.prepareContent=function(g,b,m,y,_){return l.Promise.resolve(b).then(function(k){return s.blob&&(k instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(k))!==-1)&&typeof FileReader<"u"?new l.Promise(function(T,I){var O=new FileReader;O.onload=function(L){T(L.target.result)},O.onerror=function(L){I(L.target.error)},O.readAsArrayBuffer(k)}):k}).then(function(k){var T=i.getTypeOf(k);return T?(T==="arraybuffer"?k=i.transformTo("uint8array",k):T==="string"&&(_?k=a.decode(k):m&&y!==!0&&(k=function(I){return u(I,s.uint8array?new Uint8Array(I.length):new Array(I.length))}(k))),k):l.Promise.reject(new Error("Can't read the data of '"+g+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(r,n,i){var s=r("./reader/readerFor"),a=r("./utils"),o=r("./signature"),l=r("./zipEntry"),c=r("./support");function u(h){this.files=[],this.loadOptions=h}u.prototype={checkSignature:function(h){if(!this.reader.readAndCheckSignature(h)){this.reader.index-=4;var f=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+a.pretty(f)+", expected "+a.pretty(h)+")")}},isSignature:function(h,f){var p=this.reader.index;this.reader.setIndex(h);var w=this.reader.readString(4)===f;return this.reader.setIndex(p),w},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var h=this.reader.readData(this.zipCommentLength),f=c.uint8array?"uint8array":"array",p=a.transformTo(f,h);this.zipComment=this.loadOptions.decodeFileName(p)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var h,f,p,w=this.zip64EndOfCentralSize-44;0<w;)h=this.reader.readInt(2),f=this.reader.readInt(4),p=this.reader.readData(f),this.zip64ExtensibleData[h]={id:h,length:f,value:p}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var h,f;for(h=0;h<this.files.length;h++)f=this.files[h],this.reader.setIndex(f.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),f.readLocalPart(this.reader),f.handleUTF8(),f.processAttributes()},readCentralDir:function(){var h;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(h=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(h);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var h=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(h<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(h);var f=h;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===a.MAX_VALUE_16BITS||this.diskWithCentralDirStart===a.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===a.MAX_VALUE_16BITS||this.centralDirRecords===a.MAX_VALUE_16BITS||this.centralDirSize===a.MAX_VALUE_32BITS||this.centralDirOffset===a.MAX_VALUE_32BITS){if(this.zip64=!0,(h=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(h),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var p=this.centralDirOffset+this.centralDirSize;this.zip64&&(p+=20,p+=12+this.zip64EndOfCentralSize);var w=f-p;if(0<w)this.isSignature(f,o.CENTRAL_FILE_HEADER)||(this.reader.zero=w);else if(w<0)throw new Error("Corrupted zip: missing "+Math.abs(w)+" bytes.")},prepareReader:function(h){this.reader=s(h)},load:function(h){this.prepareReader(h),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},n.exports=u},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(r,n,i){var s=r("./reader/readerFor"),a=r("./utils"),o=r("./compressedObject"),l=r("./crc32"),c=r("./utf8"),u=r("./compressions"),h=r("./support");function f(p,w){this.options=p,this.loadOptions=w}f.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(p){var w,g;if(p.skip(22),this.fileNameLength=p.readInt(2),g=p.readInt(2),this.fileName=p.readData(this.fileNameLength),p.skip(g),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((w=function(b){for(var m in u)if(Object.prototype.hasOwnProperty.call(u,m)&&u[m].magic===b)return u[m];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+a.pretty(this.compressionMethod)+" unknown (inner file : "+a.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,w,p.readData(this.compressedSize))},readCentralPart:function(p){this.versionMadeBy=p.readInt(2),p.skip(2),this.bitFlag=p.readInt(2),this.compressionMethod=p.readString(2),this.date=p.readDate(),this.crc32=p.readInt(4),this.compressedSize=p.readInt(4),this.uncompressedSize=p.readInt(4);var w=p.readInt(2);if(this.extraFieldsLength=p.readInt(2),this.fileCommentLength=p.readInt(2),this.diskNumberStart=p.readInt(2),this.internalFileAttributes=p.readInt(2),this.externalFileAttributes=p.readInt(4),this.localHeaderOffset=p.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");p.skip(w),this.readExtraFields(p),this.parseZIP64ExtraField(p),this.fileComment=p.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var p=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),p==0&&(this.dosPermissions=63&this.externalFileAttributes),p==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var p=s(this.extraFields[1].value);this.uncompressedSize===a.MAX_VALUE_32BITS&&(this.uncompressedSize=p.readInt(8)),this.compressedSize===a.MAX_VALUE_32BITS&&(this.compressedSize=p.readInt(8)),this.localHeaderOffset===a.MAX_VALUE_32BITS&&(this.localHeaderOffset=p.readInt(8)),this.diskNumberStart===a.MAX_VALUE_32BITS&&(this.diskNumberStart=p.readInt(4))}},readExtraFields:function(p){var w,g,b,m=p.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});p.index+4<m;)w=p.readInt(2),g=p.readInt(2),b=p.readData(g),this.extraFields[w]={id:w,length:g,value:b};p.setIndex(m)},handleUTF8:function(){var p=h.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=c.utf8decode(this.fileName),this.fileCommentStr=c.utf8decode(this.fileComment);else{var w=this.findExtraFieldUnicodePath();if(w!==null)this.fileNameStr=w;else{var g=a.transformTo(p,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(g)}var b=this.findExtraFieldUnicodeComment();if(b!==null)this.fileCommentStr=b;else{var m=a.transformTo(p,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(m)}}},findExtraFieldUnicodePath:function(){var p=this.extraFields[28789];if(p){var w=s(p.value);return w.readInt(1)!==1||l(this.fileName)!==w.readInt(4)?null:c.utf8decode(w.readData(p.length-5))}return null},findExtraFieldUnicodeComment:function(){var p=this.extraFields[25461];if(p){var w=s(p.value);return w.readInt(1)!==1||l(this.fileComment)!==w.readInt(4)?null:c.utf8decode(w.readData(p.length-5))}return null}},n.exports=f},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(r,n,i){function s(w,g,b){this.name=w,this.dir=b.dir,this.date=b.date,this.comment=b.comment,this.unixPermissions=b.unixPermissions,this.dosPermissions=b.dosPermissions,this._data=g,this._dataBinary=b.binary,this.options={compression:b.compression,compressionOptions:b.compressionOptions}}var a=r("./stream/StreamHelper"),o=r("./stream/DataWorker"),l=r("./utf8"),c=r("./compressedObject"),u=r("./stream/GenericWorker");s.prototype={internalStream:function(w){var g=null,b="string";try{if(!w)throw new Error("No output type specified.");var m=(b=w.toLowerCase())==="string"||b==="text";b!=="binarystring"&&b!=="text"||(b="string"),g=this._decompressWorker();var y=!this._dataBinary;y&&!m&&(g=g.pipe(new l.Utf8EncodeWorker)),!y&&m&&(g=g.pipe(new l.Utf8DecodeWorker))}catch(_){(g=new u("error")).error(_)}return new a(g,b,"")},async:function(w,g){return this.internalStream(w).accumulate(g)},nodeStream:function(w,g){return this.internalStream(w||"nodebuffer").toNodejsStream(g)},_compressWorker:function(w,g){if(this._data instanceof c&&this._data.compression.magic===w.magic)return this._data.getCompressedWorker();var b=this._decompressWorker();return this._dataBinary||(b=b.pipe(new l.Utf8EncodeWorker)),c.createWorkerFrom(b,w,g)},_decompressWorker:function(){return this._data instanceof c?this._data.getContentWorker():this._data instanceof u?this._data:new o(this._data)}};for(var h=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],f=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},p=0;p<h.length;p++)s.prototype[h[p]]=f;n.exports=s},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(r,n,i){(function(s){var a,o,l=s.MutationObserver||s.WebKitMutationObserver;if(l){var c=0,u=new l(w),h=s.document.createTextNode("");u.observe(h,{characterData:!0}),a=function(){h.data=c=++c%2}}else if(s.setImmediate||s.MessageChannel===void 0)a="document"in s&&"onreadystatechange"in s.document.createElement("script")?function(){var g=s.document.createElement("script");g.onreadystatechange=function(){w(),g.onreadystatechange=null,g.parentNode.removeChild(g),g=null},s.document.documentElement.appendChild(g)}:function(){setTimeout(w,0)};else{var f=new s.MessageChannel;f.port1.onmessage=w,a=function(){f.port2.postMessage(0)}}var p=[];function w(){var g,b;o=!0;for(var m=p.length;m;){for(b=p,p=[],g=-1;++g<m;)b[g]();m=p.length}o=!1}n.exports=function(g){p.push(g)!==1||o||a()}}).call(this,typeof qr<"u"?qr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(r,n,i){var s=r("immediate");function a(){}var o={},l=["REJECTED"],c=["FULFILLED"],u=["PENDING"];function h(m){if(typeof m!="function")throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,m!==a&&g(this,m)}function f(m,y,_){this.promise=m,typeof y=="function"&&(this.onFulfilled=y,this.callFulfilled=this.otherCallFulfilled),typeof _=="function"&&(this.onRejected=_,this.callRejected=this.otherCallRejected)}function p(m,y,_){s(function(){var k;try{k=y(_)}catch(T){return o.reject(m,T)}k===m?o.reject(m,new TypeError("Cannot resolve promise with itself")):o.resolve(m,k)})}function w(m){var y=m&&m.then;if(m&&(typeof m=="object"||typeof m=="function")&&typeof y=="function")return function(){y.apply(m,arguments)}}function g(m,y){var _=!1;function k(O){_||(_=!0,o.reject(m,O))}function T(O){_||(_=!0,o.resolve(m,O))}var I=b(function(){y(T,k)});I.status==="error"&&k(I.value)}function b(m,y){var _={};try{_.value=m(y),_.status="success"}catch(k){_.status="error",_.value=k}return _}(n.exports=h).prototype.finally=function(m){if(typeof m!="function")return this;var y=this.constructor;return this.then(function(_){return y.resolve(m()).then(function(){return _})},function(_){return y.resolve(m()).then(function(){throw _})})},h.prototype.catch=function(m){return this.then(null,m)},h.prototype.then=function(m,y){if(typeof m!="function"&&this.state===c||typeof y!="function"&&this.state===l)return this;var _=new this.constructor(a);return this.state!==u?p(_,this.state===c?m:y,this.outcome):this.queue.push(new f(_,m,y)),_},f.prototype.callFulfilled=function(m){o.resolve(this.promise,m)},f.prototype.otherCallFulfilled=function(m){p(this.promise,this.onFulfilled,m)},f.prototype.callRejected=function(m){o.reject(this.promise,m)},f.prototype.otherCallRejected=function(m){p(this.promise,this.onRejected,m)},o.resolve=function(m,y){var _=b(w,y);if(_.status==="error")return o.reject(m,_.value);var k=_.value;if(k)g(m,k);else{m.state=c,m.outcome=y;for(var T=-1,I=m.queue.length;++T<I;)m.queue[T].callFulfilled(y)}return m},o.reject=function(m,y){m.state=l,m.outcome=y;for(var _=-1,k=m.queue.length;++_<k;)m.queue[_].callRejected(y);return m},h.resolve=function(m){return m instanceof this?m:o.resolve(new this(a),m)},h.reject=function(m){var y=new this(a);return o.reject(y,m)},h.all=function(m){var y=this;if(Object.prototype.toString.call(m)!=="[object Array]")return this.reject(new TypeError("must be an array"));var _=m.length,k=!1;if(!_)return this.resolve([]);for(var T=new Array(_),I=0,O=-1,L=new this(a);++O<_;)N(m[O],O);return L;function N(H,ee){y.resolve(H).then(function(R){T[ee]=R,++I!==_||k||(k=!0,o.resolve(L,T))},function(R){k||(k=!0,o.reject(L,R))})}},h.race=function(m){var y=this;if(Object.prototype.toString.call(m)!=="[object Array]")return this.reject(new TypeError("must be an array"));var _=m.length,k=!1;if(!_)return this.resolve([]);for(var T=-1,I=new this(a);++T<_;)O=m[T],y.resolve(O).then(function(L){k||(k=!0,o.resolve(I,L))},function(L){k||(k=!0,o.reject(I,L))});var O;return I}},{immediate:36}],38:[function(r,n,i){var s={};(0,r("./lib/utils/common").assign)(s,r("./lib/deflate"),r("./lib/inflate"),r("./lib/zlib/constants")),n.exports=s},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(r,n,i){var s=r("./zlib/deflate"),a=r("./utils/common"),o=r("./utils/strings"),l=r("./zlib/messages"),c=r("./zlib/zstream"),u=Object.prototype.toString,h=0,f=-1,p=0,w=8;function g(m){if(!(this instanceof g))return new g(m);this.options=a.assign({level:f,method:w,chunkSize:16384,windowBits:15,memLevel:8,strategy:p,to:""},m||{});var y=this.options;y.raw&&0<y.windowBits?y.windowBits=-y.windowBits:y.gzip&&0<y.windowBits&&y.windowBits<16&&(y.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var _=s.deflateInit2(this.strm,y.level,y.method,y.windowBits,y.memLevel,y.strategy);if(_!==h)throw new Error(l[_]);if(y.header&&s.deflateSetHeader(this.strm,y.header),y.dictionary){var k;if(k=typeof y.dictionary=="string"?o.string2buf(y.dictionary):u.call(y.dictionary)==="[object ArrayBuffer]"?new Uint8Array(y.dictionary):y.dictionary,(_=s.deflateSetDictionary(this.strm,k))!==h)throw new Error(l[_]);this._dict_set=!0}}function b(m,y){var _=new g(y);if(_.push(m,!0),_.err)throw _.msg||l[_.err];return _.result}g.prototype.push=function(m,y){var _,k,T=this.strm,I=this.options.chunkSize;if(this.ended)return!1;k=y===~~y?y:y===!0?4:0,typeof m=="string"?T.input=o.string2buf(m):u.call(m)==="[object ArrayBuffer]"?T.input=new Uint8Array(m):T.input=m,T.next_in=0,T.avail_in=T.input.length;do{if(T.avail_out===0&&(T.output=new a.Buf8(I),T.next_out=0,T.avail_out=I),(_=s.deflate(T,k))!==1&&_!==h)return this.onEnd(_),!(this.ended=!0);T.avail_out!==0&&(T.avail_in!==0||k!==4&&k!==2)||(this.options.to==="string"?this.onData(o.buf2binstring(a.shrinkBuf(T.output,T.next_out))):this.onData(a.shrinkBuf(T.output,T.next_out)))}while((0<T.avail_in||T.avail_out===0)&&_!==1);return k===4?(_=s.deflateEnd(this.strm),this.onEnd(_),this.ended=!0,_===h):k!==2||(this.onEnd(h),!(T.avail_out=0))},g.prototype.onData=function(m){this.chunks.push(m)},g.prototype.onEnd=function(m){m===h&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=m,this.msg=this.strm.msg},i.Deflate=g,i.deflate=b,i.deflateRaw=function(m,y){return(y=y||{}).raw=!0,b(m,y)},i.gzip=function(m,y){return(y=y||{}).gzip=!0,b(m,y)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(r,n,i){var s=r("./zlib/inflate"),a=r("./utils/common"),o=r("./utils/strings"),l=r("./zlib/constants"),c=r("./zlib/messages"),u=r("./zlib/zstream"),h=r("./zlib/gzheader"),f=Object.prototype.toString;function p(g){if(!(this instanceof p))return new p(g);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},g||{});var b=this.options;b.raw&&0<=b.windowBits&&b.windowBits<16&&(b.windowBits=-b.windowBits,b.windowBits===0&&(b.windowBits=-15)),!(0<=b.windowBits&&b.windowBits<16)||g&&g.windowBits||(b.windowBits+=32),15<b.windowBits&&b.windowBits<48&&!(15&b.windowBits)&&(b.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var m=s.inflateInit2(this.strm,b.windowBits);if(m!==l.Z_OK)throw new Error(c[m]);this.header=new h,s.inflateGetHeader(this.strm,this.header)}function w(g,b){var m=new p(b);if(m.push(g,!0),m.err)throw m.msg||c[m.err];return m.result}p.prototype.push=function(g,b){var m,y,_,k,T,I,O=this.strm,L=this.options.chunkSize,N=this.options.dictionary,H=!1;if(this.ended)return!1;y=b===~~b?b:b===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof g=="string"?O.input=o.binstring2buf(g):f.call(g)==="[object ArrayBuffer]"?O.input=new Uint8Array(g):O.input=g,O.next_in=0,O.avail_in=O.input.length;do{if(O.avail_out===0&&(O.output=new a.Buf8(L),O.next_out=0,O.avail_out=L),(m=s.inflate(O,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&N&&(I=typeof N=="string"?o.string2buf(N):f.call(N)==="[object ArrayBuffer]"?new Uint8Array(N):N,m=s.inflateSetDictionary(this.strm,I)),m===l.Z_BUF_ERROR&&H===!0&&(m=l.Z_OK,H=!1),m!==l.Z_STREAM_END&&m!==l.Z_OK)return this.onEnd(m),!(this.ended=!0);O.next_out&&(O.avail_out!==0&&m!==l.Z_STREAM_END&&(O.avail_in!==0||y!==l.Z_FINISH&&y!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(_=o.utf8border(O.output,O.next_out),k=O.next_out-_,T=o.buf2string(O.output,_),O.next_out=k,O.avail_out=L-k,k&&a.arraySet(O.output,O.output,_,k,0),this.onData(T)):this.onData(a.shrinkBuf(O.output,O.next_out)))),O.avail_in===0&&O.avail_out===0&&(H=!0)}while((0<O.avail_in||O.avail_out===0)&&m!==l.Z_STREAM_END);return m===l.Z_STREAM_END&&(y=l.Z_FINISH),y===l.Z_FINISH?(m=s.inflateEnd(this.strm),this.onEnd(m),this.ended=!0,m===l.Z_OK):y!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(O.avail_out=0))},p.prototype.onData=function(g){this.chunks.push(g)},p.prototype.onEnd=function(g){g===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=g,this.msg=this.strm.msg},i.Inflate=p,i.inflate=w,i.inflateRaw=function(g,b){return(b=b||{}).raw=!0,w(g,b)},i.ungzip=w},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(r,n,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(l){for(var c=Array.prototype.slice.call(arguments,1);c.length;){var u=c.shift();if(u){if(typeof u!="object")throw new TypeError(u+"must be non-object");for(var h in u)u.hasOwnProperty(h)&&(l[h]=u[h])}}return l},i.shrinkBuf=function(l,c){return l.length===c?l:l.subarray?l.subarray(0,c):(l.length=c,l)};var a={arraySet:function(l,c,u,h,f){if(c.subarray&&l.subarray)l.set(c.subarray(u,u+h),f);else for(var p=0;p<h;p++)l[f+p]=c[u+p]},flattenChunks:function(l){var c,u,h,f,p,w;for(c=h=0,u=l.length;c<u;c++)h+=l[c].length;for(w=new Uint8Array(h),c=f=0,u=l.length;c<u;c++)p=l[c],w.set(p,f),f+=p.length;return w}},o={arraySet:function(l,c,u,h,f){for(var p=0;p<h;p++)l[f+p]=c[u+p]},flattenChunks:function(l){return[].concat.apply([],l)}};i.setTyped=function(l){l?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,a)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,o))},i.setTyped(s)},{}],42:[function(r,n,i){var s=r("./common"),a=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch{a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{o=!1}for(var l=new s.Buf8(256),c=0;c<256;c++)l[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;function u(h,f){if(f<65537&&(h.subarray&&o||!h.subarray&&a))return String.fromCharCode.apply(null,s.shrinkBuf(h,f));for(var p="",w=0;w<f;w++)p+=String.fromCharCode(h[w]);return p}l[254]=l[254]=1,i.string2buf=function(h){var f,p,w,g,b,m=h.length,y=0;for(g=0;g<m;g++)(64512&(p=h.charCodeAt(g)))==55296&&g+1<m&&(64512&(w=h.charCodeAt(g+1)))==56320&&(p=65536+(p-55296<<10)+(w-56320),g++),y+=p<128?1:p<2048?2:p<65536?3:4;for(f=new s.Buf8(y),g=b=0;b<y;g++)(64512&(p=h.charCodeAt(g)))==55296&&g+1<m&&(64512&(w=h.charCodeAt(g+1)))==56320&&(p=65536+(p-55296<<10)+(w-56320),g++),p<128?f[b++]=p:(p<2048?f[b++]=192|p>>>6:(p<65536?f[b++]=224|p>>>12:(f[b++]=240|p>>>18,f[b++]=128|p>>>12&63),f[b++]=128|p>>>6&63),f[b++]=128|63&p);return f},i.buf2binstring=function(h){return u(h,h.length)},i.binstring2buf=function(h){for(var f=new s.Buf8(h.length),p=0,w=f.length;p<w;p++)f[p]=h.charCodeAt(p);return f},i.buf2string=function(h,f){var p,w,g,b,m=f||h.length,y=new Array(2*m);for(p=w=0;p<m;)if((g=h[p++])<128)y[w++]=g;else if(4<(b=l[g]))y[w++]=65533,p+=b-1;else{for(g&=b===2?31:b===3?15:7;1<b&&p<m;)g=g<<6|63&h[p++],b--;1<b?y[w++]=65533:g<65536?y[w++]=g:(g-=65536,y[w++]=55296|g>>10&1023,y[w++]=56320|1023&g)}return u(y,w)},i.utf8border=function(h,f){var p;for((f=f||h.length)>h.length&&(f=h.length),p=f-1;0<=p&&(192&h[p])==128;)p--;return p<0||p===0?f:p+l[h[p]]>f?p:f}},{"./common":41}],43:[function(r,n,i){n.exports=function(s,a,o,l){for(var c=65535&s|0,u=s>>>16&65535|0,h=0;o!==0;){for(o-=h=2e3<o?2e3:o;u=u+(c=c+a[l++]|0)|0,--h;);c%=65521,u%=65521}return c|u<<16|0}},{}],44:[function(r,n,i){n.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(r,n,i){var s=function(){for(var a,o=[],l=0;l<256;l++){a=l;for(var c=0;c<8;c++)a=1&a?3988292384^a>>>1:a>>>1;o[l]=a}return o}();n.exports=function(a,o,l,c){var u=s,h=c+l;a^=-1;for(var f=c;f<h;f++)a=a>>>8^u[255&(a^o[f])];return-1^a}},{}],46:[function(r,n,i){var s,a=r("../utils/common"),o=r("./trees"),l=r("./adler32"),c=r("./crc32"),u=r("./messages"),h=0,f=4,p=0,w=-2,g=-1,b=4,m=2,y=8,_=9,k=286,T=30,I=19,O=2*k+1,L=15,N=3,H=258,ee=H+N+1,R=42,W=113,P=1,B=2,ne=3,X=4;function re(E,te){return E.msg=u[te],te}function Z(E){return(E<<1)-(4<E?9:0)}function le(E){for(var te=E.length;0<=--te;)E[te]=0}function G(E){var te=E.state,C=te.pending;C>E.avail_out&&(C=E.avail_out),C!==0&&(a.arraySet(E.output,te.pending_buf,te.pending_out,C,E.next_out),E.next_out+=C,te.pending_out+=C,E.total_out+=C,E.avail_out-=C,te.pending-=C,te.pending===0&&(te.pending_out=0))}function D(E,te){o._tr_flush_block(E,0<=E.block_start?E.block_start:-1,E.strstart-E.block_start,te),E.block_start=E.strstart,G(E.strm)}function J(E,te){E.pending_buf[E.pending++]=te}function Q(E,te){E.pending_buf[E.pending++]=te>>>8&255,E.pending_buf[E.pending++]=255&te}function ie(E,te){var C,v,x=E.max_chain_length,S=E.strstart,z=E.prev_length,Y=E.nice_match,$=E.strstart>E.w_size-ee?E.strstart-(E.w_size-ee):0,oe=E.window,fe=E.w_mask,de=E.prev,ge=E.strstart+H,xe=oe[S+z-1],ke=oe[S+z];E.prev_length>=E.good_match&&(x>>=2),Y>E.lookahead&&(Y=E.lookahead);do if(oe[(C=te)+z]===ke&&oe[C+z-1]===xe&&oe[C]===oe[S]&&oe[++C]===oe[S+1]){S+=2,C++;do;while(oe[++S]===oe[++C]&&oe[++S]===oe[++C]&&oe[++S]===oe[++C]&&oe[++S]===oe[++C]&&oe[++S]===oe[++C]&&oe[++S]===oe[++C]&&oe[++S]===oe[++C]&&oe[++S]===oe[++C]&&S<ge);if(v=H-(ge-S),S=ge-H,z<v){if(E.match_start=te,Y<=(z=v))break;xe=oe[S+z-1],ke=oe[S+z]}}while((te=de[te&fe])>$&&--x!=0);return z<=E.lookahead?z:E.lookahead}function q(E){var te,C,v,x,S,z,Y,$,oe,fe,de=E.w_size;do{if(x=E.window_size-E.lookahead-E.strstart,E.strstart>=de+(de-ee)){for(a.arraySet(E.window,E.window,de,de,0),E.match_start-=de,E.strstart-=de,E.block_start-=de,te=C=E.hash_size;v=E.head[--te],E.head[te]=de<=v?v-de:0,--C;);for(te=C=de;v=E.prev[--te],E.prev[te]=de<=v?v-de:0,--C;);x+=de}if(E.strm.avail_in===0)break;if(z=E.strm,Y=E.window,$=E.strstart+E.lookahead,oe=x,fe=void 0,fe=z.avail_in,oe<fe&&(fe=oe),C=fe===0?0:(z.avail_in-=fe,a.arraySet(Y,z.input,z.next_in,fe,$),z.state.wrap===1?z.adler=l(z.adler,Y,fe,$):z.state.wrap===2&&(z.adler=c(z.adler,Y,fe,$)),z.next_in+=fe,z.total_in+=fe,fe),E.lookahead+=C,E.lookahead+E.insert>=N)for(S=E.strstart-E.insert,E.ins_h=E.window[S],E.ins_h=(E.ins_h<<E.hash_shift^E.window[S+1])&E.hash_mask;E.insert&&(E.ins_h=(E.ins_h<<E.hash_shift^E.window[S+N-1])&E.hash_mask,E.prev[S&E.w_mask]=E.head[E.ins_h],E.head[E.ins_h]=S,S++,E.insert--,!(E.lookahead+E.insert<N)););}while(E.lookahead<ee&&E.strm.avail_in!==0)}function j(E,te){for(var C,v;;){if(E.lookahead<ee){if(q(E),E.lookahead<ee&&te===h)return P;if(E.lookahead===0)break}if(C=0,E.lookahead>=N&&(E.ins_h=(E.ins_h<<E.hash_shift^E.window[E.strstart+N-1])&E.hash_mask,C=E.prev[E.strstart&E.w_mask]=E.head[E.ins_h],E.head[E.ins_h]=E.strstart),C!==0&&E.strstart-C<=E.w_size-ee&&(E.match_length=ie(E,C)),E.match_length>=N)if(v=o._tr_tally(E,E.strstart-E.match_start,E.match_length-N),E.lookahead-=E.match_length,E.match_length<=E.max_lazy_match&&E.lookahead>=N){for(E.match_length--;E.strstart++,E.ins_h=(E.ins_h<<E.hash_shift^E.window[E.strstart+N-1])&E.hash_mask,C=E.prev[E.strstart&E.w_mask]=E.head[E.ins_h],E.head[E.ins_h]=E.strstart,--E.match_length!=0;);E.strstart++}else E.strstart+=E.match_length,E.match_length=0,E.ins_h=E.window[E.strstart],E.ins_h=(E.ins_h<<E.hash_shift^E.window[E.strstart+1])&E.hash_mask;else v=o._tr_tally(E,0,E.window[E.strstart]),E.lookahead--,E.strstart++;if(v&&(D(E,!1),E.strm.avail_out===0))return P}return E.insert=E.strstart<N-1?E.strstart:N-1,te===f?(D(E,!0),E.strm.avail_out===0?ne:X):E.last_lit&&(D(E,!1),E.strm.avail_out===0)?P:B}function A(E,te){for(var C,v,x;;){if(E.lookahead<ee){if(q(E),E.lookahead<ee&&te===h)return P;if(E.lookahead===0)break}if(C=0,E.lookahead>=N&&(E.ins_h=(E.ins_h<<E.hash_shift^E.window[E.strstart+N-1])&E.hash_mask,C=E.prev[E.strstart&E.w_mask]=E.head[E.ins_h],E.head[E.ins_h]=E.strstart),E.prev_length=E.match_length,E.prev_match=E.match_start,E.match_length=N-1,C!==0&&E.prev_length<E.max_lazy_match&&E.strstart-C<=E.w_size-ee&&(E.match_length=ie(E,C),E.match_length<=5&&(E.strategy===1||E.match_length===N&&4096<E.strstart-E.match_start)&&(E.match_length=N-1)),E.prev_length>=N&&E.match_length<=E.prev_length){for(x=E.strstart+E.lookahead-N,v=o._tr_tally(E,E.strstart-1-E.prev_match,E.prev_length-N),E.lookahead-=E.prev_length-1,E.prev_length-=2;++E.strstart<=x&&(E.ins_h=(E.ins_h<<E.hash_shift^E.window[E.strstart+N-1])&E.hash_mask,C=E.prev[E.strstart&E.w_mask]=E.head[E.ins_h],E.head[E.ins_h]=E.strstart),--E.prev_length!=0;);if(E.match_available=0,E.match_length=N-1,E.strstart++,v&&(D(E,!1),E.strm.avail_out===0))return P}else if(E.match_available){if((v=o._tr_tally(E,0,E.window[E.strstart-1]))&&D(E,!1),E.strstart++,E.lookahead--,E.strm.avail_out===0)return P}else E.match_available=1,E.strstart++,E.lookahead--}return E.match_available&&(v=o._tr_tally(E,0,E.window[E.strstart-1]),E.match_available=0),E.insert=E.strstart<N-1?E.strstart:N-1,te===f?(D(E,!0),E.strm.avail_out===0?ne:X):E.last_lit&&(D(E,!1),E.strm.avail_out===0)?P:B}function V(E,te,C,v,x){this.good_length=E,this.max_lazy=te,this.nice_length=C,this.max_chain=v,this.func=x}function U(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=y,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new a.Buf16(2*O),this.dyn_dtree=new a.Buf16(2*(2*T+1)),this.bl_tree=new a.Buf16(2*(2*I+1)),le(this.dyn_ltree),le(this.dyn_dtree),le(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new a.Buf16(L+1),this.heap=new a.Buf16(2*k+1),le(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new a.Buf16(2*k+1),le(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function M(E){var te;return E&&E.state?(E.total_in=E.total_out=0,E.data_type=m,(te=E.state).pending=0,te.pending_out=0,te.wrap<0&&(te.wrap=-te.wrap),te.status=te.wrap?R:W,E.adler=te.wrap===2?0:1,te.last_flush=h,o._tr_init(te),p):re(E,w)}function F(E){var te=M(E);return te===p&&function(C){C.window_size=2*C.w_size,le(C.head),C.max_lazy_match=s[C.level].max_lazy,C.good_match=s[C.level].good_length,C.nice_match=s[C.level].nice_length,C.max_chain_length=s[C.level].max_chain,C.strstart=0,C.block_start=0,C.lookahead=0,C.insert=0,C.match_length=C.prev_length=N-1,C.match_available=0,C.ins_h=0}(E.state),te}function se(E,te,C,v,x,S){if(!E)return w;var z=1;if(te===g&&(te=6),v<0?(z=0,v=-v):15<v&&(z=2,v-=16),x<1||_<x||C!==y||v<8||15<v||te<0||9<te||S<0||b<S)return re(E,w);v===8&&(v=9);var Y=new U;return(E.state=Y).strm=E,Y.wrap=z,Y.gzhead=null,Y.w_bits=v,Y.w_size=1<<Y.w_bits,Y.w_mask=Y.w_size-1,Y.hash_bits=x+7,Y.hash_size=1<<Y.hash_bits,Y.hash_mask=Y.hash_size-1,Y.hash_shift=~~((Y.hash_bits+N-1)/N),Y.window=new a.Buf8(2*Y.w_size),Y.head=new a.Buf16(Y.hash_size),Y.prev=new a.Buf16(Y.w_size),Y.lit_bufsize=1<<x+6,Y.pending_buf_size=4*Y.lit_bufsize,Y.pending_buf=new a.Buf8(Y.pending_buf_size),Y.d_buf=1*Y.lit_bufsize,Y.l_buf=3*Y.lit_bufsize,Y.level=te,Y.strategy=S,Y.method=C,F(E)}s=[new V(0,0,0,0,function(E,te){var C=65535;for(C>E.pending_buf_size-5&&(C=E.pending_buf_size-5);;){if(E.lookahead<=1){if(q(E),E.lookahead===0&&te===h)return P;if(E.lookahead===0)break}E.strstart+=E.lookahead,E.lookahead=0;var v=E.block_start+C;if((E.strstart===0||E.strstart>=v)&&(E.lookahead=E.strstart-v,E.strstart=v,D(E,!1),E.strm.avail_out===0)||E.strstart-E.block_start>=E.w_size-ee&&(D(E,!1),E.strm.avail_out===0))return P}return E.insert=0,te===f?(D(E,!0),E.strm.avail_out===0?ne:X):(E.strstart>E.block_start&&(D(E,!1),E.strm.avail_out),P)}),new V(4,4,8,4,j),new V(4,5,16,8,j),new V(4,6,32,32,j),new V(4,4,16,16,A),new V(8,16,32,32,A),new V(8,16,128,128,A),new V(8,32,128,256,A),new V(32,128,258,1024,A),new V(32,258,258,4096,A)],i.deflateInit=function(E,te){return se(E,te,y,15,8,0)},i.deflateInit2=se,i.deflateReset=F,i.deflateResetKeep=M,i.deflateSetHeader=function(E,te){return E&&E.state?E.state.wrap!==2?w:(E.state.gzhead=te,p):w},i.deflate=function(E,te){var C,v,x,S;if(!E||!E.state||5<te||te<0)return E?re(E,w):w;if(v=E.state,!E.output||!E.input&&E.avail_in!==0||v.status===666&&te!==f)return re(E,E.avail_out===0?-5:w);if(v.strm=E,C=v.last_flush,v.last_flush=te,v.status===R)if(v.wrap===2)E.adler=0,J(v,31),J(v,139),J(v,8),v.gzhead?(J(v,(v.gzhead.text?1:0)+(v.gzhead.hcrc?2:0)+(v.gzhead.extra?4:0)+(v.gzhead.name?8:0)+(v.gzhead.comment?16:0)),J(v,255&v.gzhead.time),J(v,v.gzhead.time>>8&255),J(v,v.gzhead.time>>16&255),J(v,v.gzhead.time>>24&255),J(v,v.level===9?2:2<=v.strategy||v.level<2?4:0),J(v,255&v.gzhead.os),v.gzhead.extra&&v.gzhead.extra.length&&(J(v,255&v.gzhead.extra.length),J(v,v.gzhead.extra.length>>8&255)),v.gzhead.hcrc&&(E.adler=c(E.adler,v.pending_buf,v.pending,0)),v.gzindex=0,v.status=69):(J(v,0),J(v,0),J(v,0),J(v,0),J(v,0),J(v,v.level===9?2:2<=v.strategy||v.level<2?4:0),J(v,3),v.status=W);else{var z=y+(v.w_bits-8<<4)<<8;z|=(2<=v.strategy||v.level<2?0:v.level<6?1:v.level===6?2:3)<<6,v.strstart!==0&&(z|=32),z+=31-z%31,v.status=W,Q(v,z),v.strstart!==0&&(Q(v,E.adler>>>16),Q(v,65535&E.adler)),E.adler=1}if(v.status===69)if(v.gzhead.extra){for(x=v.pending;v.gzindex<(65535&v.gzhead.extra.length)&&(v.pending!==v.pending_buf_size||(v.gzhead.hcrc&&v.pending>x&&(E.adler=c(E.adler,v.pending_buf,v.pending-x,x)),G(E),x=v.pending,v.pending!==v.pending_buf_size));)J(v,255&v.gzhead.extra[v.gzindex]),v.gzindex++;v.gzhead.hcrc&&v.pending>x&&(E.adler=c(E.adler,v.pending_buf,v.pending-x,x)),v.gzindex===v.gzhead.extra.length&&(v.gzindex=0,v.status=73)}else v.status=73;if(v.status===73)if(v.gzhead.name){x=v.pending;do{if(v.pending===v.pending_buf_size&&(v.gzhead.hcrc&&v.pending>x&&(E.adler=c(E.adler,v.pending_buf,v.pending-x,x)),G(E),x=v.pending,v.pending===v.pending_buf_size)){S=1;break}S=v.gzindex<v.gzhead.name.length?255&v.gzhead.name.charCodeAt(v.gzindex++):0,J(v,S)}while(S!==0);v.gzhead.hcrc&&v.pending>x&&(E.adler=c(E.adler,v.pending_buf,v.pending-x,x)),S===0&&(v.gzindex=0,v.status=91)}else v.status=91;if(v.status===91)if(v.gzhead.comment){x=v.pending;do{if(v.pending===v.pending_buf_size&&(v.gzhead.hcrc&&v.pending>x&&(E.adler=c(E.adler,v.pending_buf,v.pending-x,x)),G(E),x=v.pending,v.pending===v.pending_buf_size)){S=1;break}S=v.gzindex<v.gzhead.comment.length?255&v.gzhead.comment.charCodeAt(v.gzindex++):0,J(v,S)}while(S!==0);v.gzhead.hcrc&&v.pending>x&&(E.adler=c(E.adler,v.pending_buf,v.pending-x,x)),S===0&&(v.status=103)}else v.status=103;if(v.status===103&&(v.gzhead.hcrc?(v.pending+2>v.pending_buf_size&&G(E),v.pending+2<=v.pending_buf_size&&(J(v,255&E.adler),J(v,E.adler>>8&255),E.adler=0,v.status=W)):v.status=W),v.pending!==0){if(G(E),E.avail_out===0)return v.last_flush=-1,p}else if(E.avail_in===0&&Z(te)<=Z(C)&&te!==f)return re(E,-5);if(v.status===666&&E.avail_in!==0)return re(E,-5);if(E.avail_in!==0||v.lookahead!==0||te!==h&&v.status!==666){var Y=v.strategy===2?function($,oe){for(var fe;;){if($.lookahead===0&&(q($),$.lookahead===0)){if(oe===h)return P;break}if($.match_length=0,fe=o._tr_tally($,0,$.window[$.strstart]),$.lookahead--,$.strstart++,fe&&(D($,!1),$.strm.avail_out===0))return P}return $.insert=0,oe===f?(D($,!0),$.strm.avail_out===0?ne:X):$.last_lit&&(D($,!1),$.strm.avail_out===0)?P:B}(v,te):v.strategy===3?function($,oe){for(var fe,de,ge,xe,ke=$.window;;){if($.lookahead<=H){if(q($),$.lookahead<=H&&oe===h)return P;if($.lookahead===0)break}if($.match_length=0,$.lookahead>=N&&0<$.strstart&&(de=ke[ge=$.strstart-1])===ke[++ge]&&de===ke[++ge]&&de===ke[++ge]){xe=$.strstart+H;do;while(de===ke[++ge]&&de===ke[++ge]&&de===ke[++ge]&&de===ke[++ge]&&de===ke[++ge]&&de===ke[++ge]&&de===ke[++ge]&&de===ke[++ge]&&ge<xe);$.match_length=H-(xe-ge),$.match_length>$.lookahead&&($.match_length=$.lookahead)}if($.match_length>=N?(fe=o._tr_tally($,1,$.match_length-N),$.lookahead-=$.match_length,$.strstart+=$.match_length,$.match_length=0):(fe=o._tr_tally($,0,$.window[$.strstart]),$.lookahead--,$.strstart++),fe&&(D($,!1),$.strm.avail_out===0))return P}return $.insert=0,oe===f?(D($,!0),$.strm.avail_out===0?ne:X):$.last_lit&&(D($,!1),$.strm.avail_out===0)?P:B}(v,te):s[v.level].func(v,te);if(Y!==ne&&Y!==X||(v.status=666),Y===P||Y===ne)return E.avail_out===0&&(v.last_flush=-1),p;if(Y===B&&(te===1?o._tr_align(v):te!==5&&(o._tr_stored_block(v,0,0,!1),te===3&&(le(v.head),v.lookahead===0&&(v.strstart=0,v.block_start=0,v.insert=0))),G(E),E.avail_out===0))return v.last_flush=-1,p}return te!==f?p:v.wrap<=0?1:(v.wrap===2?(J(v,255&E.adler),J(v,E.adler>>8&255),J(v,E.adler>>16&255),J(v,E.adler>>24&255),J(v,255&E.total_in),J(v,E.total_in>>8&255),J(v,E.total_in>>16&255),J(v,E.total_in>>24&255)):(Q(v,E.adler>>>16),Q(v,65535&E.adler)),G(E),0<v.wrap&&(v.wrap=-v.wrap),v.pending!==0?p:1)},i.deflateEnd=function(E){var te;return E&&E.state?(te=E.state.status)!==R&&te!==69&&te!==73&&te!==91&&te!==103&&te!==W&&te!==666?re(E,w):(E.state=null,te===W?re(E,-3):p):w},i.deflateSetDictionary=function(E,te){var C,v,x,S,z,Y,$,oe,fe=te.length;if(!E||!E.state||(S=(C=E.state).wrap)===2||S===1&&C.status!==R||C.lookahead)return w;for(S===1&&(E.adler=l(E.adler,te,fe,0)),C.wrap=0,fe>=C.w_size&&(S===0&&(le(C.head),C.strstart=0,C.block_start=0,C.insert=0),oe=new a.Buf8(C.w_size),a.arraySet(oe,te,fe-C.w_size,C.w_size,0),te=oe,fe=C.w_size),z=E.avail_in,Y=E.next_in,$=E.input,E.avail_in=fe,E.next_in=0,E.input=te,q(C);C.lookahead>=N;){for(v=C.strstart,x=C.lookahead-(N-1);C.ins_h=(C.ins_h<<C.hash_shift^C.window[v+N-1])&C.hash_mask,C.prev[v&C.w_mask]=C.head[C.ins_h],C.head[C.ins_h]=v,v++,--x;);C.strstart=v,C.lookahead=N-1,q(C)}return C.strstart+=C.lookahead,C.block_start=C.strstart,C.insert=C.lookahead,C.lookahead=0,C.match_length=C.prev_length=N-1,C.match_available=0,E.next_in=Y,E.input=$,E.avail_in=z,C.wrap=S,p},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(r,n,i){n.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(r,n,i){n.exports=function(s,a){var o,l,c,u,h,f,p,w,g,b,m,y,_,k,T,I,O,L,N,H,ee,R,W,P,B;o=s.state,l=s.next_in,P=s.input,c=l+(s.avail_in-5),u=s.next_out,B=s.output,h=u-(a-s.avail_out),f=u+(s.avail_out-257),p=o.dmax,w=o.wsize,g=o.whave,b=o.wnext,m=o.window,y=o.hold,_=o.bits,k=o.lencode,T=o.distcode,I=(1<<o.lenbits)-1,O=(1<<o.distbits)-1;e:do{_<15&&(y+=P[l++]<<_,_+=8,y+=P[l++]<<_,_+=8),L=k[y&I];t:for(;;){if(y>>>=N=L>>>24,_-=N,(N=L>>>16&255)===0)B[u++]=65535&L;else{if(!(16&N)){if(!(64&N)){L=k[(65535&L)+(y&(1<<N)-1)];continue t}if(32&N){o.mode=12;break e}s.msg="invalid literal/length code",o.mode=30;break e}H=65535&L,(N&=15)&&(_<N&&(y+=P[l++]<<_,_+=8),H+=y&(1<<N)-1,y>>>=N,_-=N),_<15&&(y+=P[l++]<<_,_+=8,y+=P[l++]<<_,_+=8),L=T[y&O];r:for(;;){if(y>>>=N=L>>>24,_-=N,!(16&(N=L>>>16&255))){if(!(64&N)){L=T[(65535&L)+(y&(1<<N)-1)];continue r}s.msg="invalid distance code",o.mode=30;break e}if(ee=65535&L,_<(N&=15)&&(y+=P[l++]<<_,(_+=8)<N&&(y+=P[l++]<<_,_+=8)),p<(ee+=y&(1<<N)-1)){s.msg="invalid distance too far back",o.mode=30;break e}if(y>>>=N,_-=N,(N=u-h)<ee){if(g<(N=ee-N)&&o.sane){s.msg="invalid distance too far back",o.mode=30;break e}if(W=m,(R=0)===b){if(R+=w-N,N<H){for(H-=N;B[u++]=m[R++],--N;);R=u-ee,W=B}}else if(b<N){if(R+=w+b-N,(N-=b)<H){for(H-=N;B[u++]=m[R++],--N;);if(R=0,b<H){for(H-=N=b;B[u++]=m[R++],--N;);R=u-ee,W=B}}}else if(R+=b-N,N<H){for(H-=N;B[u++]=m[R++],--N;);R=u-ee,W=B}for(;2<H;)B[u++]=W[R++],B[u++]=W[R++],B[u++]=W[R++],H-=3;H&&(B[u++]=W[R++],1<H&&(B[u++]=W[R++]))}else{for(R=u-ee;B[u++]=B[R++],B[u++]=B[R++],B[u++]=B[R++],2<(H-=3););H&&(B[u++]=B[R++],1<H&&(B[u++]=B[R++]))}break}}break}}while(l<c&&u<f);l-=H=_>>3,y&=(1<<(_-=H<<3))-1,s.next_in=l,s.next_out=u,s.avail_in=l<c?c-l+5:5-(l-c),s.avail_out=u<f?f-u+257:257-(u-f),o.hold=y,o.bits=_}},{}],49:[function(r,n,i){var s=r("../utils/common"),a=r("./adler32"),o=r("./crc32"),l=r("./inffast"),c=r("./inftrees"),u=1,h=2,f=0,p=-2,w=1,g=852,b=592;function m(R){return(R>>>24&255)+(R>>>8&65280)+((65280&R)<<8)+((255&R)<<24)}function y(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function _(R){var W;return R&&R.state?(W=R.state,R.total_in=R.total_out=W.total=0,R.msg="",W.wrap&&(R.adler=1&W.wrap),W.mode=w,W.last=0,W.havedict=0,W.dmax=32768,W.head=null,W.hold=0,W.bits=0,W.lencode=W.lendyn=new s.Buf32(g),W.distcode=W.distdyn=new s.Buf32(b),W.sane=1,W.back=-1,f):p}function k(R){var W;return R&&R.state?((W=R.state).wsize=0,W.whave=0,W.wnext=0,_(R)):p}function T(R,W){var P,B;return R&&R.state?(B=R.state,W<0?(P=0,W=-W):(P=1+(W>>4),W<48&&(W&=15)),W&&(W<8||15<W)?p:(B.window!==null&&B.wbits!==W&&(B.window=null),B.wrap=P,B.wbits=W,k(R))):p}function I(R,W){var P,B;return R?(B=new y,(R.state=B).window=null,(P=T(R,W))!==f&&(R.state=null),P):p}var O,L,N=!0;function H(R){if(N){var W;for(O=new s.Buf32(512),L=new s.Buf32(32),W=0;W<144;)R.lens[W++]=8;for(;W<256;)R.lens[W++]=9;for(;W<280;)R.lens[W++]=7;for(;W<288;)R.lens[W++]=8;for(c(u,R.lens,0,288,O,0,R.work,{bits:9}),W=0;W<32;)R.lens[W++]=5;c(h,R.lens,0,32,L,0,R.work,{bits:5}),N=!1}R.lencode=O,R.lenbits=9,R.distcode=L,R.distbits=5}function ee(R,W,P,B){var ne,X=R.state;return X.window===null&&(X.wsize=1<<X.wbits,X.wnext=0,X.whave=0,X.window=new s.Buf8(X.wsize)),B>=X.wsize?(s.arraySet(X.window,W,P-X.wsize,X.wsize,0),X.wnext=0,X.whave=X.wsize):(B<(ne=X.wsize-X.wnext)&&(ne=B),s.arraySet(X.window,W,P-B,ne,X.wnext),(B-=ne)?(s.arraySet(X.window,W,P-B,B,0),X.wnext=B,X.whave=X.wsize):(X.wnext+=ne,X.wnext===X.wsize&&(X.wnext=0),X.whave<X.wsize&&(X.whave+=ne))),0}i.inflateReset=k,i.inflateReset2=T,i.inflateResetKeep=_,i.inflateInit=function(R){return I(R,15)},i.inflateInit2=I,i.inflate=function(R,W){var P,B,ne,X,re,Z,le,G,D,J,Q,ie,q,j,A,V,U,M,F,se,E,te,C,v,x=0,S=new s.Buf8(4),z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!R||!R.state||!R.output||!R.input&&R.avail_in!==0)return p;(P=R.state).mode===12&&(P.mode=13),re=R.next_out,ne=R.output,le=R.avail_out,X=R.next_in,B=R.input,Z=R.avail_in,G=P.hold,D=P.bits,J=Z,Q=le,te=f;e:for(;;)switch(P.mode){case w:if(P.wrap===0){P.mode=13;break}for(;D<16;){if(Z===0)break e;Z--,G+=B[X++]<<D,D+=8}if(2&P.wrap&&G===35615){S[P.check=0]=255&G,S[1]=G>>>8&255,P.check=o(P.check,S,2,0),D=G=0,P.mode=2;break}if(P.flags=0,P.head&&(P.head.done=!1),!(1&P.wrap)||(((255&G)<<8)+(G>>8))%31){R.msg="incorrect header check",P.mode=30;break}if((15&G)!=8){R.msg="unknown compression method",P.mode=30;break}if(D-=4,E=8+(15&(G>>>=4)),P.wbits===0)P.wbits=E;else if(E>P.wbits){R.msg="invalid window size",P.mode=30;break}P.dmax=1<<E,R.adler=P.check=1,P.mode=512&G?10:12,D=G=0;break;case 2:for(;D<16;){if(Z===0)break e;Z--,G+=B[X++]<<D,D+=8}if(P.flags=G,(255&P.flags)!=8){R.msg="unknown compression method",P.mode=30;break}if(57344&P.flags){R.msg="unknown header flags set",P.mode=30;break}P.head&&(P.head.text=G>>8&1),512&P.flags&&(S[0]=255&G,S[1]=G>>>8&255,P.check=o(P.check,S,2,0)),D=G=0,P.mode=3;case 3:for(;D<32;){if(Z===0)break e;Z--,G+=B[X++]<<D,D+=8}P.head&&(P.head.time=G),512&P.flags&&(S[0]=255&G,S[1]=G>>>8&255,S[2]=G>>>16&255,S[3]=G>>>24&255,P.check=o(P.check,S,4,0)),D=G=0,P.mode=4;case 4:for(;D<16;){if(Z===0)break e;Z--,G+=B[X++]<<D,D+=8}P.head&&(P.head.xflags=255&G,P.head.os=G>>8),512&P.flags&&(S[0]=255&G,S[1]=G>>>8&255,P.check=o(P.check,S,2,0)),D=G=0,P.mode=5;case 5:if(1024&P.flags){for(;D<16;){if(Z===0)break e;Z--,G+=B[X++]<<D,D+=8}P.length=G,P.head&&(P.head.extra_len=G),512&P.flags&&(S[0]=255&G,S[1]=G>>>8&255,P.check=o(P.check,S,2,0)),D=G=0}else P.head&&(P.head.extra=null);P.mode=6;case 6:if(1024&P.flags&&(Z<(ie=P.length)&&(ie=Z),ie&&(P.head&&(E=P.head.extra_len-P.length,P.head.extra||(P.head.extra=new Array(P.head.extra_len)),s.arraySet(P.head.extra,B,X,ie,E)),512&P.flags&&(P.check=o(P.check,B,ie,X)),Z-=ie,X+=ie,P.length-=ie),P.length))break e;P.length=0,P.mode=7;case 7:if(2048&P.flags){if(Z===0)break e;for(ie=0;E=B[X+ie++],P.head&&E&&P.length<65536&&(P.head.name+=String.fromCharCode(E)),E&&ie<Z;);if(512&P.flags&&(P.check=o(P.check,B,ie,X)),Z-=ie,X+=ie,E)break e}else P.head&&(P.head.name=null);P.length=0,P.mode=8;case 8:if(4096&P.flags){if(Z===0)break e;for(ie=0;E=B[X+ie++],P.head&&E&&P.length<65536&&(P.head.comment+=String.fromCharCode(E)),E&&ie<Z;);if(512&P.flags&&(P.check=o(P.check,B,ie,X)),Z-=ie,X+=ie,E)break e}else P.head&&(P.head.comment=null);P.mode=9;case 9:if(512&P.flags){for(;D<16;){if(Z===0)break e;Z--,G+=B[X++]<<D,D+=8}if(G!==(65535&P.check)){R.msg="header crc mismatch",P.mode=30;break}D=G=0}P.head&&(P.head.hcrc=P.flags>>9&1,P.head.done=!0),R.adler=P.check=0,P.mode=12;break;case 10:for(;D<32;){if(Z===0)break e;Z--,G+=B[X++]<<D,D+=8}R.adler=P.check=m(G),D=G=0,P.mode=11;case 11:if(P.havedict===0)return R.next_out=re,R.avail_out=le,R.next_in=X,R.avail_in=Z,P.hold=G,P.bits=D,2;R.adler=P.check=1,P.mode=12;case 12:if(W===5||W===6)break e;case 13:if(P.last){G>>>=7&D,D-=7&D,P.mode=27;break}for(;D<3;){if(Z===0)break e;Z--,G+=B[X++]<<D,D+=8}switch(P.last=1&G,D-=1,3&(G>>>=1)){case 0:P.mode=14;break;case 1:if(H(P),P.mode=20,W!==6)break;G>>>=2,D-=2;break e;case 2:P.mode=17;break;case 3:R.msg="invalid block type",P.mode=30}G>>>=2,D-=2;break;case 14:for(G>>>=7&D,D-=7&D;D<32;){if(Z===0)break e;Z--,G+=B[X++]<<D,D+=8}if((65535&G)!=(G>>>16^65535)){R.msg="invalid stored block lengths",P.mode=30;break}if(P.length=65535&G,D=G=0,P.mode=15,W===6)break e;case 15:P.mode=16;case 16:if(ie=P.length){if(Z<ie&&(ie=Z),le<ie&&(ie=le),ie===0)break e;s.arraySet(ne,B,X,ie,re),Z-=ie,X+=ie,le-=ie,re+=ie,P.length-=ie;break}P.mode=12;break;case 17:for(;D<14;){if(Z===0)break e;Z--,G+=B[X++]<<D,D+=8}if(P.nlen=257+(31&G),G>>>=5,D-=5,P.ndist=1+(31&G),G>>>=5,D-=5,P.ncode=4+(15&G),G>>>=4,D-=4,286<P.nlen||30<P.ndist){R.msg="too many length or distance symbols",P.mode=30;break}P.have=0,P.mode=18;case 18:for(;P.have<P.ncode;){for(;D<3;){if(Z===0)break e;Z--,G+=B[X++]<<D,D+=8}P.lens[z[P.have++]]=7&G,G>>>=3,D-=3}for(;P.have<19;)P.lens[z[P.have++]]=0;if(P.lencode=P.lendyn,P.lenbits=7,C={bits:P.lenbits},te=c(0,P.lens,0,19,P.lencode,0,P.work,C),P.lenbits=C.bits,te){R.msg="invalid code lengths set",P.mode=30;break}P.have=0,P.mode=19;case 19:for(;P.have<P.nlen+P.ndist;){for(;V=(x=P.lencode[G&(1<<P.lenbits)-1])>>>16&255,U=65535&x,!((A=x>>>24)<=D);){if(Z===0)break e;Z--,G+=B[X++]<<D,D+=8}if(U<16)G>>>=A,D-=A,P.lens[P.have++]=U;else{if(U===16){for(v=A+2;D<v;){if(Z===0)break e;Z--,G+=B[X++]<<D,D+=8}if(G>>>=A,D-=A,P.have===0){R.msg="invalid bit length repeat",P.mode=30;break}E=P.lens[P.have-1],ie=3+(3&G),G>>>=2,D-=2}else if(U===17){for(v=A+3;D<v;){if(Z===0)break e;Z--,G+=B[X++]<<D,D+=8}D-=A,E=0,ie=3+(7&(G>>>=A)),G>>>=3,D-=3}else{for(v=A+7;D<v;){if(Z===0)break e;Z--,G+=B[X++]<<D,D+=8}D-=A,E=0,ie=11+(127&(G>>>=A)),G>>>=7,D-=7}if(P.have+ie>P.nlen+P.ndist){R.msg="invalid bit length repeat",P.mode=30;break}for(;ie--;)P.lens[P.have++]=E}}if(P.mode===30)break;if(P.lens[256]===0){R.msg="invalid code -- missing end-of-block",P.mode=30;break}if(P.lenbits=9,C={bits:P.lenbits},te=c(u,P.lens,0,P.nlen,P.lencode,0,P.work,C),P.lenbits=C.bits,te){R.msg="invalid literal/lengths set",P.mode=30;break}if(P.distbits=6,P.distcode=P.distdyn,C={bits:P.distbits},te=c(h,P.lens,P.nlen,P.ndist,P.distcode,0,P.work,C),P.distbits=C.bits,te){R.msg="invalid distances set",P.mode=30;break}if(P.mode=20,W===6)break e;case 20:P.mode=21;case 21:if(6<=Z&&258<=le){R.next_out=re,R.avail_out=le,R.next_in=X,R.avail_in=Z,P.hold=G,P.bits=D,l(R,Q),re=R.next_out,ne=R.output,le=R.avail_out,X=R.next_in,B=R.input,Z=R.avail_in,G=P.hold,D=P.bits,P.mode===12&&(P.back=-1);break}for(P.back=0;V=(x=P.lencode[G&(1<<P.lenbits)-1])>>>16&255,U=65535&x,!((A=x>>>24)<=D);){if(Z===0)break e;Z--,G+=B[X++]<<D,D+=8}if(V&&!(240&V)){for(M=A,F=V,se=U;V=(x=P.lencode[se+((G&(1<<M+F)-1)>>M)])>>>16&255,U=65535&x,!(M+(A=x>>>24)<=D);){if(Z===0)break e;Z--,G+=B[X++]<<D,D+=8}G>>>=M,D-=M,P.back+=M}if(G>>>=A,D-=A,P.back+=A,P.length=U,V===0){P.mode=26;break}if(32&V){P.back=-1,P.mode=12;break}if(64&V){R.msg="invalid literal/length code",P.mode=30;break}P.extra=15&V,P.mode=22;case 22:if(P.extra){for(v=P.extra;D<v;){if(Z===0)break e;Z--,G+=B[X++]<<D,D+=8}P.length+=G&(1<<P.extra)-1,G>>>=P.extra,D-=P.extra,P.back+=P.extra}P.was=P.length,P.mode=23;case 23:for(;V=(x=P.distcode[G&(1<<P.distbits)-1])>>>16&255,U=65535&x,!((A=x>>>24)<=D);){if(Z===0)break e;Z--,G+=B[X++]<<D,D+=8}if(!(240&V)){for(M=A,F=V,se=U;V=(x=P.distcode[se+((G&(1<<M+F)-1)>>M)])>>>16&255,U=65535&x,!(M+(A=x>>>24)<=D);){if(Z===0)break e;Z--,G+=B[X++]<<D,D+=8}G>>>=M,D-=M,P.back+=M}if(G>>>=A,D-=A,P.back+=A,64&V){R.msg="invalid distance code",P.mode=30;break}P.offset=U,P.extra=15&V,P.mode=24;case 24:if(P.extra){for(v=P.extra;D<v;){if(Z===0)break e;Z--,G+=B[X++]<<D,D+=8}P.offset+=G&(1<<P.extra)-1,G>>>=P.extra,D-=P.extra,P.back+=P.extra}if(P.offset>P.dmax){R.msg="invalid distance too far back",P.mode=30;break}P.mode=25;case 25:if(le===0)break e;if(ie=Q-le,P.offset>ie){if((ie=P.offset-ie)>P.whave&&P.sane){R.msg="invalid distance too far back",P.mode=30;break}q=ie>P.wnext?(ie-=P.wnext,P.wsize-ie):P.wnext-ie,ie>P.length&&(ie=P.length),j=P.window}else j=ne,q=re-P.offset,ie=P.length;for(le<ie&&(ie=le),le-=ie,P.length-=ie;ne[re++]=j[q++],--ie;);P.length===0&&(P.mode=21);break;case 26:if(le===0)break e;ne[re++]=P.length,le--,P.mode=21;break;case 27:if(P.wrap){for(;D<32;){if(Z===0)break e;Z--,G|=B[X++]<<D,D+=8}if(Q-=le,R.total_out+=Q,P.total+=Q,Q&&(R.adler=P.check=P.flags?o(P.check,ne,Q,re-Q):a(P.check,ne,Q,re-Q)),Q=le,(P.flags?G:m(G))!==P.check){R.msg="incorrect data check",P.mode=30;break}D=G=0}P.mode=28;case 28:if(P.wrap&&P.flags){for(;D<32;){if(Z===0)break e;Z--,G+=B[X++]<<D,D+=8}if(G!==(4294967295&P.total)){R.msg="incorrect length check",P.mode=30;break}D=G=0}P.mode=29;case 29:te=1;break e;case 30:te=-3;break e;case 31:return-4;case 32:default:return p}return R.next_out=re,R.avail_out=le,R.next_in=X,R.avail_in=Z,P.hold=G,P.bits=D,(P.wsize||Q!==R.avail_out&&P.mode<30&&(P.mode<27||W!==4))&&ee(R,R.output,R.next_out,Q-R.avail_out)?(P.mode=31,-4):(J-=R.avail_in,Q-=R.avail_out,R.total_in+=J,R.total_out+=Q,P.total+=Q,P.wrap&&Q&&(R.adler=P.check=P.flags?o(P.check,ne,Q,R.next_out-Q):a(P.check,ne,Q,R.next_out-Q)),R.data_type=P.bits+(P.last?64:0)+(P.mode===12?128:0)+(P.mode===20||P.mode===15?256:0),(J==0&&Q===0||W===4)&&te===f&&(te=-5),te)},i.inflateEnd=function(R){if(!R||!R.state)return p;var W=R.state;return W.window&&(W.window=null),R.state=null,f},i.inflateGetHeader=function(R,W){var P;return R&&R.state&&2&(P=R.state).wrap?((P.head=W).done=!1,f):p},i.inflateSetDictionary=function(R,W){var P,B=W.length;return R&&R.state?(P=R.state).wrap!==0&&P.mode!==11?p:P.mode===11&&a(1,W,B,0)!==P.check?-3:ee(R,W,B,B)?(P.mode=31,-4):(P.havedict=1,f):p},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(r,n,i){var s=r("../utils/common"),a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],c=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];n.exports=function(u,h,f,p,w,g,b,m){var y,_,k,T,I,O,L,N,H,ee=m.bits,R=0,W=0,P=0,B=0,ne=0,X=0,re=0,Z=0,le=0,G=0,D=null,J=0,Q=new s.Buf16(16),ie=new s.Buf16(16),q=null,j=0;for(R=0;R<=15;R++)Q[R]=0;for(W=0;W<p;W++)Q[h[f+W]]++;for(ne=ee,B=15;1<=B&&Q[B]===0;B--);if(B<ne&&(ne=B),B===0)return w[g++]=20971520,w[g++]=20971520,m.bits=1,0;for(P=1;P<B&&Q[P]===0;P++);for(ne<P&&(ne=P),R=Z=1;R<=15;R++)if(Z<<=1,(Z-=Q[R])<0)return-1;if(0<Z&&(u===0||B!==1))return-1;for(ie[1]=0,R=1;R<15;R++)ie[R+1]=ie[R]+Q[R];for(W=0;W<p;W++)h[f+W]!==0&&(b[ie[h[f+W]]++]=W);if(O=u===0?(D=q=b,19):u===1?(D=a,J-=257,q=o,j-=257,256):(D=l,q=c,-1),R=P,I=g,re=W=G=0,k=-1,T=(le=1<<(X=ne))-1,u===1&&852<le||u===2&&592<le)return 1;for(;;){for(L=R-re,H=b[W]<O?(N=0,b[W]):b[W]>O?(N=q[j+b[W]],D[J+b[W]]):(N=96,0),y=1<<R-re,P=_=1<<X;w[I+(G>>re)+(_-=y)]=L<<24|N<<16|H|0,_!==0;);for(y=1<<R-1;G&y;)y>>=1;if(y!==0?(G&=y-1,G+=y):G=0,W++,--Q[R]==0){if(R===B)break;R=h[f+b[W]]}if(ne<R&&(G&T)!==k){for(re===0&&(re=ne),I+=P,Z=1<<(X=R-re);X+re<B&&!((Z-=Q[X+re])<=0);)X++,Z<<=1;if(le+=1<<X,u===1&&852<le||u===2&&592<le)return 1;w[k=G&T]=ne<<24|X<<16|I-g|0}}return G!==0&&(w[I+G]=R-re<<24|64<<16|0),m.bits=ne,0}},{"../utils/common":41}],51:[function(r,n,i){n.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(r,n,i){var s=r("../utils/common"),a=0,o=1;function l(x){for(var S=x.length;0<=--S;)x[S]=0}var c=0,u=29,h=256,f=h+1+u,p=30,w=19,g=2*f+1,b=15,m=16,y=7,_=256,k=16,T=17,I=18,O=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],L=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],N=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],H=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ee=new Array(2*(f+2));l(ee);var R=new Array(2*p);l(R);var W=new Array(512);l(W);var P=new Array(256);l(P);var B=new Array(u);l(B);var ne,X,re,Z=new Array(p);function le(x,S,z,Y,$){this.static_tree=x,this.extra_bits=S,this.extra_base=z,this.elems=Y,this.max_length=$,this.has_stree=x&&x.length}function G(x,S){this.dyn_tree=x,this.max_code=0,this.stat_desc=S}function D(x){return x<256?W[x]:W[256+(x>>>7)]}function J(x,S){x.pending_buf[x.pending++]=255&S,x.pending_buf[x.pending++]=S>>>8&255}function Q(x,S,z){x.bi_valid>m-z?(x.bi_buf|=S<<x.bi_valid&65535,J(x,x.bi_buf),x.bi_buf=S>>m-x.bi_valid,x.bi_valid+=z-m):(x.bi_buf|=S<<x.bi_valid&65535,x.bi_valid+=z)}function ie(x,S,z){Q(x,z[2*S],z[2*S+1])}function q(x,S){for(var z=0;z|=1&x,x>>>=1,z<<=1,0<--S;);return z>>>1}function j(x,S,z){var Y,$,oe=new Array(b+1),fe=0;for(Y=1;Y<=b;Y++)oe[Y]=fe=fe+z[Y-1]<<1;for($=0;$<=S;$++){var de=x[2*$+1];de!==0&&(x[2*$]=q(oe[de]++,de))}}function A(x){var S;for(S=0;S<f;S++)x.dyn_ltree[2*S]=0;for(S=0;S<p;S++)x.dyn_dtree[2*S]=0;for(S=0;S<w;S++)x.bl_tree[2*S]=0;x.dyn_ltree[2*_]=1,x.opt_len=x.static_len=0,x.last_lit=x.matches=0}function V(x){8<x.bi_valid?J(x,x.bi_buf):0<x.bi_valid&&(x.pending_buf[x.pending++]=x.bi_buf),x.bi_buf=0,x.bi_valid=0}function U(x,S,z,Y){var $=2*S,oe=2*z;return x[$]<x[oe]||x[$]===x[oe]&&Y[S]<=Y[z]}function M(x,S,z){for(var Y=x.heap[z],$=z<<1;$<=x.heap_len&&($<x.heap_len&&U(S,x.heap[$+1],x.heap[$],x.depth)&&$++,!U(S,Y,x.heap[$],x.depth));)x.heap[z]=x.heap[$],z=$,$<<=1;x.heap[z]=Y}function F(x,S,z){var Y,$,oe,fe,de=0;if(x.last_lit!==0)for(;Y=x.pending_buf[x.d_buf+2*de]<<8|x.pending_buf[x.d_buf+2*de+1],$=x.pending_buf[x.l_buf+de],de++,Y===0?ie(x,$,S):(ie(x,(oe=P[$])+h+1,S),(fe=O[oe])!==0&&Q(x,$-=B[oe],fe),ie(x,oe=D(--Y),z),(fe=L[oe])!==0&&Q(x,Y-=Z[oe],fe)),de<x.last_lit;);ie(x,_,S)}function se(x,S){var z,Y,$,oe=S.dyn_tree,fe=S.stat_desc.static_tree,de=S.stat_desc.has_stree,ge=S.stat_desc.elems,xe=-1;for(x.heap_len=0,x.heap_max=g,z=0;z<ge;z++)oe[2*z]!==0?(x.heap[++x.heap_len]=xe=z,x.depth[z]=0):oe[2*z+1]=0;for(;x.heap_len<2;)oe[2*($=x.heap[++x.heap_len]=xe<2?++xe:0)]=1,x.depth[$]=0,x.opt_len--,de&&(x.static_len-=fe[2*$+1]);for(S.max_code=xe,z=x.heap_len>>1;1<=z;z--)M(x,oe,z);for($=ge;z=x.heap[1],x.heap[1]=x.heap[x.heap_len--],M(x,oe,1),Y=x.heap[1],x.heap[--x.heap_max]=z,x.heap[--x.heap_max]=Y,oe[2*$]=oe[2*z]+oe[2*Y],x.depth[$]=(x.depth[z]>=x.depth[Y]?x.depth[z]:x.depth[Y])+1,oe[2*z+1]=oe[2*Y+1]=$,x.heap[1]=$++,M(x,oe,1),2<=x.heap_len;);x.heap[--x.heap_max]=x.heap[1],function(ke,Lt){var Sn,Rr,_a,at,ol,ld,Xr=Lt.dyn_tree,gg=Lt.max_code,Vk=Lt.stat_desc.static_tree,Kk=Lt.stat_desc.has_stree,qk=Lt.stat_desc.extra_bits,yg=Lt.stat_desc.extra_base,ka=Lt.stat_desc.max_length,ll=0;for(at=0;at<=b;at++)ke.bl_count[at]=0;for(Xr[2*ke.heap[ke.heap_max]+1]=0,Sn=ke.heap_max+1;Sn<g;Sn++)ka<(at=Xr[2*Xr[2*(Rr=ke.heap[Sn])+1]+1]+1)&&(at=ka,ll++),Xr[2*Rr+1]=at,gg<Rr||(ke.bl_count[at]++,ol=0,yg<=Rr&&(ol=qk[Rr-yg]),ld=Xr[2*Rr],ke.opt_len+=ld*(at+ol),Kk&&(ke.static_len+=ld*(Vk[2*Rr+1]+ol)));if(ll!==0){do{for(at=ka-1;ke.bl_count[at]===0;)at--;ke.bl_count[at]--,ke.bl_count[at+1]+=2,ke.bl_count[ka]--,ll-=2}while(0<ll);for(at=ka;at!==0;at--)for(Rr=ke.bl_count[at];Rr!==0;)gg<(_a=ke.heap[--Sn])||(Xr[2*_a+1]!==at&&(ke.opt_len+=(at-Xr[2*_a+1])*Xr[2*_a],Xr[2*_a+1]=at),Rr--)}}(x,S),j(oe,xe,x.bl_count)}function E(x,S,z){var Y,$,oe=-1,fe=S[1],de=0,ge=7,xe=4;for(fe===0&&(ge=138,xe=3),S[2*(z+1)+1]=65535,Y=0;Y<=z;Y++)$=fe,fe=S[2*(Y+1)+1],++de<ge&&$===fe||(de<xe?x.bl_tree[2*$]+=de:$!==0?($!==oe&&x.bl_tree[2*$]++,x.bl_tree[2*k]++):de<=10?x.bl_tree[2*T]++:x.bl_tree[2*I]++,oe=$,xe=(de=0)===fe?(ge=138,3):$===fe?(ge=6,3):(ge=7,4))}function te(x,S,z){var Y,$,oe=-1,fe=S[1],de=0,ge=7,xe=4;for(fe===0&&(ge=138,xe=3),Y=0;Y<=z;Y++)if($=fe,fe=S[2*(Y+1)+1],!(++de<ge&&$===fe)){if(de<xe)for(;ie(x,$,x.bl_tree),--de!=0;);else $!==0?($!==oe&&(ie(x,$,x.bl_tree),de--),ie(x,k,x.bl_tree),Q(x,de-3,2)):de<=10?(ie(x,T,x.bl_tree),Q(x,de-3,3)):(ie(x,I,x.bl_tree),Q(x,de-11,7));oe=$,xe=(de=0)===fe?(ge=138,3):$===fe?(ge=6,3):(ge=7,4)}}l(Z);var C=!1;function v(x,S,z,Y){Q(x,(c<<1)+(Y?1:0),3),function($,oe,fe,de){V($),J($,fe),J($,~fe),s.arraySet($.pending_buf,$.window,oe,fe,$.pending),$.pending+=fe}(x,S,z)}i._tr_init=function(x){C||(function(){var S,z,Y,$,oe,fe=new Array(b+1);for($=Y=0;$<u-1;$++)for(B[$]=Y,S=0;S<1<<O[$];S++)P[Y++]=$;for(P[Y-1]=$,$=oe=0;$<16;$++)for(Z[$]=oe,S=0;S<1<<L[$];S++)W[oe++]=$;for(oe>>=7;$<p;$++)for(Z[$]=oe<<7,S=0;S<1<<L[$]-7;S++)W[256+oe++]=$;for(z=0;z<=b;z++)fe[z]=0;for(S=0;S<=143;)ee[2*S+1]=8,S++,fe[8]++;for(;S<=255;)ee[2*S+1]=9,S++,fe[9]++;for(;S<=279;)ee[2*S+1]=7,S++,fe[7]++;for(;S<=287;)ee[2*S+1]=8,S++,fe[8]++;for(j(ee,f+1,fe),S=0;S<p;S++)R[2*S+1]=5,R[2*S]=q(S,5);ne=new le(ee,O,h+1,f,b),X=new le(R,L,0,p,b),re=new le(new Array(0),N,0,w,y)}(),C=!0),x.l_desc=new G(x.dyn_ltree,ne),x.d_desc=new G(x.dyn_dtree,X),x.bl_desc=new G(x.bl_tree,re),x.bi_buf=0,x.bi_valid=0,A(x)},i._tr_stored_block=v,i._tr_flush_block=function(x,S,z,Y){var $,oe,fe=0;0<x.level?(x.strm.data_type===2&&(x.strm.data_type=function(de){var ge,xe=4093624447;for(ge=0;ge<=31;ge++,xe>>>=1)if(1&xe&&de.dyn_ltree[2*ge]!==0)return a;if(de.dyn_ltree[18]!==0||de.dyn_ltree[20]!==0||de.dyn_ltree[26]!==0)return o;for(ge=32;ge<h;ge++)if(de.dyn_ltree[2*ge]!==0)return o;return a}(x)),se(x,x.l_desc),se(x,x.d_desc),fe=function(de){var ge;for(E(de,de.dyn_ltree,de.l_desc.max_code),E(de,de.dyn_dtree,de.d_desc.max_code),se(de,de.bl_desc),ge=w-1;3<=ge&&de.bl_tree[2*H[ge]+1]===0;ge--);return de.opt_len+=3*(ge+1)+5+5+4,ge}(x),$=x.opt_len+3+7>>>3,(oe=x.static_len+3+7>>>3)<=$&&($=oe)):$=oe=z+5,z+4<=$&&S!==-1?v(x,S,z,Y):x.strategy===4||oe===$?(Q(x,2+(Y?1:0),3),F(x,ee,R)):(Q(x,4+(Y?1:0),3),function(de,ge,xe,ke){var Lt;for(Q(de,ge-257,5),Q(de,xe-1,5),Q(de,ke-4,4),Lt=0;Lt<ke;Lt++)Q(de,de.bl_tree[2*H[Lt]+1],3);te(de,de.dyn_ltree,ge-1),te(de,de.dyn_dtree,xe-1)}(x,x.l_desc.max_code+1,x.d_desc.max_code+1,fe+1),F(x,x.dyn_ltree,x.dyn_dtree)),A(x),Y&&V(x)},i._tr_tally=function(x,S,z){return x.pending_buf[x.d_buf+2*x.last_lit]=S>>>8&255,x.pending_buf[x.d_buf+2*x.last_lit+1]=255&S,x.pending_buf[x.l_buf+x.last_lit]=255&z,x.last_lit++,S===0?x.dyn_ltree[2*z]++:(x.matches++,S--,x.dyn_ltree[2*(P[z]+h+1)]++,x.dyn_dtree[2*D(S)]++),x.last_lit===x.lit_bufsize-1},i._tr_align=function(x){Q(x,2,3),ie(x,_,ee),function(S){S.bi_valid===16?(J(S,S.bi_buf),S.bi_buf=0,S.bi_valid=0):8<=S.bi_valid&&(S.pending_buf[S.pending++]=255&S.bi_buf,S.bi_buf>>=8,S.bi_valid-=8)}(x)}},{"../utils/common":41}],53:[function(r,n,i){n.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(r,n,i){(function(s){(function(a,o){if(!a.setImmediate){var l,c,u,h,f=1,p={},w=!1,g=a.document,b=Object.getPrototypeOf&&Object.getPrototypeOf(a);b=b&&b.setTimeout?b:a,l={}.toString.call(a.process)==="[object process]"?function(k){Ae.nextTick(function(){y(k)})}:function(){if(a.postMessage&&!a.importScripts){var k=!0,T=a.onmessage;return a.onmessage=function(){k=!1},a.postMessage("","*"),a.onmessage=T,k}}()?(h="setImmediate$"+Math.random()+"$",a.addEventListener?a.addEventListener("message",_,!1):a.attachEvent("onmessage",_),function(k){a.postMessage(h+k,"*")}):a.MessageChannel?((u=new MessageChannel).port1.onmessage=function(k){y(k.data)},function(k){u.port2.postMessage(k)}):g&&"onreadystatechange"in g.createElement("script")?(c=g.documentElement,function(k){var T=g.createElement("script");T.onreadystatechange=function(){y(k),T.onreadystatechange=null,c.removeChild(T),T=null},c.appendChild(T)}):function(k){setTimeout(y,0,k)},b.setImmediate=function(k){typeof k!="function"&&(k=new Function(""+k));for(var T=new Array(arguments.length-1),I=0;I<T.length;I++)T[I]=arguments[I+1];var O={callback:k,args:T};return p[f]=O,l(f),f++},b.clearImmediate=m}function m(k){delete p[k]}function y(k){if(w)setTimeout(y,0,k);else{var T=p[k];if(T){w=!0;try{(function(I){var O=I.callback,L=I.args;switch(L.length){case 0:O();break;case 1:O(L[0]);break;case 2:O(L[0],L[1]);break;case 3:O(L[0],L[1],L[2]);break;default:O.apply(o,L)}})(T)}finally{m(k),w=!1}}}}function _(k){k.source===a&&typeof k.data=="string"&&k.data.indexOf(h)===0&&y(+k.data.slice(h.length))}})(typeof self>"u"?s===void 0?this:s:self)}).call(this,typeof qr<"u"?qr:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(Wk);var f3=Wk.exports;const p3=$_(f3);var mu={exports:{}},m3={"&":"&amp;",'"':"&quot;","'":"&apos;","<":"&lt;",">":"&gt;"};function g3(t){return t&&t.replace?t.replace(/([&"<>'])/g,function(e,r){return m3[r]}):t}var y3=g3,Ep=y3,Rv=ig.Stream,w3="    ";function v3(t,e){typeof e!="object"&&(e={indent:e});var r=e.stream?new Rv:null,n="",i=!1,s=e.indent?e.indent===!0?w3:e.indent:"",a=!0;function o(f){a?Ae.nextTick(f):f()}function l(f,p){if(p!==void 0&&(n+=p),f&&!i&&(r=r||new Rv,i=!0),f&&i){var w=n;o(function(){r.emit("data",w)}),n=""}}function c(f,p){mg(l,gu(f,s,s?1:0),p)}function u(){if(r){var f=n;o(function(){r.emit("data",f),r.emit("end"),r.readable=!1,r.emit("close")})}}function h(f){var p=f.encoding||"UTF-8",w={version:"1.0",encoding:p};f.standalone&&(w.standalone=f.standalone),c({"?xml":{_attr:w}}),n=n.replace("/>","?>")}return o(function(){a=!1}),e.declaration&&h(e.declaration),t&&t.forEach?t.forEach(function(f,p){var w;p+1===t.length&&(w=u),c(f,w)}):c(t,u),r?(r.readable=!0,r):n}function x3(){var t=Array.prototype.slice.call(arguments),e={_elem:gu(t)};return e.push=function(r){if(!this.append)throw new Error("not assigned to a parent!");var n=this,i=this._elem.indent;mg(this.append,gu(r,i,this._elem.icount+(i?1:0)),function(){n.append(!0)})},e.close=function(r){r!==void 0&&this.push(r),this.end&&this.end()},e}function b3(t,e){return new Array(e||0).join(t||"")}function gu(t,e,r){r=r||0;var n=b3(e,r),i,s=t,a=!1;if(typeof t=="object"){var o=Object.keys(t);if(i=o[0],s=t[i],s&&s._elem)return s._elem.name=i,s._elem.icount=r,s._elem.indent=e,s._elem.indents=n,s._elem.interrupt=s,s._elem}var l=[],c=[],u;function h(f){var p=Object.keys(f);p.forEach(function(w){l.push(_3(w,f[w]))})}switch(typeof s){case"object":if(s===null)break;s._attr&&h(s._attr),s._cdata&&c.push(("<![CDATA["+s._cdata).replace(/\]\]>/g,"]]]]><![CDATA[>")+"]]>"),s.forEach&&(u=!1,c.push(""),s.forEach(function(f){if(typeof f=="object"){var p=Object.keys(f)[0];p=="_attr"?h(f._attr):c.push(gu(f,e,r+1))}else c.pop(),u=!0,c.push(Ep(f))}),u||c.push(""));break;default:c.push(Ep(s))}return{name:i,interrupt:a,attributes:l,content:c,icount:r,indents:n,indent:e}}function mg(t,e,r){if(typeof e!="object")return t(!1,e);var n=e.interrupt?1:e.content.length;function i(){for(;e.content.length;){var a=e.content.shift();if(a!==void 0){if(s(a))return;mg(t,a)}}t(!1,(n>1?e.indents:"")+(e.name?"</"+e.name+">":"")+(e.indent&&!r?`
`:"")),r&&r()}function s(a){return a.interrupt?(a.interrupt.append=t,a.interrupt.end=i,a.interrupt=!1,t(!0),!0):!1}if(t(!1,e.indents+(e.name?"<"+e.name:"")+(e.attributes.length?" "+e.attributes.join(" "):"")+(n?e.name?">":"":e.name?"/>":"")+(e.indent&&n>1?`
`:"")),!n)return t(!1,e.indent?`
`:"");s(e)||i()}function _3(t,e){return t+'="'+Ep(e)+'"'}mu.exports=v3;mu.exports.element=mu.exports.Element=x3;var k3=mu.exports;const ot=$_(k3),Dv=0,Iv=32,S3=32,E3=(t,e)=>{const r=e.replace(/-/g,"");if(r.length!==S3)throw new Error(`Error: Cannot extract GUID from font filename: ${e}`);const i=r.replace(/(..)/g,"$1 ").trim().split(" ").map(l=>parseInt(l,16));i.reverse();const a=t.slice(Dv,Iv).map((l,c)=>l^i[c%i.length]);return Buffer.concat([t.slice(0,Dv),a,t.slice(Iv)])};class T3{format(e,r={stack:[]}){const n=e.prepForXml(r);if(n)return n;throw Error("XMLComponent did not format correctly")}}class N3{replace(e,r,n){let i=e;return r.forEach((s,a)=>{i=i.replace(new RegExp(`{${s.fileName}}`,"g"),(n+a).toString())}),i}getMediaData(e,r){return r.Array.filter(n=>e.search(`{${n.fileName}}`)>0)}}class A3{replace(e,r){let n=e;for(const i of r)n=n.replace(new RegExp(`{${i.reference}-${i.instance}}`,"g"),i.numId.toString());return n}}class j3{constructor(){ce(this,"formatter"),ce(this,"imageReplacer"),ce(this,"numberingReplacer"),this.formatter=new T3,this.imageReplacer=new N3,this.numberingReplacer=new A3}compile(e,r){const n=new p3,i=this.xmlifyFile(e,r),s=new Map(Object.entries(i));for(const[,a]of s)if(Array.isArray(a))for(const o of a)n.file(o.path,o.data);else n.file(a.path,a.data);for(const{stream:a,fileName:o}of e.Media.Array)n.file(`word/media/${o}`,a);for(const{data:a,name:o,fontKey:l}of e.FontTable.fontOptionsWithKey){const[c]=o.split(".");n.file(`word/fonts/${c}.odttf`,E3(a,l))}return n}xmlifyFile(e,r){const n=e.Document.Relationships.RelationshipCount+1,i=ot(this.formatter.format(e.Document.View,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),s=this.imageReplacer.getMediaData(i,e.Media);return{Relationships:{data:(s.forEach((a,o)=>{e.Document.Relationships.createRelationship(n+o,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${a.fileName}`)}),ot(this.formatter.format(e.Document.Relationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}})),path:"word/_rels/document.xml.rels"},Document:{data:(()=>{const a=this.imageReplacer.replace(i,s,n);return this.numberingReplacer.replace(a,e.Numbering.ConcreteNumbering)})(),path:"word/document.xml"},Styles:{data:(()=>{const a=ot(this.formatter.format(e.Styles,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}});return this.numberingReplacer.replace(a,e.Numbering.ConcreteNumbering)})(),path:"word/styles.xml"},Properties:{data:ot(this.formatter.format(e.CoreProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/core.xml"},Numbering:{data:ot(this.formatter.format(e.Numbering,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/numbering.xml"},FileRelationships:{data:ot(this.formatter.format(e.FileRelationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"_rels/.rels"},HeaderRelationships:e.Headers.map((a,o)=>{const l=ot(this.formatter.format(a.View,{viewWrapper:a,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(l,e.Media).forEach((u,h)=>{a.Relationships.createRelationship(h,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${u.fileName}`)}),{data:ot(this.formatter.format(a.Relationships,{viewWrapper:a,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:`word/_rels/header${o+1}.xml.rels`}}),FooterRelationships:e.Footers.map((a,o)=>{const l=ot(this.formatter.format(a.View,{viewWrapper:a,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(l,e.Media).forEach((u,h)=>{a.Relationships.createRelationship(h,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${u.fileName}`)}),{data:ot(this.formatter.format(a.Relationships,{viewWrapper:a,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:`word/_rels/footer${o+1}.xml.rels`}}),Headers:e.Headers.map((a,o)=>{const l=ot(this.formatter.format(a.View,{viewWrapper:a,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),c=this.imageReplacer.getMediaData(l,e.Media),u=this.imageReplacer.replace(l,c,0);return{data:this.numberingReplacer.replace(u,e.Numbering.ConcreteNumbering),path:`word/header${o+1}.xml`}}),Footers:e.Footers.map((a,o)=>{const l=ot(this.formatter.format(a.View,{viewWrapper:a,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),c=this.imageReplacer.getMediaData(l,e.Media),u=this.imageReplacer.replace(l,c,0);return{data:this.numberingReplacer.replace(u,e.Numbering.ConcreteNumbering),path:`word/footer${o+1}.xml`}}),ContentTypes:{data:ot(this.formatter.format(e.ContentTypes,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"[Content_Types].xml"},CustomProperties:{data:ot(this.formatter.format(e.CustomProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/custom.xml"},AppProperties:{data:ot(this.formatter.format(e.AppProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/app.xml"},FootNotes:{data:ot(this.formatter.format(e.FootNotes.View,{viewWrapper:e.FootNotes,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"word/footnotes.xml"},FootNotesRelationships:{data:ot(this.formatter.format(e.FootNotes.Relationships,{viewWrapper:e.FootNotes,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"word/_rels/footnotes.xml.rels"},Settings:{data:ot(this.formatter.format(e.Settings,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/settings.xml"},Comments:{data:ot(this.formatter.format(e.Comments,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/comments.xml"},FontTable:{data:ot(this.formatter.format(e.FontTable.View,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/fontTable.xml"},FontTableRelationships:{data:ot(this.formatter.format(e.FontTable.Relationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"word/_rels/fontTable.xml.rels"}}}}const C3={NONE:"",WITH_2_BLANKS:"  ",WITH_4_BLANKS:"    ",WITH_TAB:"	"},Wa=t=>t===!0?C3.WITH_2_BLANKS:t===!1?void 0:t;class al{static toString(e,r){return Yl(this,null,function*(){return yield this.compiler.compile(e,Wa(r)).generateAsync({type:"string",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})})}static toBuffer(e,r){return Yl(this,null,function*(){return yield this.compiler.compile(e,Wa(r)).generateAsync({type:"nodebuffer",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})})}static toBase64String(e,r){return Yl(this,null,function*(){return yield this.compiler.compile(e,Wa(r)).generateAsync({type:"base64",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})})}static toBlob(e,r){return Yl(this,null,function*(){return yield this.compiler.compile(e,Wa(r)).generateAsync({type:"blob",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})})}static toStream(e,r){const n=new ig.Stream;return this.compiler.compile(e,Wa(r)).generateAsync({type:"nodebuffer",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"}).then(s=>{n.emit("data",s),n.emit("end")}),n}}ce(al,"compiler",new j3);var Hk={exports:{}};(function(t,e){(function(r,n){n()})(_t,function(){function r(c,u){return typeof u>"u"?u={autoBom:!1}:typeof u!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),u={autoBom:!u}),u.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(c.type)?new Blob(["\uFEFF",c],{type:c.type}):c}function n(c,u,h){var f=new XMLHttpRequest;f.open("GET",c),f.responseType="blob",f.onload=function(){l(f.response,u,h)},f.onerror=function(){console.error("could not download file")},f.send()}function i(c){var u=new XMLHttpRequest;u.open("HEAD",c,!1);try{u.send()}catch{}return 200<=u.status&&299>=u.status}function s(c){try{c.dispatchEvent(new MouseEvent("click"))}catch{var u=document.createEvent("MouseEvents");u.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),c.dispatchEvent(u)}}var a=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof _t=="object"&&_t.global===_t?_t:void 0,o=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=a.saveAs||(typeof window!="object"||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(c,u,h){var f=a.URL||a.webkitURL,p=document.createElement("a");u=u||c.name||"download",p.download=u,p.rel="noopener",typeof c=="string"?(p.href=c,p.origin===location.origin?s(p):i(p.href)?n(c,u,h):s(p,p.target="_blank")):(p.href=f.createObjectURL(c),setTimeout(function(){f.revokeObjectURL(p.href)},4e4),setTimeout(function(){s(p)},0))}:"msSaveOrOpenBlob"in navigator?function(c,u,h){if(u=u||c.name||"download",typeof c!="string")navigator.msSaveOrOpenBlob(r(c,h),u);else if(i(c))n(c,u,h);else{var f=document.createElement("a");f.href=c,f.target="_blank",setTimeout(function(){s(f)})}}:function(c,u,h,f){if(f=f||open("","_blank"),f&&(f.document.title=f.document.body.innerText="downloading..."),typeof c=="string")return n(c,u,h);var p=c.type==="application/octet-stream",w=/constructor/i.test(a.HTMLElement)||a.safari,g=/CriOS\/[\d]+/.test(navigator.userAgent);if((g||p&&w||o)&&typeof FileReader<"u"){var b=new FileReader;b.onloadend=function(){var _=b.result;_=g?_:_.replace(/^data:[^;]*;/,"data:attachment/file;"),f?f.location.href=_:location=_,f=null},b.readAsDataURL(c)}else{var m=a.URL||a.webkitURL,y=m.createObjectURL(c);f?f.location=y:location.href=y,f=null,setTimeout(function(){m.revokeObjectURL(y)},4e4)}});a.saveAs=l.saveAs=l,t.exports=l})})(Hk);var qo=Hk.exports;function P3({onClose:t}){const[e,r]=K.useState({studentName:"",teacherName:"",teacherSignature:"",lessons:[]}),n=()=>{r({...e,lessons:[...e.lessons,{date:"",time:"",subject:"",duration:1,price:0}]})},i=l=>{r({...e,lessons:e.lessons.filter((c,u)=>u!==l)})},s=(l,c,u)=>{const h=[...e.lessons];h[l]={...h[l],[c]:u},r({...e,lessons:h})},a=()=>e.lessons.reduce((l,c)=>l+c.price*c.duration,0),o=async()=>{try{const l=new Te({children:[new Ee({text:"ÖZEL DERS FATURASI",bold:!0,size:32})],alignment:ze.CENTER,spacing:{after:400}}),c=[new Te({children:[new Ee({text:"Öğrenci: ",bold:!0}),new Ee(e.studentName)],spacing:{after:200}}),new Te({children:[new Ee({text:"Öğretmen: ",bold:!0}),new Ee(e.teacherName)],spacing:{after:400}})],u=[new ur({children:["Tarih","Saat","Ders","Süre (Saat)","Saat Ücreti (₺)","Toplam (₺)"].map(m=>new Ye({children:[new Te({children:[new Ee({text:m,bold:!0})],alignment:ze.CENTER})],verticalAlign:ze.CENTER}))}),...e.lessons.map(m=>new ur({children:[m.date,m.time,m.subject,m.duration.toString(),m.price.toString(),(m.price*m.duration).toString()].map(y=>new Ye({children:[new Te({children:[new Ee(y)],alignment:ze.CENTER})],verticalAlign:ze.CENTER}))}))],h=new yo({rows:u,width:{size:100,type:"pct"},borders:{top:{style:zt.SINGLE,size:1},bottom:{style:zt.SINGLE,size:1},left:{style:zt.SINGLE,size:1},right:{style:zt.SINGLE,size:1},insideHorizontal:{style:zt.SINGLE,size:1},insideVertical:{style:zt.SINGLE,size:1}}}),f=new Te({children:[new Ee({text:`Toplam Tutar: ₺${a()}`,bold:!0,size:28})],alignment:ze.RIGHT,spacing:{before:400,after:400}}),p=new Te({children:[new Ee({text:"Öğretmen İmzası: ",bold:!0}),new Ee(e.teacherSignature)],alignment:ze.RIGHT,spacing:{before:800}}),w=new od({sections:[{properties:{},children:[l,...c,h,f,p]}]}),g=await al.toBlob(w),b=`fatura_${e.studentName.replace(/\s+/g,"_")}_${new Date().toISOString().split("T")[0]}.docx`;qo.saveAs(g,b),ye.success("Fatura başarıyla oluşturuldu"),t()}catch(l){console.error("Fatura oluşturma hatası:",l),ye.error("Fatura oluşturulurken bir hata oluştu")}};return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4",children:d.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl max-w-4xl w-full",children:d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"bg-gradient-to-br from-indigo-100 to-purple-100 dark:from-indigo-900 dark:to-purple-900 p-2 rounded-lg",children:d.jsx(ta,{className:"h-6 w-6 text-indigo-600 dark:text-indigo-400"})}),d.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Fatura Oluştur"})]}),d.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300",children:d.jsx(ii,{className:"h-6 w-6"})})]}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Öğrenci Adı"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"text",value:e.studentName,onChange:l=>r({...e,studentName:l.target.value}),className:"pl-10 pr-4 py-2 w-full rounded-lg border border-gray-300 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"}),d.jsx(Lo,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Öğretmen Adı"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"text",value:e.teacherName,onChange:l=>r({...e,teacherName:l.target.value}),className:"pl-10 pr-4 py-2 w-full rounded-lg border border-gray-300 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"}),d.jsx(ya,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Öğretmen İmzası"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"text",value:e.teacherSignature,onChange:l=>r({...e,teacherSignature:l.target.value}),className:"pl-10 pr-4 py-2 w-full rounded-lg border border-gray-300 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"}),d.jsx(ZC,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Dersler"}),d.jsxs("button",{onClick:n,className:"flex items-center px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors duration-200",children:[d.jsx(xn,{className:"h-5 w-5 mr-2"}),"Ders Ekle"]})]}),e.lessons.map((l,c)=>d.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg space-y-4",children:d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Tarih"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"date",value:l.date,onChange:u=>s(c,"date",u.target.value),className:"pl-10 pr-4 py-2 w-full rounded-lg border border-gray-300 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"}),d.jsx(Zi,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Saat"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"time",value:l.time,onChange:u=>s(c,"time",u.target.value),className:"pl-10 pr-4 py-2 w-full rounded-lg border border-gray-300 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"}),d.jsx(Cr,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})]}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Ders"}),d.jsx("input",{type:"text",value:l.subject,onChange:u=>s(c,"subject",u.target.value),className:"w-full rounded-lg border border-gray-300 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white px-4 py-2",placeholder:"Matematik"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Süre (Saat)"}),d.jsx("input",{type:"number",min:"0.5",step:"0.5",value:l.duration,onChange:u=>s(c,"duration",parseFloat(u.target.value)),className:"w-full rounded-lg border border-gray-300 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white px-4 py-2"})]}),d.jsxs("div",{className:"relative",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Saat Ücreti (₺)"}),d.jsxs("div",{className:"flex items-center",children:[d.jsxs("div",{className:"relative flex-1",children:[d.jsx("input",{type:"number",min:"0",value:l.price,onChange:u=>s(c,"price",parseFloat(u.target.value)),className:"pl-10 pr-12 py-2 w-full rounded-lg border border-gray-300 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"}),d.jsx(Hi,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]}),d.jsx("button",{onClick:()=>i(c),className:"ml-2 p-2 text-red-600 hover:bg-red-50 rounded-lg dark:text-red-400 dark:hover:bg-red-900/50",children:d.jsx(es,{className:"h-5 w-5"})})]})]})]})},c)),e.lessons.length===0&&d.jsxs("div",{className:"text-center py-12 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[d.jsx(ta,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),d.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Henüz ders eklenmemiş"}),d.jsxs("button",{onClick:n,className:"mt-4 inline-flex items-center px-4 py-2 text-sm font-medium text-indigo-600 bg-indigo-100 border border-transparent rounded-md hover:bg-indigo-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 dark:bg-indigo-900 dark:text-indigo-300 dark:hover:bg-indigo-800",children:[d.jsx(xn,{className:"h-4 w-4 mr-2"}),"İlk Dersi Ekle"]})]}),e.lessons.length>0&&d.jsxs("div",{className:"flex items-center justify-between pt-4 border-t dark:border-gray-700",children:[d.jsxs("div",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["Toplam Tutar: ₺",a().toLocaleString("tr-TR")]}),d.jsxs("button",{onClick:o,className:"flex items-center px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors duration-200",children:[d.jsx(ea,{className:"h-5 w-5 mr-2"}),"Fatura Oluştur"]})]})]})]})]})})})}function O3({onClose:t}){const[e,r]=K.useState(!0),[n,i]=K.useState(!1),[s,a]=K.useState([]),[o,l]=K.useState(""),[c,u]=K.useState([]),[h,f]=K.useState(""),[p,w]=K.useState("");K.useEffect(()=>{g()},[]),K.useEffect(()=>{o&&b(o)},[o]);const g=async()=>{try{const{data:{user:_}}=await me.auth.getUser();if(!_)throw new Error("Kullanıcı bulunamadı");const{data:k}=await me.from("teacher_profiles").select("id, full_name").eq("user_id",_.id).single();if(!k)throw new Error("Öğretmen profili bulunamadı");w(k.full_name);const{data:T,error:I}=await me.from("students").select("id, full_name, grade").eq("teacher_id",k.id).order("full_name");if(I)throw I;a(T||[])}catch(_){console.error("Students fetch error:",_),ye.error("Öğrenciler yüklenirken bir hata oluştu")}finally{r(!1)}},b=async _=>{try{const{data:k,error:T}=await me.from("lessons").select("*").eq("student_id",_).order("start_time",{ascending:!1});if(T)throw T;u(k||[])}catch(k){console.error("Lessons fetch error:",k),ye.error("Dersler yüklenirken bir hata oluştu")}},m=()=>{if(!c.length)return 0;const _=c.filter(k=>k.status==="completed").length;return Math.round(_/c.length*100)},y=async()=>{if(!o||!h){ye.error("Lütfen öğrenci seçin ve imzanızı ekleyin");return}try{i(!0);const _=s.find(R=>R.id===o);if(!_)throw new Error("Öğrenci bulunamadı");const k=c.filter(R=>R.status==="completed"),T=c.length,I=m(),O=c.reduce((R,W)=>R+1,0),L=c.reduce((R,W)=>R+W.price_per_hour,0)/c.length,N=new od({sections:[{properties:{},children:[new Te({children:[new Ee({text:"ÖĞRENCİ GELİŞİM RAPORU",bold:!0,size:32,color:"2563EB"})],alignment:ze.CENTER,spacing:{after:400}}),new Te({children:[new Ee({text:"Öğrenci Bilgileri",bold:!0,size:24})],spacing:{after:200}}),new yo({rows:[new ur({children:[new Ye({children:[new Te({children:[new Ee({text:"Ad Soyad:",bold:!0})]})],width:{size:30,type:"percentage"}}),new Ye({children:[new Te({children:[new Ee(_.full_name)]})]})]}),new ur({children:[new Ye({children:[new Te({children:[new Ee({text:"Sınıf:",bold:!0})]})]}),new Ye({children:[new Te({children:[new Ee(_.grade||"-")]})]})]})],width:{size:100,type:"percentage"}}),new Te({children:[new Ee({text:`
Genel Değerlendirme`,bold:!0,size:24})],spacing:{before:400,after:200}}),new yo({rows:[new ur({children:[new Ye({children:[new Te({children:[new Ee({text:"Toplam Ders Sayısı:",bold:!0})]})]}),new Ye({children:[new Te({children:[new Ee(T.toString())]})]})]}),new ur({children:[new Ye({children:[new Te({children:[new Ee({text:"Tamamlanan Dersler:",bold:!0})]})]}),new Ye({children:[new Te({children:[new Ee(k.length.toString())]})]})]}),new ur({children:[new Ye({children:[new Te({children:[new Ee({text:"İlerleme Oranı:",bold:!0})]})]}),new Ye({children:[new Te({children:[new Ee(`%${I}`)]})]})]}),new ur({children:[new Ye({children:[new Te({children:[new Ee({text:"Toplam Ders Saati:",bold:!0})]})]}),new Ye({children:[new Te({children:[new Ee(`${O} saat`)]})]})]})],width:{size:100,type:"percentage"}}),new Te({children:[new Ee({text:`
Ders Detayları`,bold:!0,size:24})],spacing:{before:400,after:200}}),new yo({rows:[new ur({children:["Tarih","Konu","Durum"].map(R=>new Ye({children:[new Te({children:[new Ee({text:R,bold:!0})],alignment:ze.CENTER})],verticalAlign:ze.CENTER}))}),...c.map(R=>new ur({children:[new Ye({children:[new Te({children:[new Ee(new Date(R.start_time).toLocaleDateString("tr-TR"))]})]}),new Ye({children:[new Te({children:[new Ee(R.subject)]})]}),new Ye({children:[new Te({children:[new Ee(R.status==="completed"?"Tamamlandı":R.status==="postponed"?"Ertelendi":"Planlandı")]})]})]}))],width:{size:100,type:"percentage"}}),new Te({children:[new Ee({text:`
Öğretmen Değerlendirmesi ve İmza`,bold:!0,size:24})],spacing:{before:400,after:200}}),new Te({children:[new Ee({text:p+`
`,bold:!0}),new Ee(h)],alignment:ze.RIGHT,spacing:{before:200}})]}]}),H=await al.toBlob(N),ee=`${_.full_name.replace(/\s+/g,"_")}_Rapor_${new Date().toISOString().split("T")[0]}.docx`;qo.saveAs(H,ee),ye.success("Rapor başarıyla oluşturuldu"),t()}catch(_){console.error("Report generation error:",_),ye.error("Rapor oluşturulurken bir hata oluştu")}finally{i(!1)}};return e?d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4",children:d.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-lg w-full p-6",children:d.jsx("div",{className:"flex items-center justify-center",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-500"})})})}):d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4",children:d.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-lg w-full",children:d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"bg-gradient-to-br from-indigo-100 to-purple-100 dark:from-indigo-900 dark:to-purple-900 p-2 rounded-lg",children:d.jsx(ta,{className:"h-6 w-6 text-indigo-600 dark:text-indigo-400"})}),d.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Öğrenci Raporu Oluştur"})]}),d.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300",children:d.jsx(ii,{className:"h-6 w-6"})})]}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Öğrenci"}),d.jsxs("select",{value:o,onChange:_=>l(_.target.value),className:"w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white px-4 py-2 focus:ring-2 focus:ring-indigo-500",children:[d.jsx("option",{value:"",children:"Öğrenci Seçin"}),s.map(_=>d.jsxs("option",{value:_.id,children:[_.full_name," ",_.grade?`- ${_.grade}`:""]},_.id))]})]}),o&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Toplam Ders"}),d.jsx("span",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:c.length})]})}),d.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"İlerleme"}),d.jsxs("span",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["%",m()]})]})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Öğretmen İmzası ve Değerlendirmesi"}),d.jsx("textarea",{value:h,onChange:_=>f(_.target.value),placeholder:"Öğrenci hakkında genel değerlendirmenizi yazın...",className:"w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white px-4 py-2 focus:ring-2 focus:ring-indigo-500",rows:4})]})]}),d.jsxs("div",{className:"flex justify-end space-x-4",children:[d.jsx("button",{onClick:t,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg shadow-sm hover:bg-gray-50 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-600 dark:hover:bg-gray-600",children:"İptal"}),d.jsx("button",{onClick:y,disabled:!o||!h||n,className:"flex items-center px-4 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-lg shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed",children:n?d.jsxs(d.Fragment,{children:[d.jsx(Mo,{className:"animate-spin h-5 w-5 mr-2"}),"Oluşturuluyor..."]}):d.jsxs(d.Fragment,{children:[d.jsx(ea,{className:"h-5 w-5 mr-2"}),"Rapor Oluştur"]})})]})]})]})})})}Xu.register(pp,mp,kc,Wn,Sc,Ja,vD,ND,yD,dD);const R3=()=>{const[t,e]=K.useState(!0),[r,n]=K.useState({totalIncome:0,monthlyIncome:0,yearlyIncome:0,totalLessons:0,completedLessons:0,cancelledLessons:0,totalStudents:0,activeStudents:0,paymentMethods:[],dailyIncomeData:[],monthlyIncomeData:[],lessonStatusData:[]}),[i,s]=K.useState("month"),[a,o]=K.useState({}),[l,c]=K.useState(!1),[u,h]=K.useState(!1),f=async()=>{try{e(!0);const{data:{user:w}}=await me.auth.getUser();if(!w)throw new Error("Kullanıcı bulunamadı");const{data:g}=await me.from("teacher_profiles").select("id").eq("user_id",w.id).single();if(!g)throw new Error("Öğretmen profili bulunamadı");const{data:b}=await me.from("students").select("id").eq("teacher_id",g.id);if(!b)return;const m=b.map(W=>W.id),y=i==="month"?xw(new Date):Ec(new Date),_=i==="month"?vw(new Date):nh(new Date),{data:k}=await me.from("payments").select("*").in("student_id",m).gte("payment_date",y.toISOString()).lte("payment_date",_.toISOString()),{data:T}=await me.from("lessons").select("*").in("student_id",m),I=(k||[]).reduce((W,P)=>P.status==="completed"?W+P.amount:W,0),O=(k||[]).reduce((W,P)=>P.status==="completed"&&Ew(ql(P.payment_date),{start:xw(new Date),end:vw(new Date)})?W+P.amount:W,0),L=(k||[]).reduce((W,P)=>P.status==="completed"&&Ew(ql(P.payment_date),{start:Ec(new Date),end:nh(new Date)})?W+P.amount:W,0),N=Object.entries((k||[]).reduce((W,P)=>(W[P.payment_method]||(W[P.payment_method]={count:0,total:0}),W[P.payment_method].count++,W[P.payment_method].total+=P.amount,W),{})).map(([W,P])=>({method:W,count:P.count,total:P.total})),H=GD({start:y,end:_}).map(W=>{const P=(k||[]).filter(B=>hs(ql(B.payment_date),"yyyy-MM-dd")===hs(W,"yyyy-MM-dd")&&B.status==="completed");return{date:hs(W,"dd MMM",{locale:Tw}),amount:P.reduce((B,ne)=>B+ne.amount,0)}}),ee=YD({start:Ec(new Date),end:nh(new Date)}).map(W=>{const P=(k||[]).filter(B=>hs(ql(B.payment_date),"yyyy-MM")===hs(W,"yyyy-MM")&&B.status==="completed");return{month:hs(W,"MMM",{locale:Tw}),amount:P.reduce((B,ne)=>B+ne.amount,0)}}),R=[{status:"Tamamlandı",count:(T||[]).filter(W=>W.status==="completed").length},{status:"Ertelendi",count:(T||[]).filter(W=>W.status==="postponed").length},{status:"Planlandı",count:(T||[]).filter(W=>!W.status).length}];n({totalIncome:I,monthlyIncome:O,yearlyIncome:L,totalLessons:(T==null?void 0:T.length)||0,completedLessons:(T==null?void 0:T.filter(W=>W.status==="completed").length)||0,cancelledLessons:(T==null?void 0:T.filter(W=>W.status==="cancelled").length)||0,totalStudents:b.length,activeStudents:b.length,paymentMethods:N,dailyIncomeData:H,monthlyIncomeData:ee,lessonStatusData:R})}catch(w){console.error("Rapor verileri yüklenirken hata:",w),ye.error("Rapor verileri yüklenirken bir hata oluştu")}finally{e(!1)}};K.useEffect(()=>{f()},[i]);const p=w=>{o(g=>({...g,[w]:!g[w]}))};return t?d.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-500"})}):d.jsxs("div",{className:"space-y-6",children:[d.jsx("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-lg",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-white flex items-center",children:[d.jsx(O1,{className:"h-6 w-6 mr-2 text-indigo-600 dark:text-indigo-400"}),"Finansal Raporlar"]}),d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsxs("select",{value:i,onChange:w=>s(w.target.value),className:"px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:[d.jsx("option",{value:"month",children:"Aylık"}),d.jsx("option",{value:"year",children:"Yıllık"})]}),d.jsxs("button",{onClick:()=>h(!0),className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors duration-200",children:[d.jsx(ta,{className:"h-5 w-5 mr-2"}),"Öğrenci Raporu"]}),d.jsxs("button",{onClick:()=>c(!0),className:"flex items-center px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors duration-200",children:[d.jsx(xn,{className:"h-5 w-5 mr-2"}),"Fatura Oluştur"]})]})]})}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[d.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-lg",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:i==="month"?"Aylık Gelir":"Yıllık Gelir"}),d.jsxs("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:["₺",i==="month"?r.monthlyIncome.toLocaleString("tr-TR"):r.yearlyIncome.toLocaleString("tr-TR")]})]}),d.jsx("div",{className:"bg-green-100 dark:bg-green-900 p-3 rounded-lg",children:d.jsx(Hi,{className:"h-6 w-6 text-green-600 dark:text-green-400"})})]})}),d.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-lg",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Toplam Öğrenci"}),d.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:r.totalStudents})]}),d.jsx("div",{className:"bg-blue-100 dark:bg-blue-900 p-3 rounded-lg",children:d.jsx(ni,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})})]})}),d.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-lg",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Toplam Ders"}),d.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:r.totalLessons})]}),d.jsx("div",{className:"bg-purple-100 dark:bg-purple-900 p-3 rounded-lg",children:d.jsx(Wi,{className:"h-6 w-6 text-purple-600 dark:text-purple-400"})})]})}),d.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-lg",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Tamamlanan Dersler"}),d.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:r.completedLessons})]}),d.jsx("div",{className:"bg-yellow-100 dark:bg-yellow-900 p-3 rounded-lg",children:d.jsx(Cr,{className:"h-6 w-6 text-yellow-600 dark:text-yellow-400"})})]})})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-lg",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:i==="month"?"Günlük Gelir Analizi":"Aylık Gelir Analizi"}),d.jsx("div",{className:"h-80",children:d.jsx(zD,{data:{labels:i==="month"?r.dailyIncomeData.map(w=>w.date):r.monthlyIncomeData.map(w=>w.month),datasets:[{label:"Gelir (₺)",data:i==="month"?r.dailyIncomeData.map(w=>w.amount):r.monthlyIncomeData.map(w=>w.amount),borderColor:"#6366f1",backgroundColor:"rgba(99, 102, 241, 0.1)",fill:!0,tension:.4}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0,grid:{color:"rgba(156, 163, 175, 0.1)"}},x:{grid:{display:!1}}}}})})]}),d.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-lg",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Ders Durumu Dağılımı"}),d.jsx("div",{className:"h-80",children:d.jsx(UD,{data:{labels:r.lessonStatusData.map(w=>w.status),datasets:[{data:r.lessonStatusData.map(w=>w.count),backgroundColor:["rgba(34, 197, 94, 0.8)","rgba(234, 179, 8, 0.8)","rgba(59, 130, 246, 0.8)"]}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom"}}}})})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden",children:[d.jsxs("button",{onClick:()=>p("payments"),className:"w-full px-6 py-4 flex items-center justify-between text-left",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx(z1,{className:"h-5 w-5 text-indigo-600 dark:text-indigo-400 mr-2"}),d.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Ödeme Yöntemleri Analizi"})]}),a.payments?d.jsx(js,{className:"h-5 w-5 text-gray-500"}):d.jsx(As,{className:"h-5 w-5 text-gray-500"})]}),a.payments&&d.jsx("div",{className:"p-6 border-t dark:border-gray-700",children:d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:r.paymentMethods.map(w=>d.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[d.jsx("h4",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 mb-2",children:w.method==="cash"?"Nakit":w.method==="credit_card"?"Kredi Kartı":w.method==="bank_transfer"?"Banka Transferi":"Diğer"}),d.jsxs("p",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["₺",w.total.toLocaleString("tr-TR")]}),d.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:[w.count," işlem"]})]},w.method))})})]}),d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden",children:[d.jsxs("button",{onClick:()=>p("lessons"),className:"w-full px-6 py-4 flex items-center justify-between text-left",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx(Wi,{className:"h-5 w-5 text-indigo-600 dark:text-indigo-400 mr-2"}),d.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Ders İstatistikleri"})]}),a.lessons?d.jsx(js,{className:"h-5 w-5 text-gray-500"}):d.jsx(As,{className:"h-5 w-5 text-gray-500"})]}),a.lessons&&d.jsx("div",{className:"p-6 border-t dark:border-gray-700",children:d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[d.jsx("h4",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 mb-2",children:"Toplam Ders"}),d.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:r.totalLessons})]}),d.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[d.jsx("h4",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 mb-2",children:"Tamamlanan Dersler"}),d.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:r.completedLessons})]}),d.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[d.jsx("h4",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 mb-2",children:"İptal Edilen Dersler"}),d.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:r.cancelledLessons})]})]})})]})]}),l&&d.jsx(P3,{onClose:()=>c(!1)}),u&&d.jsx(O3,{onClose:()=>h(!1)})]})},vi=["Pazartesi","Salı","Çarşamba","Perşembe","Cuma","Cumartesi","Pazar"],sc=["08:00","09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00","19:00","20:00"],D3=()=>{const[t,e]=K.useState(!0),[r,n]=K.useState([]),[i,s]=K.useState([]),[a,o]=K.useState(!1),[l,c]=K.useState(!1),[u,h]=K.useState(sc),[f,p]=K.useState({student_id:"",subject:"",day_of_week:vi[0],time_slot:sc[0]}),[w,g]=K.useState(null);K.useEffect(()=>{b()},[]);const b=async()=>{try{e(!0);const O=await Em();g(O.id);const{data:L}=await me.from("teacher_time_slots").select("time_slots").eq("teacher_id",O.id).single();L?h(L.time_slots):await me.from("teacher_time_slots").insert([{teacher_id:O.id,time_slots:sc}]),await Promise.all([m(O.id),y(O.id)])}catch(O){console.error("Schedule initialization error:",O),ye.error("Program yüklenirken bir hata oluştu")}finally{e(!1)}},m=async O=>{try{const{data:L,error:N}=await me.from("schedule").select(`
          id,
          student:students (
            id,
            full_name
          ),
          subject,
          day_of_week,
          time_slot
        `).eq("teacher_id",O).order("time_slot",{ascending:!0});if(N)throw N;n(L||[])}catch(L){console.error("Schedule fetch error:",L),ye.error("Ders programı yüklenirken bir hata oluştu")}},y=async O=>{try{const{data:L,error:N}=await me.from("students").select("id, full_name").eq("teacher_id",O).order("full_name");if(N)throw N;s(L||[])}catch(L){console.error("Students fetch error:",L),ye.error("Öğrenciler yüklenirken bir hata oluştu")}},_=async O=>{if(O.preventDefault(),!!w)try{const{data:L,error:N}=await me.from("schedule").insert([{teacher_id:w,student_id:f.student_id,subject:f.subject,day_of_week:f.day_of_week,time_slot:f.time_slot}]).select(`
          id,
          student:students (
            id,
            full_name
          ),
          subject,
          day_of_week,
          time_slot
        `).single();if(N)throw N;n([...r,L]),o(!1),p({student_id:"",subject:"",day_of_week:vi[0],time_slot:u[0]}),ye.success("Ders başarıyla eklendi")}catch(L){console.error("Lesson add error:",L),ye.error("Ders eklenirken bir hata oluştu")}},k=async O=>{if(window.confirm("Bu dersi silmek istediğinizden emin misiniz?"))try{const{error:L}=await me.from("schedule").delete().eq("id",O);if(L)throw L;n(r.filter(N=>N.id!==O)),ye.success("Ders başarıyla silindi")}catch(L){console.error("Lesson delete error:",L),ye.error("Ders silinirken bir hata oluştu")}},T=async()=>{if(w)try{const{error:O}=await me.from("teacher_time_slots").upsert({teacher_id:w,time_slots:u});if(O)throw O;c(!1),ye.success("Saat aralıkları güncellendi")}catch(O){console.error("Time slots update error:",O),ye.error("Saat aralıkları güncellenirken bir hata oluştu")}},I=async()=>{try{const O=["Saat",...vi].map(ee=>new Ye({children:[new Te({children:[new Ee({text:ee,bold:!0})],alignment:ze.CENTER})],verticalAlign:ze.CENTER})),L=u.map(ee=>{const R=[new Ye({children:[new Te({children:[new Ee({text:ee,bold:!0})],alignment:ze.CENTER})],verticalAlign:ze.CENTER}),...vi.map(W=>{const P=r.find(B=>B.day_of_week===W&&B.time_slot===ee);return new Ye({children:[new Te({children:[new Ee({text:P?`${P.student.full_name}
${P.subject}`:"",break:!0})],alignment:ze.CENTER})],verticalAlign:ze.CENTER})})];return new ur({children:R})}),N=new od({sections:[{properties:{},children:[new Te({children:[new Ee({text:"Haftalık Ders Programı",bold:!0,size:32})],alignment:ze.CENTER,spacing:{after:400}}),new yo({rows:[new ur({children:O}),...L],width:{size:100,type:"pct"},borders:{top:{style:zt.SINGLE,size:1},bottom:{style:zt.SINGLE,size:1},left:{style:zt.SINGLE,size:1},right:{style:zt.SINGLE,size:1},insideHorizontal:{style:zt.SINGLE,size:1},insideVertical:{style:zt.SINGLE,size:1}}})]}]}),H=await al.toBlob(N);qo.saveAs(H,"ders-programi.docx"),ye.success("Ders programı başarıyla indirildi")}catch(O){console.error("Export error:",O),ye.error("Ders programı dışa aktarılırken bir hata oluştu")}};return t?d.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-500"})}):d.jsxs("div",{className:"space-y-6",children:[d.jsx("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-lg",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-white flex items-center",children:[d.jsx(Zi,{className:"h-6 w-6 mr-2 text-indigo-600 dark:text-indigo-400"}),"Ders Programı"]}),d.jsxs("div",{className:"flex space-x-4",children:[d.jsxs("button",{onClick:I,className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors duration-200",children:[d.jsx(ea,{className:"h-5 w-5 mr-2"}),"Word'e Aktar"]}),d.jsxs("button",{onClick:()=>c(!0),className:"flex items-center px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600 transition-colors duration-200",children:[d.jsx(Im,{className:"h-5 w-5 mr-2"}),"Saat Ayarları"]}),d.jsxs("button",{onClick:()=>o(!0),className:"flex items-center px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors duration-200",children:[d.jsx(xn,{className:"h-5 w-5 mr-2"}),"Yeni Ders"]})]})]})}),d.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[d.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:d.jsxs("tr",{children:[d.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Saat"}),vi.map(O=>d.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:O},O))]})}),d.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:u.map(O=>d.jsxs("tr",{children:[d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:O}),vi.map(L=>{const N=r.find(H=>H.day_of_week===L&&H.time_slot===O);return d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:N&&d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:N.student.full_name}),d.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:N.subject})]}),d.jsx("button",{onClick:()=>k(N.id),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",children:d.jsx(es,{className:"h-4 w-4"})})]})},L)})]},O))})]})})}),a&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4",children:d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-md w-full p-6",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Yeni Ders Ekle"}),d.jsx("button",{onClick:()=>o(!1),className:"text-gray-400 hover:text-gray-500 dark:hover:text-gray-300",children:d.jsx(ii,{className:"h-6 w-6"})})]}),d.jsxs("form",{onSubmit:_,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Öğrenci"}),d.jsxs("select",{required:!0,value:f.student_id,onChange:O=>p({...f,student_id:O.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",children:[d.jsx("option",{value:"",children:"Öğrenci Seçin"}),i.map(O=>d.jsx("option",{value:O.id,children:O.full_name},O.id))]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Ders"}),d.jsx("input",{type:"text",required:!0,value:f.subject,onChange:O=>p({...f,subject:O.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",placeholder:"Matematik"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Gün"}),d.jsx("select",{required:!0,value:f.day_of_week,onChange:O=>p({...f,day_of_week:O.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",children:vi.map(O=>d.jsx("option",{value:O,children:O},O))})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Saat"}),d.jsx("select",{required:!0,value:f.time_slot,onChange:O=>p({...f,time_slot:O.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",children:u.map(O=>d.jsx("option",{value:O,children:O},O))})]}),d.jsxs("div",{className:"flex justify-end space-x-3",children:[d.jsx("button",{type:"button",onClick:()=>o(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-600 dark:hover:bg-gray-600",children:"İptal"}),d.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Ekle"})]})]})]})}),l&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4",children:d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-md w-full p-6",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Saat Ayarları"}),d.jsx("button",{onClick:()=>c(!1),className:"text-gray-400 hover:text-gray-500 dark:hover:text-gray-300",children:d.jsx(ii,{className:"h-6 w-6"})})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("div",{className:"flex items-center justify-between",children:d.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Ders saatlerini seçin"})}),d.jsx("div",{className:"grid grid-cols-3 gap-2",children:sc.map(O=>d.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[d.jsx("input",{type:"checkbox",checked:u.includes(O),onChange:L=>{L.target.checked?h([...u,O].sort()):h(u.filter(N=>N!==O))},className:"rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),d.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:O})]},O))}),d.jsxs("div",{className:"flex justify-end space-x-3",children:[d.jsx("button",{type:"button",onClick:()=>c(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-600 dark:hover:bg-gray-600",children:"İptal"}),d.jsx("button",{onClick:T,className:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Kaydet"})]})]})]})})]})};function I3({profile:t,onProfileUpdate:e}){const[r,n]=K.useState(!0),[i,s]=K.useState(!1),[a,o]=K.useState(!1),[l,c]=K.useState(t),[u,h]=K.useState({totalStudents:0,totalLessons:0,completedLessons:0,totalEarnings:0});K.useEffect(()=>{f(),n(!1)},[]),K.useEffect(()=>{c(t)},[t]);const f=async()=>{try{const{data:{user:g}}=await me.auth.getUser();if(!g)return;const{data:b}=await me.from("teacher_profiles").select("id").eq("user_id",g.id).single();if(!b)return;const{data:m}=await me.from("students").select("id").eq("teacher_id",b.id),{data:y}=await me.from("lessons").select("id, status, price_per_hour").in("student_id",(m==null?void 0:m.map(k=>k.id))||[]),{data:_}=await me.from("payments").select("amount").in("student_id",(m==null?void 0:m.map(k=>k.id))||[]).eq("status","completed");h({totalStudents:(m==null?void 0:m.length)||0,totalLessons:(y==null?void 0:y.length)||0,completedLessons:(y==null?void 0:y.filter(k=>k.status==="completed").length)||0,totalEarnings:(_==null?void 0:_.reduce((k,T)=>k+T.amount,0))||0})}catch(g){console.error("Stats fetch error:",g)}},p=async g=>{if(g.preventDefault(),!!l)try{s(!0);const{data:b,error:m}=await me.from("teacher_profiles").update({full_name:l.full_name,phone:l.phone,subject:l.subject}).eq("id",l.id).select().single();if(m)throw m;c(b),e(b),ye.success("Profil başarıyla güncellendi")}catch(b){console.error("Profile update error:",b),ye.error("Profil güncellenirken bir hata oluştu")}finally{s(!1)}},w=async g=>{var m;const b=(m=g.target.files)==null?void 0:m[0];if(!(!b||!l))try{if(o(!0),b.size>5*1024*1024)throw new Error("Dosya boyutu 5MB'dan küçük olmalıdır");if(!b.type.startsWith("image/"))throw new Error("Sadece resim dosyaları yüklenebilir");l.avatar_url&&await me.storage.from("avatars").remove([l.avatar_url]);const y=b.name.split(".").pop(),k=`avatars/${`${l.id}.${y}`}`,{error:T}=await me.storage.from("avatars").upload(k,b,{upsert:!0,contentType:b.type});if(T)throw T;const{data:I,error:O}=await me.from("teacher_profiles").update({avatar_url:k}).eq("id",l.id).select().single();if(O)throw O;c(I),e(I),ye.success("Profil fotoğrafı güncellendi")}catch(y){console.error("Avatar update error:",y),ye.error(y.message||"Profil fotoğrafı güncellenirken bir hata oluştu")}finally{o(!1)}};return r?d.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-500"})}):l?d.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden",children:[d.jsx("div",{className:"relative h-32 bg-gradient-to-r from-indigo-500 to-purple-500",children:d.jsx("div",{className:"absolute -bottom-12 left-8",children:d.jsx("div",{className:"relative",children:d.jsxs("div",{className:"w-24 h-24 rounded-full bg-white dark:bg-gray-700 p-1",children:[l.avatar_url?d.jsx("img",{src:`${me.storage.from("avatars").getPublicUrl(l.avatar_url).data.publicUrl}`,alt:l.full_name,className:"w-full h-full rounded-full object-cover"}):d.jsx("div",{className:"w-full h-full rounded-full bg-gray-100 dark:bg-gray-600 flex items-center justify-center",children:d.jsx(Lo,{className:"h-12 w-12 text-gray-400"})}),d.jsxs("label",{className:"absolute bottom-0 right-0 bg-indigo-600 rounded-full p-1.5 cursor-pointer hover:bg-indigo-700 transition-colors duration-200",children:[d.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:w,disabled:a}),a?d.jsx(Mo,{className:"h-4 w-4 text-white animate-spin"}):d.jsx(WC,{className:"h-4 w-4 text-white"})]})]})})})}),d.jsxs("div",{className:"pt-16 pb-6 px-8",children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:l.full_name}),d.jsxs("p",{className:"text-gray-500 dark:text-gray-400 flex items-center mt-1",children:[d.jsx(nu,{className:"h-4 w-4 mr-2"}),l.email]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[d.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"bg-indigo-100 dark:bg-indigo-900 p-3 rounded-lg",children:d.jsx(ni,{className:"h-6 w-6 text-indigo-600 dark:text-indigo-400"})}),d.jsxs("div",{className:"ml-4",children:[d.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Toplam Öğrenci"}),d.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:u.totalStudents})]})]})}),d.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"bg-green-100 dark:bg-green-900 p-3 rounded-lg",children:d.jsx(Wi,{className:"h-6 w-6 text-green-600 dark:text-green-400"})}),d.jsxs("div",{className:"ml-4",children:[d.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Toplam Ders"}),d.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:u.totalLessons})]})]})}),d.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"bg-purple-100 dark:bg-purple-900 p-3 rounded-lg",children:d.jsx(rp,{className:"h-6 w-6 text-purple-600 dark:text-purple-400"})}),d.jsxs("div",{className:"ml-4",children:[d.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Tamamlanan Ders"}),d.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:u.completedLessons})]})]})}),d.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"bg-yellow-100 dark:bg-yellow-900 p-3 rounded-lg",children:d.jsx(Hi,{className:"h-6 w-6 text-yellow-600 dark:text-yellow-400"})}),d.jsxs("div",{className:"ml-4",children:[d.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Toplam Kazanç"}),d.jsxs("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:["₺",u.totalEarnings.toLocaleString("tr-TR")]})]})]})})]}),d.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg",children:d.jsxs("div",{className:"p-6",children:[d.jsx("h2",{className:"text-lg font-medium text-gray-900 dark:text-white mb-6",children:"Profil Bilgileri"}),d.jsxs("form",{onSubmit:p,className:"space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Ad Soyad"}),d.jsx("input",{type:"text",value:l.full_name,onChange:g=>c({...l,full_name:g.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Telefon"}),d.jsx("input",{type:"tel",value:l.phone||"",onChange:g=>c({...l,phone:g.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Branş"}),d.jsx("input",{type:"text",value:l.subject||"",onChange:g=>c({...l,subject:g.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"E-posta"}),d.jsx("input",{type:"email",value:l.email||"",disabled:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm bg-gray-50 dark:bg-gray-600 dark:border-gray-500 dark:text-gray-300 cursor-not-allowed"})]})]}),d.jsx("div",{className:"flex justify-end",children:d.jsx("button",{type:"submit",disabled:i,className:"flex items-center px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:i?d.jsxs(d.Fragment,{children:[d.jsx(Mo,{className:"h-5 w-5 mr-2 animate-spin"}),"Kaydediliyor..."]}):d.jsxs(d.Fragment,{children:[d.jsx(F1,{className:"h-5 w-5 mr-2"}),"Kaydet"]})})})]})]})})]}):d.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:d.jsxs("div",{className:"text-center",children:[d.jsx(FC,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),d.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Profil Bulunamadı"}),d.jsx("p",{className:"mt-2 text-gray-500 dark:text-gray-400",children:"Profil bilgilerinize ulaşılamadı. Lütfen daha sonra tekrar deneyin."})]})})}const ms={theme:{mode:"light",primaryColor:"indigo",menuStyle:"floating"},notifications:{enabled:!0,sound:!0,desktop:!0,email:!1,types:{lessons:!0,payments:!0,students:!0,system:!0},timing:{"1_day":!0,"3_hours":!0,"1_hour":!0,"10_minutes":!0}},language:"tr",timeFormat:"24h",dataExport:{format:"json",includeStudents:!0,includeLessons:!0,includePayments:!0}};function M3(){const[t,e]=K.useState(!0),[r,n]=K.useState(!1),[i,s]=K.useState(ms),[a,o]=K.useState("notifications");K.useEffect(()=>{l()},[]);const l=async()=>{var f,p;try{const{data:{user:w}}=await me.auth.getUser();if(!w)throw new Error("Kullanıcı bulunamadı");const{data:g,error:b}=await me.from("user_settings").select("settings").eq("user_id",w.id).single();if(b&&b.code!=="PGRST116")throw b;if(g)s({...ms,...g.settings,notifications:{...ms.notifications,...g.settings.notifications,types:{...ms.notifications.types,...(f=g.settings.notifications)==null?void 0:f.types},timing:{...ms.notifications.timing,...(p=g.settings.notifications)==null?void 0:p.timing}}});else{const{error:m}=await me.from("user_settings").insert([{user_id:w.id,settings:ms}]);if(m)throw m}}catch(w){console.error("Settings fetch error:",w),ye.error("Ayarlar yüklenirken bir hata oluştu")}finally{e(!1)}},c=async()=>{try{n(!0);const{data:{user:f}}=await me.auth.getUser();if(!f)throw new Error("Kullanıcı bulunamadı");const{error:p}=await me.from("user_settings").update({settings:i}).eq("user_id",f.id);if(p)throw p;ye.success("Ayarlar başarıyla kaydedildi")}catch(f){console.error("Settings save error:",f),ye.error("Ayarlar kaydedilirken bir hata oluştu")}finally{n(!1)}},u=async()=>{var f,p;try{const{data:{user:w}}=await me.auth.getUser();if(!w)throw new Error("Kullanıcı bulunamadı");const{data:g}=await me.from("teacher_profiles").select("id").eq("user_id",w.id).single();if(!g)throw new Error("Öğretmen profili bulunamadı");let b={};if(i.dataExport.includeStudents){const{data:m}=await me.from("students").select("*").eq("teacher_id",g.id);b.students=m}if(i.dataExport.includeLessons){const{data:m}=await me.from("lessons").select("*").in("student_id",((f=b.students)==null?void 0:f.map(y=>y.id))||[]);b.lessons=m}if(i.dataExport.includePayments){const{data:m}=await me.from("payments").select("*").in("student_id",((p=b.students)==null?void 0:p.map(y=>y.id))||[]);b.payments=m}if(i.dataExport.format==="json"){const m=new Blob([JSON.stringify(b,null,2)],{type:"application/json"});qo.saveAs(m,"ozel-ders-verileri.json")}else{const m=new od({sections:[{properties:{},children:[new Te({children:[new Ee({text:"Özel Ders Verileri",bold:!0,size:32})]}),...Object.entries(b).flatMap(([_,k])=>[new Te({children:[new Ee({text:`
${_.toUpperCase()}`,bold:!0,size:24})]}),new Te({children:[new Ee({text:JSON.stringify(k,null,2),size:20})]})])]}]}),y=await al.toBlob(m);qo.saveAs(y,"ozel-ders-verileri.docx")}ye.success("Veriler başarıyla dışa aktarıldı")}catch(w){console.error("Data export error:",w),ye.error("Veriler dışa aktarılırken bir hata oluştu")}},h=f=>{o(a===f?null:f)};return t?d.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-500"})}):d.jsxs("div",{className:"space-y-6",children:[d.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-lg",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"bg-gradient-to-br from-indigo-100 to-purple-100 dark:from-indigo-900 dark:to-purple-900 p-2 rounded-lg",children:d.jsx(Im,{className:"h-6 w-6 text-indigo-600 dark:text-indigo-400"})}),d.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Sistem Ayarları"})]}),d.jsx("button",{onClick:c,disabled:r,className:"flex items-center px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:r?d.jsxs(d.Fragment,{children:[d.jsx(Mo,{className:"h-5 w-5 mr-2 animate-spin"}),"Kaydediliyor..."]}):d.jsxs(d.Fragment,{children:[d.jsx(F1,{className:"h-5 w-5 mr-2"}),"Kaydet"]})})]})}),d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden",children:[d.jsxs("button",{onClick:()=>h("theme"),className:"w-full px-6 py-4 flex items-center justify-between text-left",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"bg-gradient-to-br from-purple-100 to-pink-100 dark:from-purple-900 dark:to-pink-900 p-2 rounded-lg",children:d.jsx(QC,{className:"h-5 w-5 text-purple-600 dark:text-purple-400"})}),d.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Tema Ayarları"})]}),a==="theme"?d.jsx(js,{className:"h-5 w-5 text-gray-500"}):d.jsx(As,{className:"h-5 w-5 text-gray-500"})]}),a==="theme"&&d.jsx("div",{className:"p-6 border-t border-gray-200 dark:border-gray-700",children:d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Tema Modu"}),d.jsxs("div",{className:"flex space-x-4",children:[d.jsxs("button",{onClick:()=>s({...i,theme:{...i.theme,mode:"light"}}),className:`flex items-center px-4 py-2 rounded-lg border ${i.theme.mode==="light"?"bg-indigo-50 border-indigo-200 text-indigo-700 dark:bg-indigo-900 dark:border-indigo-700 dark:text-indigo-200":"bg-white border-gray-300 text-gray-700 dark:bg-gray-700 dark:border-gray-600 dark:text-gray-300"}`,children:[d.jsx(B1,{className:"h-5 w-5 mr-2"}),"Açık"]}),d.jsxs("button",{onClick:()=>s({...i,theme:{...i.theme,mode:"dark"}}),className:`flex items-center px-4 py-2 rounded-lg border ${i.theme.mode==="dark"?"bg-indigo-50 border-indigo-200 text-indigo-700 dark:bg-indigo-900 dark:border-indigo-700 dark:text-indigo-200":"bg-white border-gray-300 text-gray-700 dark:bg-gray-700 dark:border-gray-600 dark:text-gray-300"}`,children:[d.jsx(I1,{className:"h-5 w-5 mr-2"}),"Koyu"]})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Menü Stili"}),d.jsxs("div",{className:"flex space-x-4",children:[d.jsxs("button",{onClick:()=>s({...i,theme:{...i.theme,menuStyle:"floating"}}),className:`flex items-center px-4 py-2 rounded-lg border ${i.theme.menuStyle==="floating"?"bg-indigo-50 border-indigo-200 text-indigo-700 dark:bg-indigo-900 dark:border-indigo-700 dark:text-indigo-200":"bg-white border-gray-300 text-gray-700 dark:bg-gray-700 dark:border-gray-600 dark:text-gray-300"}`,children:[d.jsx(JC,{className:"h-5 w-5 mr-2"}),"Yüzen"]}),d.jsxs("button",{onClick:()=>s({...i,theme:{...i.theme,menuStyle:"fixed"}}),className:`flex items-center px-4 py-2 rounded-lg border ${i.theme.menuStyle==="fixed"?"bg-indigo-50 border-indigo-200 text-indigo-700 dark:bg-indigo-900 dark:border-indigo-700 dark:text-indigo-200":"bg-white border-gray-300 text-gray-700 dark:bg-gray-700 dark:border-gray-600 dark:text-gray-300"}`,children:[d.jsx(J0,{className:"h-5 w-5 mr-2"}),"Sabit"]})]})]})]})})]}),d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden",children:[d.jsxs("button",{onClick:()=>h("notifications"),className:"w-full px-6 py-4 flex items-center justify-between text-left",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"bg-gradient-to-br from-yellow-100 to-orange-100 dark:from-yellow-900 dark:to-orange-900 p-2 rounded-lg",children:d.jsx(R1,{className:"h-5 w-5 text-yellow-600 dark:text-yellow-400"})}),d.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Bildirim Ayarları"})]}),a==="notifications"?d.jsx(js,{className:"h-5 w-5 text-gray-500"}):d.jsx(As,{className:"h-5 w-5 text-gray-500"})]}),a==="notifications"&&d.jsx("div",{className:"p-6 border-t border-gray-200 dark:border-gray-700",children:d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(zC,{className:"h-5 w-5 text-gray-400"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Bildirimleri Etkinleştir"}),d.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Tüm sistem bildirimlerini aç/kapat"})]})]}),d.jsx("button",{onClick:()=>s({...i,notifications:{...i.notifications,enabled:!i.notifications.enabled}}),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors duration-200 focus:outline-none ${i.notifications.enabled?"bg-indigo-600":"bg-gray-200 dark:bg-gray-700"}`,children:d.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform duration-200 ${i.notifications.enabled?"translate-x-6":"translate-x-1"}`})})]}),i.notifications.enabled&&d.jsxs("div",{className:"space-y-4 pl-8",children:[d.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4",children:[d.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Bildirim Türleri"}),d.jsx("div",{className:"space-y-3",children:Object.entries(i.notifications.types).map(([f,p])=>d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[f==="lessons"&&d.jsx(Wi,{className:"h-4 w-4 text-gray-400"}),f==="payments"&&d.jsx(Hi,{className:"h-4 w-4 text-gray-400"}),f==="students"&&d.jsx(ni,{className:"h-4 w-4 text-gray-400"}),f==="system"&&d.jsx(eP,{className:"h-4 w-4 text-gray-400"}),d.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:f==="lessons"?"Ders Bildirimleri":f==="payments"?"Ödeme Bildirimleri":f==="students"?"Öğrenci Bildirimleri":"Sistem Bildirimleri"})]}),d.jsx("button",{onClick:()=>s({...i,notifications:{...i.notifications,types:{...i.notifications.types,[f]:!p}}}),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors duration-200 focus:outline-none ${p?"bg-indigo-600":"bg-gray-200 dark:bg-gray-700"}`,children:d.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform duration-200 ${p?"translate-x-6":"translate-x-1"}`})})]},f))})]}),d.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4",children:[d.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Bildirim Zamanlaması"}),d.jsx("div",{className:"space-y-3",children:Object.entries(i.notifications.timing).map(([f,p])=>d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(Zi,{className:"h-4 w-4 text-gray-400"}),d.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:f==="1_day"?"Bir gün önce":f==="3_hours"?"Üç saat önce":f==="1_hour"?"Bir saat önce":"On dakika önce"})]}),d.jsx("button",{onClick:()=>s({...i,notifications:{...i.notifications,timing:{...i.notifications.timing,[f]:!p}}}),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors duration-200 focus:outline-none ${p?"bg-indigo-600":"bg-gray-200 dark:bg-gray-700"}`,children:d.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform duration-200 ${p?"translate-x-6":"translate-x-1"}`})})]},f))})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(sP,{className:"h-5 w-5 text-gray-400"}),d.jsx("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Ses Bildirimleri"})]}),d.jsx("button",{onClick:()=>s({...i,notifications:{...i.notifications,sound:!i.notifications.sound}}),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors duration-200 focus:outline-none ${i.notifications.sound?"bg-indigo-600":"bg-gray-200 dark:bg-gray-700"}`,children:d.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform duration-200 ${i.notifications.sound?"translate-x-6":"translate-x-1"}`})})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(J0,{className:"h-5 w-5 text-gray-400"}),d.jsx("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Masaüstü Bildirimleri"})]}),d.jsx("button",{onClick:()=>s({...i,notifications:{...i.notifications,desktop:!i.notifications.desktop}}),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors duration-200 focus:outline-none ${i.notifications.desktop?"bg-indigo-600":"bg-gray-200 dark:bg-gray-700"}`,children:d.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform duration-200 ${i.notifications.desktop?"translate-x-6":"translate-x-1"}`})})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(nu,{className:"h-5 w-5 text-gray-400"}),d.jsx("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"E-posta Bildirimleri"})]}),d.jsx("button",{onClick:()=>s({...i,notifications:{...i.notifications,email:!i.notifications.email}}),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors duration-200 focus:outline-none ${i.notifications.email?"bg-indigo-600":"bg-gray-200 dark:bg-gray-700"}`,children:d.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform duration-200 ${i.notifications.email?"translate-x-6":"translate-x-1"}`})})]})]})]})]})})]}),d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden",children:[d.jsxs("button",{onClick:()=>h("general"),className:"w-full px-6 py-4 flex items-center justify-between text-left",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"bg-gradient-to-br from-blue-100 to-cyan-100 dark:from-blue-900 dark:to-cyan-900 p-2 rounded-lg",children:d.jsx(GC,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),d.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Genel Ayarlar"})]}),a==="general"?d.jsx(js,{className:"h-5 w-5 text-gray-500"}):d.jsx(As,{className:"h-5 w-5 text-gray-500"})]}),a==="general"&&d.jsx("div",{className:"p-6 border-t border-gray-200 dark:border-gray-700",children:d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Dil"}),d.jsxs("select",{value:i.language,onChange:f=>s({...i,language:f.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",children:[d.jsx("option",{value:"tr",children:"Türkçe"}),d.jsx("option",{value:"en",children:"English"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Saat Formatı"}),d.jsxs("div",{className:"flex space-x-4",children:[d.jsxs("button",{onClick:()=>s({...i,timeFormat:"12h"}),className:`flex items-center px-4 py-2 rounded-lg border ${i.timeFormat==="12h"?"bg-indigo-50 border-indigo-200 text-indigo-700 dark:bg-indigo-900 dark:border-indigo-700 dark:text-indigo-200":"bg-white border-gray-300 text-gray-700 dark:bg-gray-700 dark:border-gray-600 dark:text-gray-300"}`,children:[d.jsx(Cr,{className:"h-5 w-5 mr-2"}),"12 Saat"]}),d.jsxs("button",{onClick:()=>s({...i,timeFormat:"24h"}),className:`flex items-center px-4 py-2 rounded-lg border ${i.timeFormat==="24h"?"bg-indigo-50 border-indigo-200 text-indigo-700 dark:bg-indigo-900 dark:border-indigo-700 dark:text-indigo-200":"bg-white border-gray-300 text-gray-700 dark:bg-gray-700 dark:border-gray-600 dark:text-gray-300"}`,children:[d.jsx(Cr,{className:"h-5 w-5 mr-2"}),"24 Saat"]})]})]})]})})]}),d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden",children:[d.jsxs("button",{onClick:()=>h("export"),className:"w-full px-6 py-4 flex items-center justify-between text-left",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"bg-gradient-to-br from-green -100 to-emerald-100 dark:from-green-900 dark:to-emerald-900 p-2 rounded-lg",children:d.jsx(ea,{className:"h-5 w-5 text-green-600 dark:text-green-400"})}),d.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Veri Dışa Aktarma"})]}),a==="export"?d.jsx(js,{className:"h-5 w-5 text-gray-500"}):d.jsx(As,{className:"h-5 w-5 text-gray-500"})]}),a==="export"&&d.jsx("div",{className:"p-6 border-t border-gray-200 dark:border-gray-700",children:d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Dosya Formatı"}),d.jsxs("div",{className:"flex space-x-4",children:[d.jsxs("button",{onClick:()=>s({...i,dataExport:{...i.dataExport,format:"json"}}),className:`flex items-center px-4 py-2 rounded-lg border ${i.dataExport.format==="json"?"bg-indigo-50 border-indigo-200 text-indigo-700 dark:bg-indigo-900 dark:border-indigo-700 dark:text-indigo-200":"bg-white border-gray-300 text-gray-700 dark:bg-gray-700 dark:border-gray-600 dark:text-gray-300"}`,children:[d.jsx(KC,{className:"h-5 w-5 mr-2"}),"JSON"]}),d.jsxs("button",{onClick:()=>s({...i,dataExport:{...i.dataExport,format:"docx"}}),className:`flex items-center px-4 py-2 rounded-lg border ${i.dataExport.format==="docx"?"bg-indigo-50 border-indigo-200 text-indigo-700 dark:bg-indigo-900 dark:border-indigo-700 dark:text-indigo-200":"bg-white border-gray-300 text-gray-700 dark:bg-gray-700 dark:border-gray-600 dark:text-gray-300"}`,children:[d.jsx(ta,{className:"h-5 w-5 mr-2"}),"DOCX"]})]})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Dahil Edilecek Veriler"}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Öğrenci Verileri"}),d.jsx("button",{onClick:()=>s({...i,dataExport:{...i.dataExport,includeStudents:!i.dataExport.includeStudents}}),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors duration-200 focus:outline-none ${i.dataExport.includeStudents?"bg-indigo-600":"bg-gray-200 dark:bg-gray-700"}`,children:d.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform duration-200 ${i.dataExport.includeStudents?"translate-x-6":"translate-x-1"}`})})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Ders Verileri"}),d.jsx("button",{onClick:()=>s({...i,dataExport:{...i.dataExport,includeLessons:!i.dataExport.includeLessons}}),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors duration-200 focus:outline-none ${i.dataExport.includeLessons?"bg-indigo-600":"bg-gray-200 dark:bg-gray-700"}`,children:d.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform duration-200 ${i.dataExport.includeLessons?"translate-x-6":"translate-x-1"}`})})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Ödeme Verileri"}),d.jsx("button",{onClick:()=>s({...i,dataExport:{...i.dataExport,includePayments:!i.dataExport.includePayments}}),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors duration-200 focus:outline-none ${i.dataExport.includePayments?"bg-indigo-600":"bg-gray-200 dark:bg-gray-700"}`,children:d.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform duration-200 ${i.dataExport.includePayments?"translate-x-6":"translate-x-1"}`})})]})]})]}),d.jsx("div",{className:"flex justify-end",children:d.jsxs("button",{onClick:u,className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-colors duration-200",children:[d.jsx(ea,{className:"h-5 w-5 mr-2"}),"Verileri Dışa Aktar"]})})]})})]})]})}const Mv=["Pazartesi","Salı","Çarşamba","Perşembe","Cuma","Cumartesi","Pazar"],L3=Array.from({length:7},(t,e)=>`${e+17}:00`);function F3({onClose:t,onSuccess:e,initialData:r}){const[n,i]=K.useState(!1),[s,a]=K.useState(null),[o,l]=K.useState({full_name:(r==null?void 0:r.full_name)||"",grade:(r==null?void 0:r.grade)||"",phone:(r==null?void 0:r.phone)||"",parent_name:(r==null?void 0:r.parent_name)||"",parent_phone:(r==null?void 0:r.parent_phone)||""}),[c,u]=K.useState([]);K.useEffect(()=>{(async()=>{try{const{data:{user:b}}=await me.auth.getUser();if(!b)throw new Error("Kullanıcı bulunamadı");const{data:m,error:y}=await me.from("teacher_profiles").select("id").eq("user_id",b.id).single();if(y)throw y;if(!m)throw new Error("Öğretmen profili bulunamadı");if(a(m.id),r){const{data:_,error:k}=await me.from("lessons").select("*").eq("student_id",r.id);if(k)throw k;u(_.map(T=>({subject:T.subject,day_of_week:T.day_of_week,start_time:T.start_time.substring(0,5),price_per_hour:T.price_per_hour.toString()})))}}catch(b){ye.error("Profil bilgileri alınamadı: "+b.message),t()}})()},[t,r]);const h=async g=>{if(g.preventDefault(),!s){ye.error("Öğretmen profili bulunamadı");return}i(!0);try{let b=r==null?void 0:r.id;if(r){const{error:m}=await me.from("students").update(o).eq("id",r.id);if(m)throw m}else{const{data:m,error:y}=await me.from("students").insert([{...o,teacher_id:s}]).select().single();if(y)throw y;b=m.id}if(r){const{error:m}=await me.from("lessons").delete().eq("student_id",b);if(m)throw m}if(c.length>0){const{error:m}=await me.from("lessons").insert(c.map(y=>({student_id:b,subject:y.subject,day_of_week:y.day_of_week,start_time:y.start_time+":00",price_per_hour:parseFloat(y.price_per_hour)})));if(m)throw m}ye.success(r?"Öğrenci başarıyla güncellendi":"Öğrenci başarıyla eklendi"),e(),t()}catch(b){ye.error(b.message)}finally{i(!1)}},f=()=>{u([...c,{subject:"",day_of_week:Mv[0],start_time:"17:00",price_per_hour:""}])},p=g=>{u(c.filter((b,m)=>m!==g))},w=(g,b,m)=>{const y=[...c];y[g]={...y[g],[b]:m},u(y)};return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 overflow-y-auto",children:d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl max-w-4xl w-full my-8 relative transform transition-all",children:[d.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-xl blur opacity-30"}),d.jsxs("div",{className:"relative bg-white dark:bg-gray-800 rounded-xl",children:[d.jsxs("div",{className:"flex items-center justify-between p-6 border-b dark:border-gray-700",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"bg-gradient-to-br from-indigo-100 to-purple-100 dark:from-indigo-900 dark:to-purple-900 p-2 rounded-lg",children:d.jsx(ya,{className:"h-6 w-6 text-indigo-600 dark:text-indigo-400"})}),d.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:r?"Öğrenci Düzenle":"Yeni Öğrenci Ekle"})]}),d.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300 transition-colors duration-200",children:d.jsx(ii,{className:"h-6 w-6"})})]}),d.jsxs("form",{onSubmit:h,className:"p-6 space-y-8",children:[d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[d.jsx("div",{className:"bg-gradient-to-br from-blue-100 to-indigo-100 dark:from-blue-900 dark:to-indigo-900 p-2 rounded-lg",children:d.jsx(ni,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),d.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Öğrenci Bilgileri"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Ad Soyad"}),d.jsx("input",{type:"text",required:!0,value:o.full_name,onChange:g=>l({...o,full_name:g.target.value}),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white text-sm transition-colors duration-200"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Sınıf"}),d.jsx("input",{type:"text",value:o.grade,onChange:g=>l({...o,grade:g.target.value}),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white text-sm transition-colors duration-200"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Telefon"}),d.jsx("input",{type:"tel",value:o.phone,onChange:g=>l({...o,phone:g.target.value}),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white text-sm transition-colors duration-200"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Veli Adı"}),d.jsx("input",{type:"text",value:o.parent_name,onChange:g=>l({...o,parent_name:g.target.value}),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white text-sm transition-colors duration-200"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Veli Telefonu"}),d.jsx("input",{type:"tel",value:o.parent_phone,onChange:g=>l({...o,parent_phone:g.target.value}),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white text-sm transition-colors duration-200"})]})]})]}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"bg-gradient-to-br from-green-100 to-emerald-100 dark:from-green-900 dark:to-emerald-900 p-2 rounded-lg",children:d.jsx(Cr,{className:"h-5 w-5 text-green-600 dark:text-green-400"})}),d.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Ders Programı"})]}),d.jsxs("button",{type:"button",onClick:f,className:"inline-flex items-center px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-all duration-200 shadow-md hover:shadow-lg transform hover:-translate-y-0.5",children:[d.jsx(xn,{className:"h-5 w-5 mr-2"}),"Ders Ekle"]})]}),d.jsxs("div",{className:"space-y-4",children:[c.map((g,b)=>d.jsxs("div",{className:"relative group bg-gray-50 dark:bg-gray-700 rounded-xl p-6 transform transition-all duration-200 hover:shadow-md",children:[d.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-indigo-50 to-purple-50 dark:from-indigo-900/20 dark:to-purple-900/20 opacity-0 group-hover:opacity-100 rounded-xl transition-opacity duration-200"}),d.jsx("div",{className:"relative",children:d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsxs("label",{className:"flex items-center text-sm font-medium text-gray-700 dark:text-gray-300",children:[d.jsx(Wi,{className:"h-4 w-4 mr-2"}),"Ders"]}),d.jsx("input",{type:"text",required:!0,value:g.subject,onChange:m=>w(b,"subject",m.target.value),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white text-sm transition-colors duration-200",placeholder:"Matematik"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("label",{className:"flex items-center text-sm font-medium text-gray-700 dark:text-gray-300",children:[d.jsx(Zi,{className:"h-4 w-4 mr-2"}),"Gün"]}),d.jsx("select",{value:g.day_of_week,onChange:m=>w(b,"day_of_week",m.target.value),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white text-sm transition-colors duration-200",children:Mv.map(m=>d.jsx("option",{value:m,children:m},m))})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("label",{className:"flex items-center text-sm font-medium text-gray-700 dark:text-gray-300",children:[d.jsx(Cr,{className:"h-4 w-4 mr-2"}),"Saat"]}),d.jsx("select",{value:g.start_time,onChange:m=>w(b,"start_time",m.target.value),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white text-sm transition-colors duration-200",children:L3.map(m=>d.jsx("option",{value:m,children:m},m))})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("label",{className:"flex items-center text-sm font-medium text-gray-700 dark:text-gray-300",children:[d.jsx(ru,{className:"h-4 w-4 mr-2"}),"Saat Ücreti (₺)"]}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"number",required:!0,value:g.price_per_hour,onChange:m=>w(b,"price_per_hour",m.target.value),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white text-sm transition-colors duration-200",placeholder:"150"}),d.jsx("button",{type:"button",onClick:()=>p(b),className:"absolute right-0 top-0 p-2 text-red-600 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300 transition-colors duration-200",children:d.jsx(es,{className:"h-5 w-5"})})]})]})]})})]},b)),c.length===0&&d.jsxs("div",{className:"text-center py-12 bg-gray-50 dark:bg-gray-700 rounded-xl",children:[d.jsx(Cr,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),d.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Henüz ders eklenmemiş"}),d.jsxs("button",{type:"button",onClick:f,className:"mt-4 inline-flex items-center px-4 py-2 text-sm font-medium text-indigo-600 bg-indigo-100 border border-transparent rounded-md hover:bg-indigo-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 dark:bg-indigo-900 dark:text-indigo-300 dark:hover:bg-indigo-800",children:[d.jsx(xn,{className:"h-4 w-4 mr-2"}),"İlk Dersi Ekle"]})]})]})]}),d.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t dark:border-gray-700",children:[d.jsx("button",{type:"button",onClick:t,className:"px-6 py-2.5 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-600 dark:hover:bg-gray-600 transition-colors duration-200",children:"İptal"}),d.jsx("button",{type:"submit",disabled:n||!s,className:"px-6 py-2.5 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-lg shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transform hover:-translate-y-0.5 transition-all duration-200",children:n?"Kaydediliyor...":r?"Güncelle":"Ekle"})]})]})]})]})})}function Lv(){return d.jsx("footer",{className:"bg-white dark:bg-gray-800 shadow-lg mt-8",children:d.jsx("div",{className:"max-w-7xl mx-auto py-4 px-4 sm:px-6 lg:px-8",children:d.jsxs("p",{className:"text-center text-sm text-gray-500 dark:text-gray-400",children:["Copyright © ",new Date().getFullYear()," Ahmet Toprak. Tüm hakları saklıdır."]})})})}function B3(){const[t,e]=K.useState(!1),[r,n]=K.useState(!1),[i,s]=K.useState(!0),[a,o]=K.useState({email:"",password:""}),[l,c]=K.useState({email:"",password:"",fullName:"",phone:"",subject:""}),[u,h]=K.useState(()=>{const O=localStorage.getItem("darkMode");return O?JSON.parse(O):!1}),[f,p]=K.useState(null),[w,g]=K.useState(!1),[b,m]=K.useState(null),[y,_]=K.useState("dashboard");K.useEffect(()=>{u?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("darkMode",JSON.stringify(u))},[u]),K.useEffect(()=>{(async()=>{try{const{data:{session:L}}=await me.auth.getSession();L?(e(!0),await k(L.user.id)):(e(!1),p(null));const{data:{subscription:N}}=me.auth.onAuthStateChange(async(H,ee)=>{ee?(e(!0),await k(ee.user.id)):(e(!1),p(null))});return()=>N.unsubscribe()}catch(L){console.error("Auth initialization error:",L),ye.error("Oturum başlatılırken bir hata oluştu")}finally{s(!1)}})()},[]);const k=async O=>{try{const{data:L,error:N}=await me.from("teacher_profiles").select("*").eq("user_id",O).single();if(N)if(N.code==="PGRST116"){const{data:H,error:ee}=await me.from("teacher_profiles").insert([{user_id:O,full_name:"Yeni Öğretmen",created_at:new Date().toISOString()}]).select().single();if(ee)throw ee;p(H)}else throw N;else p(L)}catch(L){console.error("Profile fetch error:",L),ye.error("Profil bilgileri alınamadı")}},T=async O=>{O.preventDefault(),s(!0);try{const{error:L}=await me.auth.signInWithPassword({email:a.email,password:a.password});if(L)throw L;ye.success("Giriş başarılı!")}catch(L){ye.error(L.message),s(!1)}},I=async O=>{O.preventDefault(),s(!0);try{const{error:L}=await me.auth.signUp({email:l.email,password:l.password,options:{data:{full_name:l.fullName,phone:l.phone,subject:l.subject}}});if(L)throw L;ye.success("Kayıt başarılı! Email adresinizi kontrol edin.")}catch(L){ye.error(L.message)}finally{s(!1)}};return i?d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 dark:bg-gray-900",children:d.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-500"}),d.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Yükleniyor..."})]})}):t?d.jsxs("div",{className:`min-h-screen bg-gray-100 dark:bg-gray-900 ${u?"dark":""} flex flex-col`,children:[d.jsx(lP,{darkMode:u,toggleDarkMode:()=>h(!u),profile:f,onLogout:async()=>{await me.auth.signOut(),e(!1),p(null)},onAddStudent:()=>{m(null),g(!0)},activeSection:y,onSectionChange:_}),d.jsxs("main",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8 flex-1",children:[y==="dashboard"&&d.jsx(cP,{}),y==="students"&&d.jsx(uP,{onEditStudent:O=>{m(O),g(!0)}}),y==="lessons"&&d.jsx(dP,{}),y==="payments"&&d.jsx(hP,{}),y==="reports"&&d.jsx(R3,{}),y==="schedule"&&d.jsx(D3,{}),y==="profile"&&d.jsx(I3,{profile:f,onProfileUpdate:O=>{p(O)}}),y==="settings"&&d.jsx(M3,{})]}),w&&d.jsx(F3,{onClose:()=>{g(!1),m(null)},onSuccess:()=>{g(!1),m(null)},initialData:b}),d.jsx(Lv,{})]}):d.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-purple-50 to-pink-50 dark:from-gray-900 dark:via-indigo-950 dark:to-purple-950 flex flex-col justify-between",children:[d.jsxs("div",{className:"flex-1 flex items-center justify-center p-4 relative overflow-hidden",children:[d.jsx("div",{className:"absolute top-0 -left-4 w-72 h-72 bg-purple-300 dark:bg-purple-900 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob"}),d.jsx("div",{className:"absolute top-0 -right-4 w-72 h-72 bg-indigo-300 dark:bg-indigo-900 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob animation-delay-2000"}),d.jsx("div",{className:"absolute -bottom-8 left-20 w-72 h-72 bg-pink-300 dark:bg-pink-900 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob"}),d.jsxs("div",{className:"max-w-md w-full bg-white/80 dark:bg-gray-800/80 backdrop-blur-lg rounded-2xl shadow-2xl p-8 relative z-10 transform transition-all duration-500 ease-in-out",children:[d.jsx("div",{className:"flex justify-center mb-8",children:d.jsx("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-500 p-3 rounded-xl shadow-lg transform hover:scale-110 transition-transform duration-200",children:d.jsx(ya,{className:"h-8 w-8 text-white"})})}),d.jsx("h2",{className:"text-2xl font-bold text-center text-gray-900 dark:text-white mb-8",children:r?"Hesap Oluşturun":"Giriş Yapın"}),d.jsxs("form",{onSubmit:r?I:T,className:"space-y-6",children:[r?d.jsxs(d.Fragment,{children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Ad Soyad"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"text",required:!0,value:l.fullName,onChange:O=>c({...l,fullName:O.target.value}),className:"appearance-none block w-full px-3 py-2 pl-10 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700/50 dark:text-white backdrop-blur-sm transition-all duration-200",placeholder:"John Doe"}),d.jsx(Lo,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Telefon"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"tel",required:!0,value:l.phone,onChange:O=>c({...l,phone:O.target.value}),className:"appearance-none block w-full px-3 py-2 pl-10 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700/50 dark:text-white backdrop-blur-sm transition-all duration-200",placeholder:"+90 555 123 4567"}),d.jsx(L1,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Branş"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"text",required:!0,value:l.subject,onChange:O=>c({...l,subject:O.target.value}),className:"appearance-none block w-full px-3 py-2 pl-10 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700/50 dark:text-white backdrop-blur-sm transition-all duration-200",placeholder:"Matematik"}),d.jsx(Wi,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"email",required:!0,value:l.email,onChange:O=>c({...l,email:O.target.value}),className:"appearance-none block w-full px-3 py-2 pl-10 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700/50 dark:text-white backdrop-blur-sm transition-all duration-200",placeholder:"ornek@email.com"}),d.jsx(nu,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Şifre"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"password",required:!0,value:l.password,onChange:O=>c({...l,password:O.target.value}),className:"appearance-none block w-full px-3 py-2 pl-10 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700/50 dark:text-white backdrop-blur-sm transition-all duration-200",placeholder:"********"}),d.jsx(Q0,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})]})]}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"email",required:!0,value:a.email,onChange:O=>o({...a,email:O.target.value}),className:"appearance-none block w-full px-3 py-2 pl-10 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700/50 dark:text-white backdrop-blur-sm transition-all duration-200",placeholder:"ornek@email.com"}),d.jsx(nu,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Şifre"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"password",required:!0,value:a.password,onChange:O=>o({...a,password:O.target.value}),className:"appearance-none block w-full px-3 py-2 pl-10 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700/50 dark:text-white backdrop-blur-sm transition-all duration-200",placeholder:"********"}),d.jsx(Q0,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})]})]}),d.jsx("button",{type:"submit",disabled:i,className:"w-full flex justify-center items-center py-2.5 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transform hover:scale-105 transition-all duration-200",children:i?d.jsxs(d.Fragment,{children:[d.jsx(Mo,{className:"animate-spin h-5 w-5 mr-2"}),"İşleniyor..."]}):d.jsxs(d.Fragment,{children:[r?"Kayıt Ol":"Giriş Yap",d.jsx(BC,{className:"ml-2 h-5 w-5"})]})})]}),d.jsx("div",{className:"mt-6",children:d.jsxs("button",{onClick:()=>{n(!r),o({email:"",password:""}),c({email:"",password:"",fullName:"",phone:"",subject:""})},className:"w-full flex items-center justify-center text-sm text-indigo-600 dark:text-indigo-400 hover:text-indigo-500 transition-colors duration-200",children:[d.jsx(HC,{className:"h-4 w-4 mr-1"}),r?"Zaten hesabınız var mı? Giriş yapın":"Hesabınız yok mu? Kayıt olun"]})})]})]}),d.jsx(Lv,{})]})}const z3=Xb(document.getElementById("root"));z3.render(d.jsxs(K.StrictMode,{children:[d.jsx(B3,{}),d.jsx(pN,{position:"top-right",toastOptions:{duration:3e3,style:{background:"#363636",color:"#fff"},success:{duration:3e3,iconTheme:{primary:"#4ade80",secondary:"#fff"}},error:{duration:4e3,iconTheme:{primary:"#ef4444",secondary:"#fff"}}}})]}));export{Qk as g};
